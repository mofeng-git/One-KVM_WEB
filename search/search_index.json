{"config":{"lang":["zh","en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u4ecb\u7ecd","text":""},{"location":"#_1","title":"\u9879\u76ee\u7b80\u4ecb","text":"<p>One-KVM \u662f\u57fa\u4e8e\u5ec9\u4ef7\u8ba1\u7b97\u673a\u786c\u4ef6\u548c PiKVM \u8f6f\u4ef6\u4e8c\u6b21\u5f00\u53d1\u7684 BIOS \u7ea7\u8fdc\u7a0b\u63a7\u5236\u9879\u76ee\u3002\u53ef\u4ee5\u5b9e\u73b0\u8fdc\u7a0b\u7ba1\u7406\u670d\u52a1\u5668\u6216\u5de5\u4f5c\u7ad9\uff0c\u65e0\u9700\u5728\u88ab\u63a7\u673a\u5b89\u88c5\u8f6f\u4ef6\u8c03\u6574\u8bbe\u7f6e\uff0c\u5b9e\u73b0\u65e0\u4fb5\u5165\u5f0f\u63a7\u5236\uff0c\u9002\u7528\u8303\u56f4\u5e7f\u6cdb\u3002</p> <ul> <li> <p> \u5b89\u88c5\u8fc5\u901f</p> <p>\u4f7f\u7528 Docker \u6216\u6574\u5408\u5305\uff0c\u5373\u523b\u5b8c\u6210\u90e8\u7f72\uff0c\u5f00\u7bb1\u5373\u7528</p> </li> <li> <p> \u975e\u4fb5\u5165\u5f0f\u63a7\u5236</p> <p>\u65e0\u9700\u5728\u88ab\u63a7\u673a\u5b89\u88c5\u8f6f\u4ef6\uff0c\u5b9e\u73b0\u975e\u4fb5\u5165\u5f0f\u63a7\u5236</p> </li> <li> <p> \u529f\u80fd\u4e30\u5bcc</p> <p>KVM \u8fdc\u7a0b\u63a7\u5236\u3001ATX \u7535\u6e90\u7ba1\u7406\u3001 USB \u865a\u62df\u5916\u8bbe\u3001VNC\u3001H.264/WebRTC \u7b49</p> </li> <li> <p> \u5f00\u6e90\u5f00\u653e</p> <p>\u57fa\u4e8e PiKVM\uff0c\u4ee5 GPLv3 \u5f00\u6e90\u8bb8\u53ef\u8bc1\u5728 GitHub \u5f00\u6e90 </p> </li> </ul>"},{"location":"#_2","title":"\u5728\u7ebf\u4f53\u9a8c","text":"<p>\u6f14\u793a\u7f51\u7ad9\uff1ahttps://kvmd-demo.mofeng.run</p> <p></p>"},{"location":"#_3","title":"\u6280\u672f\u652f\u6301","text":"<p>BUG \u53cd\u9988\u3001\u4f7f\u7528\u4ea4\u6d41\u548c\u514d\u8d39\u6280\u672f\u652f\u6301</p> <ul> <li> <p>Github Issue\uff1ahttps://github.com/mofeng-git/One-KVM/issues</p> </li> <li> <p>QQ \u4ea4\u6d41\u7fa4\uff1a569514148</p> </li> </ul> <p>\u6210\u54c1\u786c\u4ef6\u5957\u88c5</p> <p>\u4f5c\u8005\u65f6\u95f4\u80fd\u529b\u6709\u9650\uff0c\u5f53\u524d\u6ca1\u6709\u51fa\u552e\u4efb\u4f55\u786c\u4ef6\u5957\u88c5\u3002\u5982\u6709\u9700\u8981\uff0c\u53ef\u81ea\u884c\u5b89\u88c5\u6216\u5728\u8d2d\u7269\u5e73\u53f0\u8d2d\u4e70\u5176\u4ed6\u5546\u5bb6\u7684\u6210\u54c1\u3002</p> <p>\u8fdc\u65b9 \u957f\u671f\u8d5e\u52a9\u4f5c\u8005\uff0c\u5982\u9700\u8981\u6210\u54c1\u786c\u4ef6\u5957\u88c5\u4e5f\u53ef\u4ee5\u770b\u770b\u4ed6\u7684\u5e97\u94fa\uff08\u95f2\u9c7c\u7528\u6237\u540d\uff1a\u5c0f\u8fdc\u6280\u672f\u5e97\u94fa\uff09\u3002</p>"},{"location":"#_4","title":"\u6587\u4ef6\u4e0b\u8f7d","text":"<p>\u514d\u767b\u5f55\u9ad8\u901f\u4e0b\u8f7d\u5730\u5740\uff1ahttps://pan.huang1111.cn/s/mxkx3T1 \uff08\u7531 Huang1111\u516c\u76ca\u8ba1\u5212 \u8d5e\u52a9\uff09</p> <p>\u767e\u5ea6\u7f51\u76d8\uff08\u9700\u767b\u5f55\uff09\uff1ahttps://pan.baidu.com/s/166-2Y8PBF4SbHXFkGmFJYg?pwd=o9a </p>"},{"location":"#_5","title":"\u8d5e\u52a9\u65b9\u5f0f","text":"<p>\u5982\u679c One-KVM \u5bf9\u4f60\u6709\u5e2e\u52a9\uff0c\u6b22\u8fce\u8d5e\u52a9\u4f5c\u8005\uff0c\u4ee5\u652f\u6301\u4f5c\u8005\u7ee7\u7eed\u5f00\u53d1\u548c\u7ef4\u62a4\u6b64\u9879\u76ee\u3002</p> <p>\u4e3a\u7231\u53d1\u7535</p>"},{"location":"#_6","title":"\u9879\u76ee\u72b6\u6001","text":""},{"location":"prepare/","title":"\u5199\u5728\u524d\u9762","text":""},{"location":"prepare/#_1","title":"\u5de5\u4f5c\u539f\u7406","text":""},{"location":"prepare/#_2","title":"\u8f6f\u4ef6\u529f\u80fd","text":"<p>\u8868\u683c\u4ec5\u4e3a One-KVM \u4e0e\u5176\u4ed6\u57fa\u4e8e PiKVM \u7684\u9879\u76ee\u7684\u529f\u80fd\u5bf9\u6bd4\uff0c\u65e0\u4e0d\u826f\u5bfc\u5411\uff0c\u5982\u6709\u9519\u6f0f\u8bf7\u8054\u7cfb\u66f4\u6b63\u3002</p> \u529f\u80fd One-KVM PiKVM ArmKVM BLIKVM \u7cfb\u7edf\u5f00\u6e90 \u221a \u221a \u221a \u221a \u7b80\u4f53\u4e2d\u6587 WebUI \u221a x \u221a \u221a \u8fdc\u7a0b\u89c6\u9891\u6d41 MJPEG/H.264 MJPEG/H.264 MJPEG/H.264 MJPEG/H.264 H.264 \u89c6\u9891\u7f16\u7801 CPU GPU \u672a\u77e5 GPU \u8fdc\u7a0b\u97f3\u9891\u6d41 \u221a \u221a \u221a \u221a \u8fdc\u7a0b\u9f20\u952e\u63a7\u5236 OTG/CH9329 OTG/CH9329/Pico/Bluetooth OTG OTG VNC \u63a7\u5236 \u221a \u221a \u221a \u221a ATX \u7535\u6e90\u63a7\u5236 GPIO/USB \u7ee7\u7535\u5668 GPIO GPIO GPIO \u865a\u62df\u5b58\u50a8\u9a71\u52a8\u5668\u6302\u8f7d \u221a \u221a \u221a \u221a 2.2G \u4ee5\u4e0a CD-ROM \u6302\u8f7d x x \u221a \u221a WOL \u8fdc\u7a0b\u5524\u9192 \u221a \u221a \u221a \u221a \u7f51\u9875\u526a\u5207\u677f \u221a \u221a \u221a \u221a OCR \u6587\u5b57\u8bc6\u522b \u221a \u221a \u221a \u221a \u7f51\u9875\u7ec8\u7aef \u221a \u221a \u221a \u221a \u7f51\u7edc\u4e32\u53e3\u7ec8\u7aef x x \u221a \u221a HDMI \u5207\u6362\u5668\u652f\u6301 \u221a \u221a \u221a \u221a \u89c6\u9891\u5f55\u5236 \u221a x x x Docker \u90e8\u7f72 \u221a x x x \u5b98\u65b9\u5546\u4e1a\u5316\u6210\u54c1 x \u221a \u221a \u221a \u6280\u672f\u652f\u6301 \u221a \u221a \u221a \u221a"},{"location":"prepare/#_3","title":"\u652f\u6301\u5e73\u53f0","text":"<ul> <li>\u67b6\u6784\uff1ax86_64\u3001ARMv7\u3001ARM64</li> <li>\u5e73\u53f0\uff1aDocker</li> <li>\u786c\u4ef6\uff1aUSB UVC \u91c7\u96c6\u5361\u3001CH9329+CH340 \u6216 OTG \u7aef\u53e3</li> </ul> \u6574\u5408\u5305\u9002\u914d\u6982\u51b5 (\u70b9\u51fb\u578b\u53f7\u84dd\u5b57\u53ef\u67e5\u770b\u8be6\u60c5) \u56fa\u4ef6\u578b\u53f7 \u56fa\u4ef6\u4ee3\u53f7 \u786c\u4ef6\u60c5\u51b5 \u6700\u65b0\u7248\u672c \u7ef4\u62a4\u72b6\u6001 \u73a9\u5ba2\u4e91 Onecloud USB \u91c7\u96c6\u5361\u3001OTG 241214 \u6301\u7eed\u66f4\u65b0 \u79c1\u5bb6\u4e91\u4e8c\u4ee3 Cumebox2 USB \u91c7\u96c6\u5361\u3001OTG 241214 \u6301\u7eed\u66f4\u65b0 Vmare Vmare-uefi USB \u91c7\u96c6\u5361\u3001CH9329 241214 \u6301\u7eed\u66f4\u65b0 Virtualbox Virtualbox-uefi USB \u91c7\u96c6\u5361\u3001CH9329 241214 \u6301\u7eed\u66f4\u65b0 s905l3a  \u901a\u7528\u5305 E900v22c USB \u91c7\u96c6\u5361\u3001OTG 241214 \u6301\u7eed\u66f4\u65b0 \u6211\u5bb6\u4e91 Chainedbox USB \u91c7\u96c6\u5361\u3001OTG 241214 \u6301\u7eed\u66f4\u65b0 \u9f99\u82af\u4e45\u4e45\u6d3e 2k0300 USB \u91c7\u96c6\u5361\u3001CH9329 241025 \u505c\u6b62\u66f4\u65b0 USB \u91c7\u96c6\u5361\u786c\u4ef6\u517c\u5bb9\u6027 \u578b\u53f7/\u65b9\u6848 USB \u63a5\u53e3 Linux \u652f\u6301 One-KVM \u652f\u6301 \u4f7f\u7528\u60c5\u51b5 MS2109 USB2.0 \u221a \u221a \u63a8\u8350 MS2130 USB3.0 \u221a \u221a \u63a8\u8350 MS2131 USB3.0 \u221a \u221a \u63a8\u8350 \u817e\u98de TFDGK05 USB2.0 \u221a \u00d7 / \u8fc8\u62d3\u77e9\u9635 MT-UH02 USB2.0 \u00d7 \u00d7 /"},{"location":"prepare/#_4","title":"\u6587\u4ef6\u4e0b\u8f7d","text":"<p>huang1111\u7f51\u76d8\uff08\u514d\u767b\u5f55\u9ad8\u901f\u4e0b\u8f7d\uff09\uff1ahttps://webdav.huang1111.cn/s/e0Yfl</p> <p>\u767e\u5ea6\u7f51\u76d8\uff08\u9700\u767b\u5f55\uff09\uff1ahttps://pan.baidu.com/s/166-2Y8PBF4SbHXFkGmFJYg?pwd=o9a </p>"},{"location":"thanks/","title":"\u611f\u8c22","text":""},{"location":"thanks/#_1","title":"\u8d5e\u52a9\u65b9\u5f0f","text":"<p>\u5982\u679c One-KVM \u5bf9\u4f60\u6709\u5e2e\u52a9\uff0c\u6b22\u8fce\u8d5e\u52a9\u4f5c\u8005\uff0c\u4ee5\u652f\u6301\u4f5c\u8005\u7ee7\u7eed\u5f00\u53d1\u548c\u7ef4\u62a4\u6b64\u9879\u76ee\u3002</p> <p>\u4e3a\u7231\u53d1\u7535</p>"},{"location":"thanks/#_2","title":"\u611f\u8c22\u540d\u5355","text":"<ul> <li>\u6d69\u9f99\u7684\u7535\u5b50\u5d4c\u5165\u5f0f\u4e4b\u8def</li> <li>Tsuki</li> <li>\u8dc3/mg\u5b50\uff1a</li> <li>Doo</li> <li>\u5b75\u5316\u718a</li> <li>H_xiaoming</li> <li>0\u84dd\u84dd0</li> <li>fairybl</li> <li>Will</li> <li>\u81ea.\u77e5</li> <li>\u89c2\u68cb\u4e0d\u8bed\u0669 \u0f72\u06f6</li> <li>\u6d69\u9f99\u7684\u7535\u5b50\u5d4c\u5165\u5f0f\u4e4b\u8def</li> <li>\u7231\u53d1\u7535\u7528\u6237_a57a4</li> <li>\u7231\u53d1\u7535\u7528\u6237_2c769</li> <li>\u971c\u5e8f</li> <li>\u8fdc\u65b9 \uff08\u95f2\u9c7c\u7528\u6237\u540d\uff1a\u5c0f\u8fdc\u6280\u672f\u5e97\u94fa\uff09</li> <li>\u7231\u53d1\u7535\u7528\u6237_399fc</li> <li>\u6590\u6590\u306e</li> <li>\u7231\u53d1\u7535\u7528\u6237_09451</li> <li>\u8d85\u9ad8\u6821\u7ea7\u7684\u9306\u9c7c</li> <li>\u7231\u53d1\u7535\u7528\u6237_08cff</li> <li>guoke</li> <li>mgt</li> <li>\u59dc\u6ca2\u63b5</li> <li>ui_beam</li> <li>\u7231\u53d1\u7535\u7528\u6237_c0dd7</li> <li>\u7231\u53d1\u7535\u7528\u6237_dnjK</li> <li>\u5fcd\u8005\u80d6\u732a</li> <li>\u6c38\u9060\u306e\u9858\u3044</li> <li>\u7231\u53d1\u7535\u7528\u6237_GBrF</li> <li>\u7231\u53d1\u7535\u7528\u6237_fd65c</li> <li>\u7231\u53d1\u7535\u7528\u6237_vhNa</li> <li>\u7231\u53d1\u7535\u7528\u6237_Xu6S</li> <li>moss</li> <li>woshididi</li> <li>\u7231\u53d1\u7535\u7528\u6237_a0fd1</li> <li>......</li> </ul>"},{"location":"thanks/#_3","title":"\u4f7f\u7528\u7684\u5f00\u6e90\u9879\u76ee","text":"<ol> <li>GitHub - pikvm/pikvm: Open and inexpensive DIY IP-KVM based on Raspberry Pi</li> <li>GitHub - hzyitc/armbian-onecloud: Armbian for onecloud. \u73a9\u5ba2\u4e91\u7528armbian</li> <li>GitHub - jacobbar/fruity-pikvm: Install Pi-KVM on debian SBCs such as Orange Pi, Banana Pi, Mango Pi debian SBCs such as Orange Pi, Banana Pi, Mango Pi, etc</li> <li>kvmd-armbian/install.sh at master \u00b7 srepac/kvmd-armbian</li> </ol>"},{"location":"advanced_using/2fa/","title":"2FA \u53cc\u91cd\u8eab\u4efd\u9a8c\u8bc1","text":""},{"location":"advanced_using/2fa/#2fa","title":"\u5f00\u542f2FA\u9a8c\u8bc1","text":"<p>\u53cc\u91cd\u8eab\u4efd\u9a8c\u8bc1 2FA \u662f\u767b\u5f55\u7f51\u7ad9\u6216\u5e94\u7528\u65f6\u4f7f\u7528\u7684\u989d\u5916\u4fdd\u62a4\u5c42\u3002\u542f\u7528 2FA \u65f6\uff0c\u5fc5\u987b\u4f7f\u7528\u60a8\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u767b\u5f55\uff0c\u5e76\u63d0\u4f9b\u57fa\u4e8e\u65f6\u95f4\u7684\u4e00\u6b21\u6027\u5bc6\u7801 TOTP\u3002</p> <p>\u9996\u5148\u767b\u5f55 One-KVM \u7ec8\u7aef\u5e76\u5207\u6362\u81f3\u7531 root \u8d26\u6237\uff0c\u6267\u884c\u547d\u4ee4 <code>kvmd-totp init</code> \u751f\u6210 TOTP \u5bc6\u94a5\u3002</p> <pre><code>#\u67e5\u770bPiKVM 2FA\u547d\u4ee4\u5e2e\u52a9\nkvmd-totp -h\n\n#\u751f\u62102FA\u5bc6\u94a5\u5e76\u5f00\u542f2FA\u9a8c\u8bc1\nkvmd-totp init\n\n#\u5c55\u793a\u5df2\u6709\u5bc6\u94a5\nkvmd-totp show\n\n#\u5220\u9664\u6240\u6709\u5bc6\u94a5\u5e76\u5173\u95ed2FA\u9a8c\u8bc1\nkvmd-totp del\n</code></pre> <p></p> <p>\u5bf9\u4e8e\u5b89\u5353\u79fb\u52a8\u8bbe\u5907\uff0c\u53ef\u4ee5\u4f7f\u7528\u60a8\u559c\u6b22\u76842FA\u7a0b\u5e8f\uff0c\u5982 Google Authenticator\uff0c\u57fa\u672c\u529f\u80fd\u5927\u540c\u5c0f\u5f02\uff0c\u8fd9\u91cc\u4ee5 Authing \u4ee4\u724c\u4e3a\u4f8b\u8bf4\u660e 2FA \u4f7f\u7528\u65b9\u6cd5\uff1a\u9996\u5148\u626b\u63cf\u4e8c\u7ef4\u7801\u6216\u624b\u52a8\u8f93\u5165\u6dfb\u52a0\u5bc6\u94a5\uff0c\u7136\u540e\u518d\u767b\u5165 PiKVM \u7f51\u9875\u65f6\u591a\u8f93\u5165\u4e00\u98796\u4f4d\u6570\u7684\u4e00\u6b21\u6027\u5bc6\u7801\u3002</p> <p></p>"},{"location":"advanced_using/appearances/","title":"\u5916\u89c2\u4e3b\u9898","text":"<p>\u9759\u6001\u7f51\u9875\u7684\u6240\u6709\u5185\u5bb9\u90fd\u5728 <code>/usr/share/kvmd/web/</code> \uff08\u5bf9\u4e8e\u6e90\u4ee3\u7801\u8def\u5f84\u662f <code>/web/</code> \uff09\u76ee\u5f55\u4e0b\u3002</p>"},{"location":"advanced_using/appearances/#_1","title":"\u56fe\u6807","text":"<p>\u5982\u679c\u6709\u66ff\u6362 Logo \u6216\u5176\u4ed6\u56fe\u6807\u7684\u9700\u8981\u53ef\u4ee5\u66ff\u6362 <code>/usr/share/kvmd/web/share/</code>\uff08\u5bf9\u4e8e\u6e90\u4ee3\u7801\u8def\u5f84\u662f <code>/web/share/</code> \uff09\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\uff0c\u5982\u6b64\u76ee\u5f55\u4e0b <code>svg/logo.svg</code> \u662f\u5e94\u7528 Logo\u3002</p>"},{"location":"advanced_using/appearances/#_2","title":"\u989c\u8272\u4e3b\u9898","text":"<p>\u5982\u679c\u6709\u5b9a\u5236\u7f51\u9875\u754c\u9762\u4e3b\u9898\u7684\u9700\u8981\uff0c\u53ef\u4ee5\u7f16\u8f91 <code>/usr/share/kvmd/web/share/css/user.css</code> \u4fee\u6539\u7f51\u9875\u653e\u5165 CSS \u989c\u8272\u4e3b\u9898\u6765\u5b9e\u73b0\u60f3\u8981\u7684\u914d\u8272\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u914d\u8272\u793a\u4f8b\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u9700\u6c42\u81ea\u884c\u4fee\u6539\u3002</p> \u6d45\u767d <pre><code>:root {\n    /* \u4e3b\u9875\u9762 */\n    --cs-page-default-bg: #ffffff;\n    --cs-page-default-fg: #1e293b;\n    --cs-page-obscure-fg: #64748b;\n\n    /* \u63a7\u4ef6 */\n    --cs-control-default-bg: #f1f5f9;\n    --cs-control-default-fg: #0f172a;\n    --cs-control-intensive-fg: #ffffff;\n    --cs-control-hovered-bg: #e2e8f0;\n    --cs-control-hovered-fg: #0f172a;\n    --cs-control-pressed-bg: #cbd5e1;\n    --cs-control-pressed-fg: #0f172a;\n    --cs-control-disabled-fg: #94a3b8;\n    /* \u5bfc\u822a\u680f */\n    --cs-navbar-default-bg: #e2e8f0;\n    --cs-navbar-default-fg: #0f172a;\n    --cs-navbar-item-hovered-bg: #cbd5e1;\n    --cs-navbar-item-pressed-bg: #94a3b8;\n\n    /* \u7a97\u53e3 */\n    --cs-window-default-bg: #f8fafc;\n    --cs-window-default-fg: #0f172a;\n    --cs-window-header-default-fg: #0f172a;\n    --cs-window-header-grabbed-bg: #2563eb;\n    --cs-window-header-grabbed-fg: #ffffff;\n    --cs-window-closer-default-fg: #64748b;\n    /* \u4ee3\u7801\u533a\u57df */\n    --cs-code-default-bg: #f1f5f9;\n    --cs-code-default-fg: #0f172a;\n    --cs-code-comment-fg: #475569;\n\n    /* \u6eda\u52a8\u6761 */\n    --cs-scroll-default-bg: #cbd5e1;\n    --cs-thumb-default-bg: #2563eb;\n    --cs-thumb-disabled-bg: #94a3b8;\n\n    /* \u8fdb\u5ea6\u6761 */\n    --cs-progress-default-bg: #e2e8f0;\n    --cs-progress-default-fg: #0f172a;\n    --cs-progress-bar-bg: #2563eb;\n\n    /* \u6309\u952e */\n    --cs-key-default-bg: #f1f5f9;\n    --cs-key-default-fg: #0f172a;\n    --cs-key-hovered-bg: #cbd5e1;\n    --cs-key-hovered-fg: #0f172a;\n    --cs-key-pressed-bg: #94a3b8;\n    --cs-key-pressed-fg: #1e293b;\n    --cs-key-holded-bg: #3b82f6;\n    /* \u88c5\u9970\u5143\u7d20 */\n    --cs-marker-fg: #0f172a;\n    --cs-corner-bg: #2563eb;\n\n    /* \u9634\u5f71\u6548\u679c */\n    --shadow-micro: 01px 2px rgba(0, 0, 0, 0.06);\n    --shadow-small: 02px 4px rgba(0, 0, 0, 0.1);\n    --shadow-big: 06px 12px rgba(15, 23, 42, 0.12);\n    --shadow-navbar-item-pressed: 0 2px 0#2563eb inset;\n    --shadow-window-fullscreen-active: 00 0 2px #2563ebinset;\n\n    /* \u8fb9\u6846 */\n    --border-default-thin: thin solid #cbd5e1;\n    --border-default-2px: 2px solid #cbd5e1;\n    --border-hovered-2px: 2px solid #2563eb;\n    --border-navbar-item-thin: thin solid #94a3b8;\n    --border-control-thin: thinsolid #cbd5e1;\n    --border-key-thin: thin solid #cbd5e1;\n}\n</code></pre> <p></p> <p></p> <p></p> \u6df1\u9ed1 <pre><code>:root {\n    /* \u4e3b\u9875\u9762 */\n    --cs-page-default-bg: #1a1b1e;\n    --cs-page-default-fg: #e2e8f0;\n    --cs-page-obscure-fg: #94a3b8;\n\n    /* \u63a7\u4ef6 */\n    --cs-control-default-bg: #2a2b2f;\n    --cs-control-default-fg: #e2e8f0;\n    --cs-control-intensive-fg: #ffffff;\n    --cs-control-hovered-bg: #3a3b3f;\n    --cs-control-hovered-fg: #ffffff;\n    --cs-control-pressed-bg: #454750;\n    --cs-control-pressed-fg: #ffffff;\n    --cs-control-disabled-fg: #64748b;\n    /* \u5bfc\u822a\u680f */\n    --cs-navbar-default-bg: #141517;\n    --cs-navbar-default-fg: #e2e8f0;\n    --cs-navbar-item-hovered-bg: #2a2b2f;\n    --cs-navbar-item-pressed-bg: #3a3b3f;\n\n    /* \u7a97\u53e3 */\n    --cs-window-default-bg: #222326;\n    --cs-window-default-fg: #e2e8f0;\n    --cs-window-header-default-fg: #e2e8f0;\n    --cs-window-header-grabbed-bg: #3b82f6;\n    --cs-window-header-grabbed-fg: #ffffff;\n    --cs-window-closer-default-fg: #94a3b8;\n\n    /* \u4ee3\u7801\u533a\u57df */\n    --cs-code-default-bg: #1a1b1e;\n    --cs-code-default-fg: #e2e8f0;\n    --cs-code-comment-fg: #94a3b8;\n\n    /* \u6eda\u52a8\u6761 */\n    --cs-scroll-default-bg: #2a2b2f;\n    --cs-thumb-default-bg: #3b82f6;\n    --cs-thumb-disabled-bg: #454750;\n\n    /* \u8fdb\u5ea6\u6761 */\n    --cs-progress-default-bg: #2a2b2f;\n    --cs-progress-default-fg: #e2e8f0;\n    --cs-progress-bar-bg: #3b82f6;\n\n    /* \u6309\u952e */\n    --cs-key-default-bg: #2a2b2f;\n    --cs-key-default-fg: #e2e8f0;\n    --cs-key-hovered-bg: #3a3b3f;\n    --cs-key-hovered-fg: #ffffff;\n    --cs-key-pressed-bg: #454750;\n    --cs-key-pressed-fg: #94a3b8;\n    --cs-key-holded-bg: #3b82f6;\n    /* \u88c5\u9970\u5143\u7d20 */\n    --cs-marker-fg: #e2e8f0;\n    --cs-corner-bg: #3b82f6;\n\n    /* \u9634\u5f71\u6548\u679c */\n    --shadow-micro: 0 1px 2px rgba(0, 0, 0, 0.3);\n    --shadow-small: 02px 4px rgba(0, 0, 0, 0.4);\n    --shadow-big: 08px 16px rgba(0, 0, 0, 0.5);\n    --shadow-navbar-item-pressed: 0 2px 0 #3b82f6 inset;\n    --shadow-window-fullscreen-active: 0 0 0 2px #3b82f6 inset;\n\n    /* \u8fb9\u6846 */\n    --border-default-thin: thin solid #454750;\n    --border-default-2px: 2pxsolid #454750;\n    --border-hovered-2px: 2px solid #3b82f6;\n    --border-navbar-item-thin: thin solid #2a2b2f;\n    --border-control-thin: thin solid #454750;\n    --border-key-thin: thin solid #454750;\n}\n</code></pre> <p></p> <p></p> <p></p> \u9ed8\u8ba4\uff08\u6df1\u7070\uff09 <pre><code>:root {\n    --cs-page-default-bg: #36393f;\n    --cs-page-default-fg: #c3c3c3;\n    --cs-page-obscure-fg: #6c7481;\n\n    --cs-control-default-bg: #36393f;\n    --cs-control-default-fg: #c3c3c3;\n    --cs-control-intensive-fg: white;\n    --cs-control-hovered-bg: #2a2d31;\n    --cs-control-hovered-fg: white;\n    --cs-control-pressed-bg: #17191d;\n    --cs-control-pressed-fg: #6c7481;\n    --cs-control-disabled-fg: #6c7481;\n\n    --cs-navbar-default-bg: #202225;\n    --cs-navbar-default-fg: #c3c3c3;\n    --cs-navbar-item-hovered-bg: #1a1c1f;\n    --cs-navbar-item-pressed-bg: #171717;\n\n    --cs-window-default-bg: #484b51;\n    --cs-window-default-fg: #c3c3c3;\n    --cs-window-header-default-fg: #aaaaaa;\n    --cs-window-header-grabbed-bg: #436a8a;\n    --cs-window-header-grabbed-fg: white;\n    --cs-window-closer-default-fg: #6c7481;\n\n    --cs-code-default-bg: #17191d;\n    --cs-code-default-fg: #aaaaaa;\n    --cs-code-comment-fg: #6c7481;\n\n    --cs-scroll-default-bg: #6c7481;\n    --cs-thumb-default-bg: #436a8a;\n    --cs-thumb-disabled-bg: #202225;\n\n    --cs-progress-default-bg: #171717;\n    --cs-progress-default-fg: white;\n    --cs-progress-bar-bg: #436a8a;\n\n    --cs-key-default-bg: #3b3e43;\n    --cs-key-default-fg: #c3c3c3;\n    --cs-key-hovered-bg: #2a2d31;\n    --cs-key-hovered-fg: white;\n    --cs-key-pressed-bg: #17191d;\n    --cs-key-pressed-fg: #6c7481;\n    --cs-key-holded-bg: #436a8a;\n\n    --cs-marker-fg: #5b90bb;\n    --cs-corner-bg: #5b90bb;\n\n    --shadow-micro: 1px 2px 4px 0 rgba(0, 0, 0, 0.4);\n    --shadow-small: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\n    --shadow-big: 0 8px 16px 0 rgba(0, 0, 0, 0.4);\n    --shadow-navbar-item-pressed: 0 5px 0 #5b90bb inset;\n    --shadow-window-fullscreen-active: 0 0 0 2px #5b90bb inset;\n\n    --border-default-thin: thin solid #36393f;\n    --border-default-2px: 2px solid #36393f;\n    --border-hovered-2px: 2px solid #2a2d31;\n    --border-navbar-item-thin: thin solid black;\n    --border-control-thin: thin solid #17191d;\n    --border-key-thin: thin solid #202225;\n    --border-intensive-2px: 2px solid #5b90bb;\n    --border-intensive-thin: thin solid #5b90bb;\n\n    --border-window-default-2px: 2px solid #282a2e;\n    --border-window-active-2px: 2px solid #5b90bb;\n    --border-window-default-thin: thin solid #17191d;\n\n    --border-navbar-menu-default-2px: 2px solid black;\n    --border-navbar-menu-active-2px: 2px solid #5b90bb;\n    --border-menu-item-content-top-thin: thin solid #17191d;\n}\n</code></pre> <p></p> <p></p> <p></p>"},{"location":"advanced_using/auth/","title":"Auth","text":""},{"location":"advanced_using/auth/#_1","title":"\u8eab\u4efd\u8ba4\u8bc1","text":""},{"location":"advanced_using/ipmi/","title":"Ipmi","text":""},{"location":"advanced_using/ipmi/#ipmi-redfish","title":"IPMI \u548c Redfish \u96c6\u6210","text":""},{"location":"advanced_using/kvm_switch/","title":"KVM \u4e00\u63a7\u591a","text":"<p>\u70ed\u952e\u5207\u6362</p> <p>\u786c\u4ef6\u8981\u6c42\uff1a\u9700\u8981\u4f7f\u7528\u652f\u6301\u70ed\u952e\u63a7\u5236\u7684KVM\u5207\u6362\u5668\uff0c\u4ee5 AIMOS AM-KM202 \u4e3a\u4f8b\u8fdb\u884c\u8bf4\u660e\u3002</p> <p></p> <p>\u786c\u4ef6\u8fde\u63a5\u5982\u4e0b\uff0c\u53ef\u4ee5\u5728\u7f51\u9875\u901a\u8fc7\u70ed\u952e\uff08\u865a\u62df\u952e\u76d8\u5feb\u6377\u952e\uff09\u8fdb\u884c\u89c6\u9891\u753b\u9762\u548c USB \u63a7\u5236\u5207\u6362\uff0c\u5b9e\u73b0\u4e00\u63a7\u591a\u3002</p> <p></p> <p>\u6f14\u793a\u89c6\u9891\uff1a</p> <p>GPIO \u5207\u6362</p> <p>Warning</p> <p>\u6b64\u65b9\u6cd5\u4ec5\u5728\u73a9\u5ba2\u4e91\u4e0a\u6d4b\u8bd5\uff0c\u53ea\u4f9b\u53c2\u8003\uff0c\u4e0d\u4fdd\u8bc1\u5b8c\u5168\u53ef\u7528\u3002</p> <p>\u901a\u8fc7\u73a9\u5ba2\u4e91GPIO\u63a7\u5236KVM\u5207\u6362\u5668\u5207\u6362\u663e\u793a\uff0c\u5b9e\u73b0One-KVM\u4e00\u63a7\u591a\u3002</p> <p>\u786c\u4ef6\u8981\u6c42\uff1a\u9700\u8981\u4f7f\u7528\u652f\u6301lr\uff08\u97f3\u9891\u53e3/\u7ea2\u5916\u53e3\uff09\u63a7\u5236\u7684KVM\u5207\u6362\u5668\uff0c\u63a5\u5165\u97f3\u9891\u7ebf\u3002</p> <p>\u7b80\u8981\u65b9\u6cd5\uff1a\u5c06\u97f3\u9891\u7ebf\u5265\u5f00\u5e76\u6d4b\u91cf\u5bf9\u5e94\u7535\u538b\uff0c\u5c06\u9ad8\u7535\u5e73\u7684\u4e00\u6839\u7ebf\u6750\u4e0e\u73a9\u5ba2\u4e91GPIO-420\u76f8\u8fde\uff0c\u5373\u53ef\u901a\u8fc7\u7f51\u9875\u7684ATX\u7535\u6e90\u7ba1\u7406\u83dc\u5355\u89e6\u53d1GPIO-420\u7535\u5e73\u53d8\u5316\u63a7\u5236KVM\u5207\u6362\u5668\uff0c\u4ece\u800c\u5b9e\u73b0\u901a\u8fc7One-KVM\u7f51\u9875\u7ba1\u7406\u7684\u4e00\u63a7\u591a\u7528\u9014\u3002</p> <p></p>"},{"location":"advanced_using/loop_out/","title":"HDMI\u73af\u51fa","text":""},{"location":"advanced_using/loop_out/#hdmi","title":"HDMI\u73af\u51fa","text":"<p>\u6b64\u529f\u80fd\u4f7f\u7528\u8bbe\u5907\u81ea\u8eab\u7684\u663e\u793a\u63a5\u53e3\u8f93\u51fa USB \u91c7\u96c6\u5361\u91c7\u96c6\u7684\u753b\u9762\u3002</p>"},{"location":"advanced_using/loop_out/#_1","title":"\u4f7f\u7528","text":"<p>\u6700\u65b0\u5305 One-KVM_Armbian_by-SilentWind_for-Onecloud_24.6.18 \u4e2d\u5df2\u9884\u88c5\u6b64\u529f\u80fd\uff0c\u66f4\u65e9\u7684\u7248\u672c\u4e2d\u6ca1\u6709\u9884\u88c5\u6b64\u529f\u80fd\uff08\u82e5\u9700\u8981\u624b\u52a8\u5b89\u88c5\u53ef\u53c2\u7167\u6587\u672b\u6559\u7a0b\uff09\u3002 <code>kvmd-display</code> \u670d\u52a1\u9ed8\u8ba4\u4e3a\u5173\u95ed\u72b6\u6001\uff0c\u907f\u514d\u5f71\u54cd\u5176\u4ed6\u670d\u52a1\u8fd0\u884c\u3002\u5982\u9700\u8981\u53ef\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u53ef\u624b\u52a8\u5f00\u542f\u3002</p> <pre><code>#\u53d6\u6d88\u6ce8\u91ca\u201c#forever: true\u201d\u9009\u9879\u5e76\u5e94\u7528\nsudo nano /etc/kvmd/override.yaml\nsudo systemctl restart kvmd\n#\u542f\u52a8 kvmd-display \u670d\u52a1\nsudo systemctl start display\n#\u8bbe\u7f6e kvmd-display \u670d\u52a1\u5f00\u673a\u81ea\u542f\nsudo systemctl enable kvmd-display\n</code></pre> <p></p> <p></p>"},{"location":"advanced_using/loop_out/#_2","title":"\u5b89\u88c5","text":"<pre><code>#\u6b64\u529f\u80fd\u9ed8\u8ba4\u672a\u5b89\u88c5\uff0c\u5f00\u542f\u9700\u8981\u6267\u884c kvmd_display_install.sh \u811a\u672c\ngit clone --depth=1 https://github.com/mofeng-git/One-KVM.git\ncd One-KVM \nsudo bash kvmd_display_install.sh\n\n#\u505c\u6b62 kvmd-ffmpeg \u670d\u52a1\nsudo systemctl stop kvmd-display\nsudo systemctl disable kvmd-display\n</code></pre>"},{"location":"advanced_using/on_start_config/","title":"On start config","text":""},{"location":"advanced_using/on_start_config/#_1","title":"\u5f00\u673a\u8fd0\u884c\u811a\u672c","text":"<p>\u8fd9\u662f\u73a9\u5ba2\u4e91\u7684\u5f00\u673a\u81ea\u542f\u811a\u672c\uff0c\u6587\u4ef6\u5728 <code>/etc/rc.local</code>\u3002</p> <pre><code>root@onecloud:~# cat /etc/rc.local\n#!/bin/bash\n\n#\u8bbe\u7f6e\u73a9\u5ba2\u4e91\u524d\u9762\u677f LED \u706f\u4e3a\u7eff\u8272\necho \"default-on\" &gt;/sys/class/leds/onecloud\\:green\\:alive/trigger\necho \"none\" &gt;/sys/class/leds/onecloud\\:red\\:alive/trigger\necho \"none\" &gt;/sys/class/leds/onecloud\\:blue\\:alive/trigger\n\n#\u9501\u5b9a CPU \u9891\u7387\uff0c\u907f\u514d\u52a8\u6001 CPU \u9891\u7387\u5e26\u6765\u7684 ustreamer \u89c6\u9891\u5e27\u753b\u9762\u4e71\u5e8f\u81f4\u4f7f\u7f51\u9875\u968f\u673a\u9891\u7e41\u9ed1\u5c4f\n#\u82e5\u6709\u9700\u8981\uff0c\u53ef\u6839\u636e cpufreq-info \u547d\u4ee4\u8fd4\u56de\u4fe1\u606f\u63d0\u5347\u9891\u7387\u6216\u8d85\u9891\ncpufreq-set -d 1200MHz -u 1200MHz\n\n#\u5728\u9891\u7387\u9501\u5b9a\u540e\u542f\u52a8 kvmd \u670d\u52a1\uff0c\u4f7f\u6240\u6709\u670d\u52a1\u8fdb\u7a0b\u8fd0\u884c\u5728\u9759\u6001 CPU \u9891\u7387\u4e0a\nsystemctl disable kvmd &amp;&amp; systemctl stop kvmd\nsystemctl start kvmd\n\n#\u8bbe\u7f6e OTG \u53e3\u4e3a\u4ece\u8bbe\u5907\u6a21\u5f0f\necho device &gt; /sys/class/usb_role/c9040000.usb-role-switch/role\n\n#\u9000\u51fa\u811a\u672c\nexit 0\n</code></pre>"},{"location":"advanced_using/vnc/","title":"VNC \u8fde\u63a5","text":""},{"location":"advanced_using/vnc/#vnc","title":"VNC\u8fde\u63a5","text":"<p>\u9664 Web UI \u5916\uff0c\u8fd8\u53ef\u4f7f\u7528\u666e\u901a VNC \u5ba2\u6237\u7aef\u8bbf\u95ee PiKVM\u3002\u4e0e\u6d4f\u89c8\u5668\u76f8\u6bd4\uff0cVNC \u7684\u4e3b\u8981\u4f18\u52bf\u5728\u4e8e\u80fd\u5c06\u56fe\u50cf\u6269\u5c55\u5230\u5168\u5c4f\uff0c\u5e76\u80fd\u5b8c\u5168\u62e6\u622a\u6240\u6709\u952e\u76d8\u5feb\u6377\u952e\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0cVNC \u6bd4\u6d4f\u89c8\u5668\u53cd\u5e94\u66f4\u5feb\uff0c\u5c24\u5176\u662f\u5728\u5ba2\u6237\u7aef\u7535\u8111\u6027\u80fd\u8f83\u5f31\u7684\u60c5\u51b5\u4e0b\u3002PiKVM \u4e0a\u7684 VNC \u6027\u80fd\u65e0\u6cd5\u4e0e\u666e\u901a VNC \u670d\u52a1\u5668\u6216\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b\u7684\u7c7b\u4f3c\u8fdc\u7a0b\u8bbf\u95ee\u5de5\u5177\u8fdb\u884c\u6bd4\u8f83\u3002</p> <p>\u8b66\u544a</p> <p>\u4e0d\u8981\u5728\u4e0d\u4fe1\u4efb\u7684\u7f51\u7edc\u4e0a\u4f7f\u7528\u6ca1\u6709 X.509 \u6216 TLS \u52a0\u5bc6\u7684 VNC\uff01\u5426\u5219\uff0c\u60a8\u7684\u5bc6\u7801\u5c06\u4ee5\u7eaf\u6587\u672c\u5f62\u5f0f\u5728\u7f51\u7edc\u4e0a\u4f20\u8f93\u3002\u4e0d\u5e78\u7684\u662f\uff0cVNC \u534f\u8bae\u7684\u5b9e\u73b0\u5c31\u662f\u5982\u6b64\u3002</p> <p>\u4e0d\u652f\u6301\u7684\u5ba2\u6237\u7aef</p> <p>\u4e0d\u652f\u6301\u7684\u5ba2\u6237\u7aef\uff1aRealVNC - \u4e0d\u652f\u6301\u5927\u591a\u6570\u5e7f\u6cdb\u4f7f\u7528\u7684\u5f00\u653e\u5f0f VNC \u534f\u8bae\u6269\u5c55\uff1bRemmina - \u4e0e\u670d\u52a1\u5668\u5339\u914d\u8bbe\u7f6e\u7684\u7b97\u6cd5\u7565\u6709\u7f3a\u9677\uff0c\u6b63\u5728\u6539\u8fdb\uff1bGuacamole - \u672a\u6b63\u786e\u5b9e\u73b0 vencrypt\uff0c\u4e0d\u652f\u6301 JPEG \u538b\u7f29\uff1bVinagre - \u672a\u6b63\u786e\u5b9e\u73b0 vencrypt\uff0c\u4f1a\u5d29\u6e83\u3002</p>"},{"location":"advanced_using/vnc/#windows","title":"Windows","text":"<p>\u5bf9\u4e8e Windows\uff0c\u53ef\u4ee5\u4f7f\u7528 UVNC \u548c TigerVNC\uff0c\u53ef\u5728\u7f51\u76d8\u4e0b\u8f7d\uff08\u4f4d\u7f6e\uff1a/\u73a9\u5ba2\u4e91/PiKVM\u76f8\u5173\u8f6f\u4ef6/\uff09\u3002\u4e0b\u9762\u662f UVNC \u7684\u4f7f\u7528\u793a\u4f8b\u3002</p> <p></p>"},{"location":"advanced_using/vnc/#android","title":"\u5b89\u5353 Android","text":"<p>\u5bf9\u4e8e\u5b89\u5353\u79fb\u52a8\u7aef\uff0c\u53ef\u4ee5\u4f7f\u7528AVNC\u548cbVNC Pro\u8fd9\u4e24\u4e2a\u5f00\u6e90\u8f6f\u4ef6\u3002\u4e24\u4e2a\u5e94\u7528\u7684\u64cd\u4f5c\u624b\u52bf\u90fd\u652f\u6301\u89e6\u6478\u5c4f\u548c\u89e6\u6478\u677f\u3002\u5bf9\u4e8eAVNC\u5e94\u7528\uff0c\u4e0d\u80fd\u4f7f\u7528\u9ed8\u8ba4\u7684\u5b89\u5168\u6027\u8bbe\u7f6e\uff0c\u9700\u624b\u52a8\u4fee\u6539\u5b89\u5168\u6027\u4e3aVncauth\u624d\u80fd\u6b63\u5e38\u8fde\u63a5PiKVM VNC\u3002</p> <p></p> <p></p>"},{"location":"advanced_using/vnc/#ios","title":"\u82f9\u679c IOS","text":"<p>\u5bf9\u4e8e\u82f9\u679c iOS \uff0c\u53ef\u4ee5\u4f7f\u7528 bVNC \u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd9\u662f\u4e00\u4e2a\u4ed8\u8d39\u8f6f\u4ef6\u3002</p>"},{"location":"advanced_using/vnc/#vncauth","title":"VNCAuth\u8eab\u4efd\u8ba4\u8bc1","text":"<p>\u5bf9\u4e8e\u4f7f\u7528VNCAuth\u8eab\u4efd\u8ba4\u8bc1\u7684VNC\u5ba2\u6237\u7aef\uff08\u5373\u53ea\u9700\u4f7f\u7528\u5bc6\u7801\u4e0d\u9700\u8981\u8f93\u5165\u8d26\u6237\u7684VNC\u5ba2\u6237\u7aef\uff09\uff0c\u5982\u679c\u4fee\u6539\u4e86PiKVM\u7a0b\u5e8f\u5bc6\u7801\u540e\uff0c\u6b64\u8eab\u4efd\u8ba4\u8bc1\u6587\u4ef6\u4e0d\u4f1a\u81ea\u52a8\u4fee\u6539\uff0c\u9700\u624b\u52a8\u5728\u6587\u4ef6<code>/etc/kvmd/vncpasswd</code>\u4fee\u6539\u6216\u6dfb\u52a0\u5bc6\u7801\u6620\u5c04\u3002\u6dfb\u52a0\u5185\u5bb9\u4e3a\u201c\u81ea\u5b9a\u4e49VNC\u5bc6\u7801 -&gt; WEB\u8d26\u6237:WEB\u5bc6\u7801\u201d\uff0c\u5982\u4e0b\u4e3a\u793a\u4f8b\uff1a</p> <p></p>"},{"location":"advanced_using/webterm/","title":"Webterm \u7f51\u9875\u7ec8\u7aef","text":""},{"location":"advanced_using/webterm/#_1","title":"\u8bf4\u660e","text":"<p>\u7f51\u9875\u7ec8\u7aef\u9ed8\u8ba4\u767b\u5165\u7684\u8d26\u6237\u4e3a kvmd-webterm\uff0c\u5904\u4e8e\u5b89\u5168\u8003\u8651\u6b64\u7528\u6237\u65e0\u6cd5\u4f7f\u7528 <code>sudo</code> \u547d\u4ee4\uff0c\u5982\u9700\u6267\u884c\u9700\u8981root\u6743\u9650\u7684\u547d\u4ee4\u8bf7\u5148\u6267\u884c <code>su root</code> \u5207\u6362\u5230 root \u8d26\u6237\u3002</p> <p></p>"},{"location":"advanced_using/wol/","title":"WOL \u7f51\u7edc\u5524\u9192","text":"<p>WOL\uff08Wake On LAN\uff09\uff0c\u5373\u7f51\u7edc\u5524\u9192\uff0c\u5728\u88ab\u63a7\u673a\u652f\u6301\u7684\u60c5\u51b5\u4e0b\uff08\u90e8\u5206\u673a\u5668\u53ef\u80fd\u9ed8\u8ba4\u5173\u95ed\uff0c\u9700\u8981\u624b\u52a8\u5f00\u542f\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u5524\u9192\u8bbe\u5907\u5f00\u673a\uff0c\u5b9e\u73b0\u673a\u5668\u5f00\u505c\u81ea\u7531\u3002\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd\u548c\u914d\u7f6e\u53ef\u67e5\u9605\u5b98\u65b9\u6559\u7a0b\u3002</p>"},{"location":"advanced_using/wol/#wol","title":"\u542f\u7528WOL\u7f51\u7edc\u5524\u9192","text":"Docker \u90e8\u7f72 WOL \u4f7f\u7528\u8bf4\u660e <p>\u5728\u4f7f\u7528 Docker \u90e8\u7f72\u65f6\uff0c\u9700\u8981\u6307\u5b9a\u7f51\u7edc\u7c7b\u578b\u4e3a <code>host</code>\uff0c\u5426\u5219\u53ef\u80fd\u65e0\u6cd5\u4f7f\u7528 WOL \u529f\u80fd\u3002\u5982\u4f7f\u7528\u547d\u4ee4\u884c\u53ef\u4ee5\u5c06 <code>-p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623</code> \u66ff\u6362\u4e3a <code>--network host</code>\u3002 \u5728\u4f7f\u7528\u591a\u7f51\u53e3\u8bbe\u5907\uff08\u5982 Openwrt \u4e3b\u8def\u7531\u5668\uff09 Docker \u90e8\u7f72\u65f6\uff0c\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u88ab\u63a7\u673a\u6240\u5728 IP \u6bb5\uff08\u5982 192.168.100.255 \uff09\uff0c\u5426\u5219\u53ef\u80fd\u7531\u4e8e\u591a\u7f51\u53e3\u4f18\u5148\u7ea7\u4e0d\u540c\u9ed8\u8ba4\u53d1\u5f80 255.255.255.255 \uff08\u5373\u5c40\u57df\u7f51\u5e7f\u64ad\uff09\u7684 WOL \u6570\u636e\u5305\u88ab\u8def\u7531\u81f3\u9519\u8bef\u7f51\u5361\uff0c\u5bfc\u81f4 WOL \u529f\u80fd\u6ca1\u6709\u6548\u679c\u3002</p> <p>\u4e24\u79cd WOL \u914d\u7f6e\u65b9\u5f0f\uff0c\u9009\u62e9\u5176\u4e00\u3002</p> <p>\u83b7\u53d6\u88ab\u63a7\u673a\u7f51\u5361\u7684MAC\u5730\u5740\u5e76\u8bb0\u5f55\u4e0b\u6765\uff08\u683c\u5f0f\u4e3alinux\u5c0f\u5199\uff09\uff0c\u7136\u540e\u7f16\u8f91 /etc/kvmd/override.yaml \u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c\u5b8c\u6210\u540e\u91cd\u542f\u670d\u52a1 <code>systemctl restart kvmd</code> \uff08\u7f16\u8f91\u6587\u4ef6\u65f6\u8bf7\u6ce8\u610f\u683c\u5f0f\u7f29\u8fdb\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u670d\u52a1\u542f\u52a8\u5931\u8d25\uff09\u3002</p> <p>\u5185\u7f6e WOL \u914d\u7f6e\u65b9\u5f0f</p> <p>\u5982\u679c\u5728\u8fd9\u91cc\u914d\u7f6e\u7684 WOL\uff0c\u7f51\u9875\u64cd\u4f5c\u754c\u9762\u5c06\u4f1a\u5728\u7cfb\u7edf\u83dc\u5355\u4e0b\u8fb9\u7684\u5de5\u5177\u4e00\u680f\u3002</p> <pre><code>    wol:\n        mac: 54:ab:3a:02:73:4a\n        #ip: 255.255.255.255\n        #port: 9\n</code></pre> <p>\u81ea\u5b9a\u4e49 GPIO \u9a71\u52a8\u65b9\u5f0f</p> <p>\u5982\u679c\u5728\u8fd9\u91cc\u914d\u7f6e\u7684 WOL\uff0c\u7f51\u9875\u64cd\u4f5c\u754c\u9762\u5c06\u4f1a\u5728\u81ea\u5b9a\u4e49\u83dc\u5355\u4e0b\u8fb9\u3002</p> <pre><code>    gpio:\n        drivers:\n            wol_server1:\n                type: wol\n                mac: 2c:56:dc:db:7c:1e\n        scheme:\n            wol_server1:\n                driver: wol_server1\n                pin: 0\n                mode: output\n                switch: false\n        view:\n            table:\n                - [\"#\u8bbe\u5907\u540d\u79f0\", \"wol_server1|\u7f51\u7edc\u5524\u9192\"]\n</code></pre> <p></p>"},{"location":"attached_device/bluetooth_hid/","title":"Bluetooth hid","text":""},{"location":"attached_device/bluetooth_hid/#hid","title":"\u84dd\u7259 HID","text":""},{"location":"attached_device/ch9329_hid/","title":"CH9329 HID","text":""},{"location":"attached_device/ch9329_hid/#_1","title":"\u786c\u4ef6\u4ecb\u7ecd","text":"<p>CH9329 \u662f\u4e00\u6b3e\u4e32\u53e3\u8f6c\u6807\u51c6USB HID\u8bbe\u5907\u82af\u7247\uff0c\u652f\u6301\u8f6c\u6362\u4e3a\u952e\u76d8\u3001\u9f20\u6807\u6216\u81ea\u5b9a\u4e49HID\u8bbe\u5907\u3002\u6839\u636e\u914d\u7f6e\u7684\u5de5\u4f5c\u6a21\u5f0f\uff0c\u53ef\u5728\u7535\u8111\u4e0a\u88ab\u8bc6\u522b\u4e3a\u76f8\u5e94\u7684\u6807\u51c6USB\u8bbe\u5907\u3002</p> <p></p> <p>\u4f7f\u7528\u8bf4\u660e</p> <p>\u6839\u636e\u7528\u6237\u53cd\u9988\uff0c\u5b9e\u9645\u4f7f\u7528\u4e2d\u53ef\u80fd\u51fa\u73b0\u8bbe\u5907\u65ad\u8054\u7684\u60c5\u51b5\uff0c\u73b0\u5df2\u901a\u8fc7 snltty \u63d0\u4ea4\u7684\u4ee3\u7801 \u89e3\u51b3\u91cd\u542f\u4e4b\u540eCH9329\u5fc5\u987b\u91cd\u65b0\u62d4\u63d2\u624d\u80fd\u6b63\u5e38\u5de5\u4f5c\u7684\u95ee\u9898\uff0c\u7a33\u5b9a\u6027\u5f97\u5230\u5f88\u5927\u63d0\u5347\u3002</p> <p>\u5982\u9700\u8981\u964d\u4f4e\u9f20\u952e\u64cd\u4f5c\u5ef6\u8fdf\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li>\u5c06\u4e32\u53e3\u6ce2\u7279\u7387\u8c03\u6574\u4e3a115200</li> </ul>"},{"location":"attached_device/ch9329_hid/#_2","title":"\u914d\u7f6e\u65b9\u6cd5","text":"<p>\u53ef\u901a\u8fc7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u914d\u7f6eCH9329\u53c2\u6570\uff1a</p> <ol> <li>Docker\u90e8\u7f72\u65f6\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e</li> <li>\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 <code>/etc/kvmd/override.yaml</code></li> </ol> <p>\u914d\u7f6e\u6587\u4ef6\u793a\u4f8b\uff1a </p><pre><code>kvmd:\n    hid:\n        type: ch9329\n        device: /dev/ttyUSB0\n        speed: 9600        # \u4e32\u53e3\u901a\u4fe1\u901f\u5ea6\n        read_timeout: 0.3\n</code></pre>"},{"location":"attached_device/ch9329_hid/#_3","title":"\u6027\u80fd\u4f18\u5316","text":"<p>\u4f7f\u7528CH9329\u914d\u7f6e&amp;\u6d4b\u8bd5\u5de5\u5177\u53ef\u5bf9\u8bbe\u5907\u8fdb\u884c\u4ee5\u4e0b\u4f18\u5316\uff1a</p> <ol> <li> <p>\u63d0\u5347\u54cd\u5e94\u901f\u5ea6</p> <ul> <li>\u5c06\u6ce2\u7279\u7387\u4ece9600\u63d0\u5347\u5230115200</li> <li>\u540c\u6b65\u4fee\u6539One-KVM\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684speed\u53c2\u6570</li> </ul> <p>\u6b64\u8c03\u6574\u6709\u52a9\u4e8e\u6539\u5584\u8fdc\u7a0b\u63a7\u5236\u7684\u64cd\u63a7\u4f53\u9a8c\u3002</p> </li> <li> <p>\u81ea\u5b9a\u4e49\u8bbe\u5907\u6807\u8bc6</p> <ul> <li>\u53ef\u4fee\u6539USB\u8bbe\u5907\u7684VID\u548cPID</li> <li>\u652f\u6301\u914d\u7f6eUSB\u5b57\u7b26\u4e32\u63cf\u8ff0\u7b26</li> </ul> </li> </ol> <p></p>"},{"location":"attached_device/gpio/","title":"Gpio","text":""},{"location":"attached_device/gpio/#gpio","title":"GPIO","text":""},{"location":"attached_device/mouse/","title":"\u9f20\u6807\u6a21\u5f0f","text":""},{"location":"attached_device/mouse/#_1","title":"\u9f20\u6807\u6a21\u5f0f","text":"<p>One-KVM \u652f\u6301\u4e24\u79cd\u9f20\u6807\u5b9a\u4f4d\u6a21\u5f0f\uff1a\u7edd\u5bf9\u5b9a\u4f4d\u548c\u76f8\u5bf9\u5b9a\u4f4d\u3002</p>"},{"location":"attached_device/mouse/#_2","title":"\u7edd\u5bf9\u5b9a\u4f4d\u6a21\u5f0f","text":"<p>\u9ed8\u8ba4\u6a21\u5f0f</p> <p>\u7edd\u5bf9\u5b9a\u4f4d\u6a21\u5f0f\uff08Absolute Mode\uff09\u662f\u9ed8\u8ba4\u8bbe\u7f6e\uff0c\u5b83\uff1a</p> <ul> <li>\u76f4\u63a5\u4f20\u8f93\u7cbe\u786e\u7684\u5149\u6807\u5750\u6807 (X,Y)</li> <li>\u7c7b\u4f3c\u89e6\u6478\u5c4f\u548c\u6570\u4f4d\u677f\u7684\u5de5\u4f5c\u65b9\u5f0f</li> <li>\u5bf9\u7528\u6237\u548c\u8f6f\u4ef6\u6765\u8bf4\u6700\u65b9\u4fbf</li> <li>\u90e8\u5206 BIOS/UEFI \u53ef\u80fd\u4e0d\u652f\u6301</li> </ul>"},{"location":"attached_device/mouse/#_3","title":"\u76f8\u5bf9\u5b9a\u4f4d\u6a21\u5f0f","text":"<p>\u76f8\u5bf9\u6a21\u5f0f</p> <p>\u76f8\u5bf9\u5b9a\u4f4d\u6a21\u5f0f\uff08Relative Mode\uff09\uff1a</p> <ul> <li>\u53ea\u4f20\u8f93\u76f8\u5bf9\u4e8e\u5f53\u524d\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf (dX,dY)</li> <li>\u7c7b\u4f3c\u666e\u901a\u9f20\u6807\u7684\u5de5\u4f5c\u65b9\u5f0f</li> <li>\u70b9\u51fb\u89c6\u9891\u7a97\u53e3\u65f6\u6d4f\u89c8\u5668\u4f1a\u72ec\u5360\u9f20\u6807</li> <li>\u6309 ESC \u952e\u53ef\u91ca\u653e\u9f20\u6807\u63a7\u5236</li> </ul>"},{"location":"attached_device/mouse/#_4","title":"\u914d\u7f6e\u65b9\u6cd5","text":"<p>\u53cc\u6a21\u5f0f\u652f\u6301\uff08\u63a8\u8350\uff09</p> <p>\u5728 <code>/etc/kvmd/override.yaml</code> \u4e2d\u6dfb\u52a0\uff1a </p><pre><code>kvmd:\n    hid:\n        mouse_alt:\n            device: /dev/kvmd-hid-mouse-alt\n</code></pre> <p>\u914d\u7f6e\u540e\u53ef\u5728\u7cfb\u7edf\u83dc\u5355\u4e2d\u968f\u65f6\u5207\u6362\u9f20\u6807\u6a21\u5f0f\u3002</p> <p>\u4ec5\u4f7f\u7528\u76f8\u5bf9\u6a21\u5f0f</p> <p>\u5728 <code>/etc/kvmd/override.yaml</code> \u4e2d\u6dfb\u52a0\uff1a </p><pre><code>kvmd:\n    hid:\n        mouse:\n            absolute: false\n</code></pre> <p>\u5982\u679c BIOS/UEFI \u4ecd\u65e0\u6cd5\u8bc6\u522b\u9f20\u6807\uff0c\u53ef\u4ee5\u7981\u7528\u6c34\u5e73\u6eda\u52a8\u4ee5\u63d0\u9ad8\u517c\u5bb9\u6027\uff1a </p><pre><code>kvmd:\n    hid:\n        mouse:\n            absolute: false\n            horizontal_wheel: false\n</code></pre> <p>\u6ce8\u610f\u4e8b\u9879</p> <ul> <li>\u76f8\u5bf9\u6a21\u5f0f\u4f1a\u4ea7\u751f\u5927\u91cf\u4e8b\u4ef6\uff0c\u53ef\u80fd\u5f71\u54cd\u7f51\u7edc\u4f20\u8f93</li> <li>\u5efa\u8bae\u542f\u7528\"\u538b\u7f29\u9f20\u6807\u79fb\u52a8\"\u529f\u80fd\uff08System -&gt; Squash mouse moves\uff09</li> <li>\u76f8\u5bf9\u6a21\u5f0f\u6682\u4e0d\u652f\u6301 VNC \u548c\u79fb\u52a8\u7aef\u6d4f\u89c8\u5668</li> <li>\u4fee\u6539\u914d\u7f6e\u540e\u9700\u8981\u91cd\u542f kvmd \u670d\u52a1\uff1a<code>systemctl restart kvmd</code></li> </ul> <p>\u865a\u62df\u9f20\u6807\u4f7f\u7528\u76f8\u5bf9\u6a21\u5f0f\u65f6\u4f1a\u4ea7\u751f\u5927\u91cf\u4e8b\u4ef6\uff0c\u8fd9\u4e9b\u4e8b\u4ef6\u5728\u7f51\u7edc\u4e0a\u7684\u4f20\u8f93\u901f\u5ea6\u53ef\u80fd\u5f88\u6162\uff0c\u6216\u8005\u4f7f\u5f97 BIOS/UEFI \u9a71\u52a8\u7a0b\u5e8f\u611f\u77e5\u901f\u5ea6\u5f88\u6162\u3002\u4e3a\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\uff0c\u7a0b\u5e8f\u4f7f\u7528\u77e2\u91cf\u548c\u5bf9\u9f20\u6807\u4e8b\u4ef6\u8fdb\u884c\u4e86\u4f18\u5316\u3002\u8981\u6fc0\u6d3b\u8fd9\u4e9b\u4f18\u5316\uff0c\u53ef\u4ee5\u5728\u83dc\u5355 \"\u7cfb\u7edf\"-&gt;\"Squash mouse moves\"\uff08\u538b\u5236\u9f20\u6807\u79fb\u52a8\uff09\u4e2d\u542f\u7528\u8be5\u6a21\u5f0f\u3002\u5982\u679c\u9047\u5230\u9f20\u6807\u52a0\u901f\u95ee\u9898\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u7981\u7528\u3002\u8fd9\u662f\u76ee\u524d\u6bd4\u8f83\u597d\u7684\u6298\u4e2d\u65b9\u6848\u3002</p> <p></p>"},{"location":"attached_device/mouse/#windows-98","title":"Windows 98 \u517c\u5bb9\u6027","text":"<p>Windows 98 \u4fee\u590d</p> <p>\u7531\u4e8e\u65e7\u7248\u9a71\u52a8\u95ee\u9898\uff0cWindows 98 \u4e0b\u7edd\u5bf9\u5b9a\u4f4d\u6a21\u5f0f\u53ef\u80fd\u53ea\u80fd\u5728\u5c4f\u5e55\u5de6\u4e0a\u89d2\u56db\u5206\u4e4b\u4e00\u533a\u57df\u79fb\u52a8\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a </p><pre><code>kvmd:\n    hid:\n        mouse:\n            absolute_win98_fix: true\n        mouse_alt:\n            device: /dev/kvmd-hid-mouse-alt\n</code></pre> \u914d\u7f6e\u540e\uff0c\u7cfb\u7edf\u83dc\u5355\u4f1a\u51fa\u73b0 Abs-Win98 \u9009\u9879\u3002  <p>\u6b64\u5916\uff0c VNC \u670d\u52a1\u76ee\u524d\u8fd8\u4e0d\u652f\u6301\u865a\u62df\u9f20\u6807\u7684\u76f8\u5bf9\u6a21\u5f0f\uff0c\u539f\u56e0\u662f\u63a8\u8350\u7684\u5ba2\u6237\u7aef\u90fd\u4e0d\u652f\u6301 QEMU \u6307\u9488\u8fd0\u52a8\u53d8\u5316\u6269\u5c55\uff0c\u6b64\u5916\u79fb\u52a8\u6d4f\u89c8\u5668\u4e5f\u4e0d\u652f\u6301\u865a\u62df\u9f20\u6807\u7684\u76f8\u5bf9\u6a21\u5f0f\u3002</p>"},{"location":"attached_device/mouse_jiggler/","title":"\u9f20\u6807\u6296\u52a8\u5668","text":""},{"location":"attached_device/mouse_jiggler/#_1","title":"\u9f20\u6807\u6296\u52a8\u5668","text":"<p>\u529f\u80fd\u8bf4\u660e</p> <p>\u9f20\u6807\u6296\u52a8\u5668\uff08Mouse Jiggler\uff09\u662f\u4e00\u4e2a\u6a21\u62df\u9f20\u6807\u79fb\u52a8\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\uff1a</p> <ul> <li>\u9632\u6b62\u7cfb\u7edf\u8fdb\u5165\u7761\u7720\u6216\u5f85\u673a\u6a21\u5f0f</li> <li>\u963b\u6b62\u5c4f\u5e55\u4fdd\u62a4\u7a0b\u5e8f\u6fc0\u6d3b</li> <li>\u5728\u540e\u53f0\u81ea\u52a8\u8fd0\u884c\uff0c\u65e0\u9700\u4eba\u5de5\u5e72\u9884</li> <li>\u4e0d\u4f1a\u5e72\u6270\u6b63\u5e38\u7684\u64cd\u4f5c</li> </ul>"},{"location":"attached_device/mouse_jiggler/#_2","title":"\u542f\u7528\u65b9\u6cd5","text":"<ol> <li> <p>\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6 <code>/etc/kvmd/override.yaml</code>\uff1a </p><pre><code>kvmd:\n    hid:\n        jiggler:\n            enabled: true    # \u5728\u83dc\u5355\u4e2d\u663e\u793a\u6b64\u529f\u80fd\n            active: true     # \u5f00\u673a\u540e\u81ea\u52a8\u542f\u52a8\uff08\u53ef\u9009\uff09\n</code></pre> </li> <li> <p>\u91cd\u542f kvmd \u670d\u52a1\uff1a </p><pre><code>sudo systemctl restart kvmd\n</code></pre> </li> <li> <p>\u5728 Web \u754c\u9762\u53f3\u4e0a\u89d2\u7cfb\u7edf\u83dc\u5355\u4e2d\u5f00\u542f\u529f\u80fd\uff1a</p> </li> </ol> <p></p>"},{"location":"attached_device/mouse_jiggler/#_3","title":"\u5de5\u4f5c\u539f\u7406","text":"<p>\u8fd0\u884c\u673a\u5236</p> <ol> <li>\u7cfb\u7edf\u4f1a\u76d1\u63a7\u7528\u6237\u7684\u8f93\u5165\u6d3b\u52a8\uff08\u952e\u76d8\u548c\u9f20\u6807\uff09</li> <li>\u5f53\u68c0\u6d4b\u5230 60 \u79d2\u65e0\u64cd\u4f5c\u65f6\uff1a</li> <li>\u7edd\u5bf9\u5b9a\u4f4d\u6a21\u5f0f\uff1a\u79fb\u52a8\u5230 <code>(-100, -100)</code> \u2192 \u7b49\u5f85 \u2192 <code>(100, 100)</code> \u2192 \u7b49\u5f85</li> <li>\u76f8\u5bf9\u5b9a\u4f4d\u6a21\u5f0f\uff1a\u79fb\u52a8 <code>(-10, -10)</code> \u2192 \u7b49\u5f85 \u2192 <code>(10, 10)</code> \u2192 \u7b49\u5f85</li> <li>\u91cd\u590d\u4ee5\u4e0a\u8fc7\u7a0b\u76f4\u5230\u68c0\u6d4b\u5230\u7528\u6237\u64cd\u4f5c</li> </ol> <p>\u7279\u70b9\u8bf4\u660e</p> <ul> <li>\u652f\u6301\u7edd\u5bf9\u548c\u76f8\u5bf9\u4e24\u79cd\u9f20\u6807\u6a21\u5f0f</li> <li>\u5750\u6807\u4f1a\u6839\u636e\u5c4f\u5e55\u5206\u8fa8\u7387\u81ea\u52a8\u8c03\u6574</li> <li>\u5373\u4f7f\u5173\u95ed Web \u754c\u9762\u4e5f\u80fd\u5728\u540e\u53f0\u8fd0\u884c</li> <li>\u7528\u6237\u64cd\u4f5c\u65f6\u4f1a\u81ea\u52a8\u6682\u505c\uff0c\u4e0d\u4f1a\u9020\u6210\u5e72\u6270</li> <li>\u4ec5\u5728\u68c0\u6d4b\u5230\u8d85\u8fc7 60 \u79d2\u65e0\u64cd\u4f5c\u65f6\u624d\u4f1a\u542f\u52a8</li> </ul>"},{"location":"attached_device/mouse_jiggler/#_4","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u8fdc\u7a0b\u76d1\u63a7\u8f6f\u4ef6\u5b89\u88c5\u8fc7\u7a0b</li> <li>\u9632\u6b62\u7cfb\u7edf\u81ea\u52a8\u9501\u5c4f\u6216\u4f11\u7720</li> <li>\u9700\u8981\u4fdd\u6301\u7cfb\u7edf\u6d3b\u52a8\u72b6\u6001\u7684\u573a\u5408</li> <li>\u957f\u65f6\u95f4\u65e0\u4eba\u503c\u5b88\u7684\u64cd\u4f5c</li> </ul>"},{"location":"attached_device/msd/","title":"\u5927\u5bb9\u91cf\u5b58\u50a8\u9a71\u52a8\u5668","text":"<p>MSD\uff08Mass Storage Drive\uff09\u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u5927\u5bb9\u91cf\u5b58\u50a8\u8bbe\u5907\u529f\u80fd\uff0c\u53ef\u4ee5\u8ba9 One-KVM \u6a21\u62df\u865a\u62df CD/DVD \u6216\u95ea\u5b58\u9a71\u52a8\u5668\u3002\u8fd9\u4f7f\u5f97\u60a8\u53ef\u4ee5\u5728 BIOS/UEFI \u4e2d\u4f7f\u7528\u5b9e\u65f6\u78c1\u76d8\u6765\u6062\u590d\u64cd\u4f5c\u7cfb\u7edf\u6216\u91cd\u65b0\u5b89\u88c5\u7cfb\u7edf\u3002</p> <p>MSD \u529f\u80fd\u8bf4\u660e</p> <ul> <li>CD-ROM \u955c\u50cf\u6587\u4ef6\u6700\u5927\u652f\u6301 2.2 GB\uff08Linux \u5185\u6838\u9650\u5236\uff09\uff0c\u7279\u522b\u9002\u914d\u7684 Linux \u7cfb\u7edf\u65e0\u6b64\u9650\u5236\uff08\u6682\u652f\u6301\u73a9\u5ba2\u4e91\u548c\u79c1\u5bb6\u4e91\u4e8c\u4ee3\uff09</li> <li>Flash \u683c\u5f0f\u955c\u50cf\u6587\u4ef6\u5927\u5c0f\u65e0\u9650\u5236</li> </ul> <p>\u6ce8\u610f\u4e8b\u9879</p> <p>\u5bf9\u4e8e\u73a9\u5ba2\u4e91\uff0c\u8bf7\u4e0d\u8981\u5728 USB \u53cc\u516c\u7ebf\uff08OTG\u7ebf\uff09\u4e0e\u88ab\u63a7\u673a\u65ad\u5f00\u6216\u88ab\u63a7\u673a\u5173\u673a\u65f6\u4f7f\u7528\u89e3\u9664\u955c\u50cf\u6302\u8f7d\u529f\u80fd\uff08\u65ad\u5f00\u8fde\u63a5\uff09\uff0c\u5426\u5219\u4f1a\u56e0 USB OTG \u7aef\u53e3\u64cd\u4f5c\u4e0d\u53ef\u7528\u5bfc\u81f4\u5185\u6838\u6301\u7eed\u62a5\u9519\uff0c\u65e5\u5fd7\u670d\u52a1\u5360\u7528 CPU 100%\uff0c\u7cfb\u7edf\u7a33\u5b9a\u6027\u4e0b\u964d\u3002\u8fd9\u65f6\u9664\u975e USB OTG \u8fde\u63a5\u6062\u590d\u6b63\u5e38\uff0cMSD \u529f\u80fd\u4f1a\u4e00\u76f4\u4fdd\u6301\u4e0d\u53ef\u7528\u72b6\u6001\u3002</p>"},{"location":"attached_device/msd/#msd","title":"MSD \u529f\u80fd\u4f7f\u7528","text":""},{"location":"attached_device/msd/#_1","title":"\u57fa\u672c\u914d\u7f6e","text":"<p>20241004 \u7248\u672c\u4ee5\u540e\uff0cMSD \u529f\u80fd\u9ed8\u8ba4\u542f\u7528\uff08\u4f7f\u7528 /var/lib/kvmd/msd \u76ee\u5f55\uff09\uff0c\u7531\u6302\u8f7d\u5206\u533a\u53d8\u5316\u4e3a\u76f4\u63a5\u4f7f\u7528\u76ee\u5f55\u3002</p>"},{"location":"attached_device/msd/#_2","title":"\u624b\u52a8\u4e0a\u4f20\u955c\u50cf","text":"<p>One-KVM \u5c06\u955c\u50cf\u6587\u4ef6\u5b58\u50a8\u5728 <code>/var/lib/kvmd/msd</code> \u76ee\u5f55\uff0c\u5c06\u955c\u50cf\u6587\u4ef6\u4e0a\u4f20\u5230\u6b64\u76ee\u5f55\u5373\u53ef\u3002</p>"},{"location":"attached_device/msd/#msd_1","title":"\u4fee\u6539 MSD \u8def\u5f84","text":"<p>\u6574\u5408\u5305 201204 \u7248\u672c\u4ee5\u540e\uff0cMSD \u529f\u80fd\u53ef\u5728\u914d\u7f6e\u6587\u4ef6 <code>/etc/kvmd/override.yaml</code> \u4e2d\u4efb\u610f\u6307\u5b9a\u76ee\u5f55\u3002\u82e5\u65e0\u6743\u9650\u53ef\u6267\u884c <code>chown kvmd -R /var/lib/kvmd/msd/</code> \u4f7f\u81ea\u5b9a\u4e49\u76ee\u5f55\u53ef\u5199\u3002</p> <pre><code>kvmd:\n    msd:\n        msd_path: /var/lib/kvmd/msd\n</code></pre>"},{"location":"attached_device/msd/#_3","title":"\u53ef\u5199\u95ea\u5b58\u9a71\u52a8\u5668","text":"<p>\u5728 One-KVM \u4e0a\u6a21\u62df\u95ea\u5b58\u9a71\u52a8\u5668\u65f6\uff0c\u60a8\u53ef\u4ee5\u5141\u8bb8\u76ee\u6807\u4e3b\u673a\u5c06\u6587\u4ef6\u5199\u5165\u955c\u50cf\u3002\u505c\u6b62\u9a71\u52a8\u5668\u540e\uff0c\u53ef\u4ee5\u5728\u672c\u5730\u4e3b\u673a\u4e0a\u4e0b\u8f7d\u5e76\u6253\u5f00\u6b64\u6620\u50cf\u3002\u8fd9\u5bf9\u4e8e\u4ece\u76ee\u6807\u4e3b\u673a\u83b7\u53d6\u6587\u4ef6\u975e\u5e38\u6709\u7528\u3002</p>"},{"location":"attached_device/msd/#ventoy","title":"\u5236\u4f5c ventoy \u53ef\u5f15\u5bfc\u955c\u50cf","text":"<p>\u5bf9\u4e8e 20241004 \uff08\u4e0d\u5305\u542b\uff09\u4ee5\u4e0b\u7248\u672c\uff0c\u64cd\u4f5c\u76ee\u5f55\u65f6\u9700\u8981\u5148\u6267\u884c <code>kvmd-helper-otgmsd-remount rw</code> \u624b\u52a8\u5c06\u5185\u90e8\u5b58\u50a8\u91cd\u65b0\u6302\u8f7d\u4e3a\u8bfb\u5199\u6a21\u5f0f\u3002</p> <ol> <li> <p>\u5728 <code>/var/lib/kvmd/msd</code> \u76ee\u5f55\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684\u955c\u50cf\u6587\u4ef6\uff0c\u5927\u5c0f\u6309\u9700\u8bbe\u7f6e\u3002\u672c\u4f8b\u4e2d\u6587\u4ef6\u540d\u4e3aflash.img\uff0c\u5927\u5c0f\u4e3a 4096MB\u3002</p> <pre><code>dd if=/dev/zero of=/var/lib/kvmd/msd/flash.img bs=1M count=4096 status=progress\n</code></pre> </li> <li> <p>\u7f51\u9875\u83dc\u5355\u9009\u62e9\u9a71\u52a8\u5668 --&gt; \u955c\u50cf --&gt; flash.img\uff0c\u5e76\u5c06\u9a71\u52a8\u6a21\u5f0f\u7531 cd-rom \u5207\u6362\u4e3a flash\uff0c\u5355\u51fb\u8fde\u63a5 MSD \u81f3\u4e3b\u673a\u3002</p> </li> <li> <p>\u88ab\u63a7\u673a\u6253\u5f00 ventoy \uff0c\u9009\u62e9\u865a\u62df\u7684\u78c1\u76d8\u5b89\u88c5\u8f6f\u4ef6\u3002     </p> </li> <li> <p>\u5c06\u7cfb\u7edf\u955c\u50cf\u653e\u5165 ventoy \u5206\u533a\u6587\u4ef6\u5939\u3002     </p> </li> </ol> <p>\u7ed3\u675f\u540e\u6b64 flash \u955c\u50cf\u5236\u4f5c\u5b8c\u6210\uff0c\u5728\u9700\u8981\u7684\u65f6\u5019\u6302\u8f7d\u5f15\u5bfc\u5373\u53ef\u3002</p> <p> </p> <p></p>"},{"location":"attached_device/msd/#_4","title":"\u4e92\u4f20\u6587\u4ef6","text":"<p>\u7531\u7fa4\u53cb\u5f55\u5236\u7684\u6f14\u793a\u89c6\u9891\uff1a</p> <p></p> <p>\u76f8\u5173\u9009\u9879\uff1a </p><pre><code>#\u4f7f\u7528\u7684\u6587\u4ef6\u5939\uff0c\u4f4d\u4e8e MSD \u6587\u4ef6\u5939\u91cc\nnormalfiles_path: NormalFiles\n#\u751f\u6210\u7684\u955c\u50cf\u6587\u4ef6\u5927\u5c0f\uff0c\u5355\u4f4d\u4e3a MB\nnormalfiles_size: 256\n</code></pre>"},{"location":"attached_device/msd/#msd_2","title":"\u9644\u5f55\uff1a\u65e7\u7248\u672c MSD \u5206\u533a\u6302\u8f7d\u8bf4\u660e","text":"<p>MSD \u5206\u533a\u6302\u8f7d\uff0820241004 \u7248\u672c\u4e4b\u524d\uff09</p> <p>\u82e5\u4ecd\u7136\u9700\u8981\u65b0\u5efa\u5206\u533a\u6302\u8f7d\uff0c\u9700\u5728 <code>/etc/kvmd/override.yaml</code> \u4e2d\u6ce8\u91ca msd \u7684\u5b50\u9009\u9879 <code>remount_cmd: /bin/true</code> \u4e3a <code>#remount_cmd: /bin/true</code>\uff0c\u4f7f MSD \u5206\u533a\u5177\u6709\u6b63\u786e\u7684\u6743\u9650\u3002</p> <p>\u4e0b\u9762\u4e09\u79cd\u65b9\u5f0f\u4efb\u9009\u5176\u4e00\u5373\u53ef\u3002\u5bf9\u4e8e\u65b0\u624b\uff0c\u7b2c\u4e09\u79cd\u65b9\u6cd5\u66f4\u4e3a\u63a8\u8350\uff0c\u4f7f\u7528\u865a\u62df\u78c1\u76d8\u6587\u4ef6\u505a MSD \u5206\u533a\uff0c\u65e0\u9700\u5bf9\u7269\u7406\u78c1\u76d8\u8fdb\u884c\u5206\u533a\uff0c\u64cd\u4f5c\u66f4\u52a0\u5b89\u5168\u548c\u7b80\u5355\u3002</p> \u4f7f\u7528\u73a9\u5ba2\u4e91 EMMC \u7a7a\u95f4 <p>\u4f5c\u8005\u5728\u5b89\u88c5\u7bc7\u7684\u7f51\u76d8\u94fe\u63a5\u4e2d\u63d0\u4f9b\u4e86\u5305\u542b\u6b64\u8f6f\u4ef6\u7684\u7cfb\u7edf\u955c\u50cf\uff08\u7f51\u76d8\u8def\u5f84\uff1a/One-KVM \u76f8\u5173/gparted_on_armbain_usbdisk.zip\uff09\uff0c\u5237\u5165U\u76d8\u540e\u5c06U\u76d8\u63d2\u5230\u73a9\u5ba2\u4e91\u7f51\u53e3\u65c1\u7684USB\u53e3\u63d2\u7535\u542f\u52a8\uff0c\u8fde\u63a5ssh\uff08root/1234\uff09\u8f93\u5165<code>gparted</code>\u5373\u53ef\u542f\u52a8\u78c1\u76d8\u5206\u533a\u8f6f\u4ef6\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u6253\u5f00\u5982\u56fe\u6240\u793a\u7684Gparted\u8f6f\u4ef6\u754c\u9762\u8bf7\u68c0\u67e5\u4f60\u7684ssh\u7ec8\u7aef\u662f\u5426\u652f\u6301X11\u8f6c\u53d1\u529f\u80fd\u3002</p> <p>\u5728\u6253\u5f00\u7684Gparted\u754c\u9762\u53f3\u952e /dev/mmcblp1p2 \u9009\u62e9 Resize/Move \u6765\u8c03\u6574\u5206\u533a\uff0c\u5728Free space following\u6846\u4e2d\u8f93\u5165\u65b0\u5efa\u5206\u533a\u7684\u5927\u5c0f\uff08\u53ef\u8f93\u51654096\uff09\uff0c\u518d\u5c06\u5206\u51fa\u6765\u7684\u7a7a\u95f2\u7a7a\u95f4\u683c\u5f0f\u5316\u4e3aext4\u683c\u5f0f\uff0c\u6700\u540e\u70b9\u51fb\u4e3b\u754c\u9762\u9009\u9879\u5361\u4e0b\u7684\"\u221a\"\u5e94\u7528\u521a\u624d\u7684\u9009\u62e9\u5373\u53ef\u3002</p> <p></p> <p></p> \u4f7f\u7528SD\u5361 <p>\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u6742\u724c\u50a8\u5b58\u5361\uff08\u90e8\u5206\u6742\u724c\u50a8\u5b58\u5361\u53cd\u5e94\u4e3aWindows\u6b63\u5e38\u3001Linux\u80fd\u8bc6\u522b\u4f46\u65e0\u6cd5\u8bbf\u95ee\u548c\u8bfb\u5199\uff09\u3002</p> <pre><code>#\u67e5\u770bTF\u5361\u4f4d\u7f6e\nfdisk -l\n#\u5c06\u5176\u683c\u5f0f\u5316\u4e3aext4\u6587\u4ef6\u683c\u5f0f\uff08\u5c06sdx\u66ff\u6362\u4e3a\u4f60\u7684\u8bbe\u5907\u5730\u5740\uff09\nmkfs.ext4 /dev/sdx\n</code></pre> \u4f7f\u7528\u865a\u62df\u78c1\u76d8\u6587\u4ef6 <p>\u901a\u8fc7\u65b0\u5efa\u4e00\u4e2a\u65b0\u7684 img \u6587\u4ef6\u7528\u4f5c MSD \u6587\u4ef6\u7cfb\u7edf\uff0c\u6b64\u65b9\u6cd5\u5df2\u7ecf\u8fc7\u6d4b\u8bd5\u3002</p> <pre><code>#\u865a\u62df\u78c1\u76d8\u521b\u5efa\u793a\u4f8b\u4ee3\u7801\uff0c512\u5355\u4f4d\u4e3a 1M \u7684\u500d\u6570\uff0c\u8fd9\u4e2a\u6570\u5b57\u53ef\u4ee5\u66ff\u6362\u6210\u4f60\u6240\u9700\u8981\u7684\u5bb9\u91cf\ndd if=/dev/zero of=/root/diska.img bs=1M count=512\nmkfs.ext4 /root/diska.img\n</code></pre> <p>\u6302\u8f7d\u5206\u533a</p> <p>\u8bf7\u786e\u8ba4\u8981\u6302\u8f7d\u7684\u5206\u533a\u8def\u5f84\uff0c\u4e0d\u8981\u51fa\u9519\uff08\u5982/dev/mmcblk1\u3001/dev/mmcblk0p3\u3001/root/diska.img\uff09\uff0c\u8fd9\u91cc\u4ee5 /dev/mmcblk0 \u4e3a\u4f8b\u3002</p> <pre><code>#\u67e5\u770b\u7cfb\u7edf\u6240\u6709\u5206\u533a\ndf -h\n\n#\u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u5982\u4e0b\u6302\u8f7d\uff0c\u5982\u4e3a/dev/mmcblk0\u9700\u81ea\u884c\u66ff\u6362\nnano /etc/fstab\n\n/dev/mmcblk0p3 /var/lib/kvmd/msd  ext4  nofail,nodev,nosuid,noexec,rw,errors=remount-ro,data=journal,X-kvmd.otgmsd-root=/var/lib/kvmd/msd,X-kvmd.otgmsd-user=kvmd  0 0\n\n#\u5982\u679c\u6302\u8f7d\u64cd\u4f5c\u62a5\u9519\u8bf7\u68c0\u67e5\u5e76\u4fee\u6b63\u9519\u8bef\nmount /dev/mmcblk0p3\n\n#\u5f00\u542fMSD\u529f\u80fd\uff0c\u5230/etc/kvmd/override.yaml\u4fee\u6539msd\u9009\u9879\u4e3aotg\nnano /etc/kvmd/override.yaml\nsystemctl restart kvmd-otg kvmd\n</code></pre> <p>\u624b\u52a8\u4e0a\u4f20\u955c\u50cf\u3002</p> <p>One-KVM \u5c06\u955c\u50cf\u6587\u4ef6\u5b58\u50a8\u5728\u4e00\u4e2a\u7279\u6b8a\u7684\u5206\u533a\u4e2d\uff0c\u8be5\u5206\u533a\u6302\u8f7d\u5728 <code>/var/lib/kvmd/msd</code> \u76ee\u5f55\u3002\u5982\u679c\u8be5\u5206\u533a\u65e0\u6cd5\u5199\u5165\u8bf4\u660e\u8be5\u5206\u533a\u662f\u53ea\u8bfb\u7684\uff0c\u53ef\u6267\u884c\u4e0b\u5217\u547d\u4ee4\u3002</p> <pre><code>#\u4f7f MSD \u5206\u533a\u53ef\u5199\nsudo kvmd-helper-otgmsd-remount rw\n\n#\u624b\u52a8\u4e0a\u4f20\u955c\u50cf\u6587\u4ef6\u5230 /var/lib/kvmd/msd \u76ee\u5f55\n\n#\u4f7f MSD \u5206\u533a\u53ea\u8bfb\nsudo kvmd-helper-otgmsd-remount ro\n</code></pre>"},{"location":"attached_device/onecloud_atx/","title":"\u73a9\u5ba2\u4e91 GPIO","text":""},{"location":"attached_device/onecloud_atx/#gpio","title":"\u73a9\u5ba2\u4e91 GPIO \u5f15\u811a\u8bf4\u660e","text":"<p>\u73a9\u5ba2\u4e91\u4e3b\u677f\u9884\u7559\u4e86\u591a\u4e2a GPIO \u63a5\u53e3\uff0c\u53ef\u7528\u4e8e\u5b9e\u73b0\u5f00\u5173\u673a\u7b49\u529f\u80fd\u63a7\u5236\u3002WIFI \u710a\u76d8\u7684\u7f16\u53f7\u89c4\u5219\u662f\u4ece\u5de6\u4e0b\u89d2\u5f00\u59cb\u9006\u65f6\u9488\u9012\u589e\u3002</p> <p></p>"},{"location":"attached_device/onecloud_atx/#gpio_1","title":"GPIO \u5f15\u811a\u5bf9\u7167\u8868","text":"<p>\u4ee5\u4e0b\u662f\u53ef\u7528\u7684 GPIO \u5f15\u811a\u4e0e\u710a\u76d8\u5bf9\u5e94\u5173\u7cfb\uff1a</p> <pre><code>GPIO-430  \u710a\u76d819  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-431  \u710a\u76d814  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-432  \u710a\u76d815  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-433  \u710a\u76d827  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-434  \u710a\u76d825  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-435  \u710a\u76d828  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-436  \u710a\u76d826  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-437  \u710a\u76d817  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-438  \u710a\u76d816  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-440  \u710a\u76d812  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-441  \u710a\u76d843  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-442  \u710a\u76d842  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-444  \u710a\u76d844  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-445  \u710a\u76d834  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\nGPIO-446  \u710a\u76d813  \u9ed8\u8ba4\u8f93\u5165\u6a21\u5f0f\n</code></pre>"},{"location":"attached_device/onecloud_atx/#gpio_2","title":"GPIO \u4f7f\u7528\u793a\u4f8b","text":"<p>\u4ee5 26 \u53f7\u710a\u76d8\u4e3a\u4f8b\uff0c\u8bf4\u660e\u5982\u4f55\u786e\u5b9a\u5176\u5bf9\u5e94\u7684 GPIO \u914d\u7f6e\uff1a</p> <ol> <li> <p>\u901a\u8fc7\u7269\u7406\u4f4d\u7f6e\u627e\u5230\u710a\u76d8 26\uff0c\u5bf9\u5e94\u7684 sysfs gpio \u7f16\u53f7\u4e3a gpio-436</p> <ul> <li>\u6ce8\u610f\uff1a6.x \u53ca\u4ee5\u4e0a\u7248\u672c Linux \u5185\u6838\u9700\u8981\u52a0\u4e0a 91 \u7684\u504f\u79fb\u91cf\uff0c\u5373\u4e3a gpio-527</li> </ul> </li> <li> <p>\u6839\u636e\u8f6f\u4ef6\u6807\u8bc6\u540d\u79f0 \"J2 Header Pin 16\" \u53ef\u627e\u5230\u5bf9\u5e94\u7684 gpioinfo \u7f16\u53f7\u4e3a gpiochip0 line7</p> </li> <li> <p>\u5728 <code>/etc/kvmd/custom_atx/gpio.sh</code> \u4e2d\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u63a7\u5236\u8be5 GPIO\uff1a</p> </li> </ol> <pre><code>gpioset -m time -s 1 gpiochip0 7=0\ngpioset gpiochip0 7=1\n</code></pre>"},{"location":"attached_device/onecloud_atx/#gpio_3","title":"GPIO \u76f4\u8fde\u65b9\u6848","text":"<p>\u6ce8\u610f\u4e8b\u9879</p> <ul> <li>\u6b64\u65b9\u6848\u53ef\u80fd\u4e0d\u9002\u7528\u4e8e\u975e\u6807\u51c6 ATX \u7535\u6e90\u7ba1\u7406\u8bbe\u5907</li> <li> <p>\u534e\u5357\u91d1\u724c X99-F8 \u548c K9-ETH \u4e3b\u677f\u7528\u6237\u8bf7\u6ce8\u610f\uff1a</p> <ul> <li>GPIO \u9700\u63a5\u5165\u5f00\u673a\u8df3\u7ebf 7 \u811a\uff0cGND \u9700\u63a5\u5165 9 \u811a\uff08\u800c\u975e\u5e38\u89c4\u7684 57 \u811a\uff09\uff0c\u63a5\u7ebf\u9519\u8bef\u53ef\u80fd\u5bfc\u81f4\u4e3b\u677f\u65e0\u6cd5\u5f00\u673a\u6216 RST \u952e\u5931\u6548</li> </ul> </li> </ul> <p>\u672c\u65b9\u6848\u9002\u7528\u4e8e\u65b0\u65e7\u7248\u672c\u73a9\u5ba2\u4e91\uff0c\u901a\u8fc7\u7ea2\u5916\u63a5\u53e3\u9884\u7559\u7684 GPIO \u5b9e\u73b0\u7269\u7406\u5f00\u5173\u673a\u63a7\u5236\uff1a</p> <ol> <li>\u53ea\u9700\u4f7f\u7528\u4e00\u7ec4 GPIO \u63a5\u53e3\uff083.3V \u7535\u5e73\uff09</li> <li> <p>\u5728\u7ea2\u5916\u6a21\u5757\u9884\u7559\u63a5\u53e3\u710a\u63a5\u4e24\u6839\u5f15\u7ebf\uff1a</p> <ul> <li>GPIO-420 \u63a5\u5f00\u673a\u5f15\u811a\u6b63\u6781</li> <li>GND \u63a5\u5f00\u673a\u5f15\u811a\u8d1f\u6781</li> </ul> </li> </ol> <p> </p>"},{"location":"attached_device/onecloud_atx/#_1","title":"\u5149\u8026\u9694\u79bb\u65b9\u6848","text":"<p>\u4e3a\u63d0\u9ad8\u5b89\u5168\u6027\uff0c\u4e5f\u53ef\u4f7f\u7528\u5149\u8026\u9694\u79bb\u677f\u8fdb\u884c\u8fde\u63a5\uff1a</p> <p> </p>"},{"location":"attached_device/usb2gpio/","title":"Usb2gpio","text":""},{"location":"attached_device/usb2gpio/#usb-gpio","title":"USB \u8f6c GPIO \u914d\u7f6e","text":""},{"location":"attached_device/usb_dynamic/","title":"\u52a8\u6001 USB \u914d\u7f6e","text":""},{"location":"attached_device/usb_dynamic/#usb","title":"\u52a8\u6001 USB \u914d\u7f6e","text":"<p>One-KVM \u901a\u8fc7\u6a21\u62df\u591a\u4e2a USB \u8bbe\u5907\u6765\u5b9e\u73b0\u57fa\u672c\u529f\u80fd\uff1a</p> <ul> <li>\u952e\u76d8</li> <li>\u9f20\u6807\uff08\u7edd\u5bf9\u5b9a\u4f4d\uff09</li> <li>\u9f20\u6807\uff08\u76f8\u5bf9\u5b9a\u4f4d\uff09</li> <li>\u5927\u5bb9\u91cf\u5b58\u50a8</li> <li>\u4ee5\u592a\u7f51/\u4e32\u53e3\uff08\u53ef\u9009\uff09</li> </ul> <p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u88ab\u63a7\u673a\u7684 BIOS/UEFI \u53ef\u80fd\u65e0\u6cd5\u540c\u65f6\u8bc6\u522b\u5355\u4e2a USB \u7aef\u53e3\u4e0a\u7684\u6240\u6709\u6a21\u62df\u8bbe\u5907\u3002\u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528 <code>kvmd-otgconf</code> \u547d\u4ee4\uff08\u9700\u8981 root \u6743\u9650\uff09\u6765\u52a8\u6001\u7ba1\u7406\u8fd9\u4e9b\u8bbe\u5907\uff1a</p> <pre><code># \u67e5\u770b\u5f53\u524d\u914d\u7f6e\nroot@onecloud:~# kvmd-otgconf\n+ ecm.usb0  # \u4ee5\u592a\u7f51\n+ hid.usb0  # \u952e\u76d8\n+ hid.usb1  # \u7edd\u5bf9\u5b9a\u4f4d\u9f20\u6807\n+ hid.usb2  # \u76f8\u5bf9\u5b9a\u4f4d\u9f20\u6807\n\n# \u7981\u7528/\u542f\u7528\u8bbe\u5907\u793a\u4f8b\nroot@onecloud:~# kvmd-otgconf --disable-function ecm.usb0  # \u7981\u7528\u4ee5\u592a\u7f51\nroot@onecloud:~# kvmd-otgconf --enable-function ecm.usb0   # \u542f\u7528\u4ee5\u592a\u7f51\n</code></pre>"},{"location":"attached_device/usb_dynamic/#_1","title":"\u7f51\u9875\u63a7\u5236","text":"<p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u5c06 USB \u8bbe\u5907\u63a7\u5236\u96c6\u6210\u5230\u7f51\u9875\u754c\u9762\u4e2d\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u751f\u6210\u914d\u7f6e\u6a21\u677f\uff1a</p> <pre><code>root@onecloud:~# kvmd-otgconf --make-gpio-config\nkvmd:\n    gpio:\n        drivers:\n            otgconf:\n                type: otgconf\n        scheme:\n            ecm.usb0:\n                driver: otgconf\n                mode: output\n                pin: ecm.usb0\n                pulse: false\n            # ... \u5176\u4ed6\u8bbe\u5907\u914d\u7f6e ...\n        view:\n            table:\n                - ['#\u4ee5\u592a\u7f51', '#ecm.usb0', ecm.usb0]\n                - ['#\u952e\u76d8', '#hid.usb0', hid.usb0]\n                - ['#\u7edd\u5bf9\u5b9a\u4f4d\u9f20\u6807', '#hid.usb1', hid.usb1]\n                - ['#\u76f8\u5bf9\u5b9a\u4f4d\u9f20\u6807', '#hid.usb2', hid.usb2]\n</code></pre> <p>\u5c06\u751f\u6210\u7684\u914d\u7f6e\u6dfb\u52a0\u5230 <code>/etc/kvmd/override.yaml</code> \u6587\u4ef6\u4e2d\u5373\u53ef\u5728\u7f51\u9875\u754c\u9762\u4e2d\u63a7\u5236\u5404\u4e2a USB \u8bbe\u5907\u7684\u5f00\u5173\u72b6\u6001\u3002</p> <p></p>"},{"location":"attached_device/usb_ethernet/","title":"USB \u4ee5\u592a\u7f51","text":""},{"location":"attached_device/usb_ethernet/#_1","title":"\u57fa\u672c\u914d\u7f6e","text":"<ol> <li> <p>\u7f16\u8f91 <code>/etc/kvmd/override.yaml</code> \u6587\u4ef6\u6dfb\u52a0\u914d\u7f6e\uff1a     </p><pre><code>otg:\n    devices:\n        ethernet:\n            enabled: true\n            driver: ecm\n            host_mac: 48:6f:73:74:50:43  # \u88ab\u63a7\u673a\u7f51\u7edc\u63a5\u53e3\u7684MAC\u5730\u5740\n            kvm_mac: 42:61:64:55:53:42   # PiKVM usb0\u63a5\u53e3\u7684MAC\u5730\u5740\n</code></pre> <p>\u9a71\u52a8\u7a0b\u5e8f\u517c\u5bb9\u6027\uff1a</p> \u9a71\u52a8\u7a0b\u5e8f \u64cd\u4f5c\u7cfb\u7edf ecm Linux macOS eem Linux rndis5 \u4eceWindows XP\u5230Windows 7 Linux &gt; 2.6.13 rndis Windows 7\u53ca\u4ee5\u4e0a Linux &gt; 2.6.13 ncm Windows 10\u53ca\u4ee5\u4e0a Linux &gt; 2.6.37 macOS <p></p> </li> <li> <p>\u542f\u7528 <code>kvmd-otgnet</code> \u670d\u52a1\u8fdb\u884c\u81ea\u52a8\u914d\u7f6e\uff1a     </p><pre><code>sudo systemctl start kvmd-otgnet\nsudo systemctl enable kvmd-otgnet\n</code></pre> <p>\u6ce8\u610f\uff1a\u670d\u52a1\u542f\u52a8\u540e\uff0c\u88ab\u63a7\u673a\u53ef\u80fd\u9700\u8981\u624b\u52a8\u83b7\u53d6IP\uff1a </p><pre><code># Ubuntu 22.04\u6d4b\u8bd5\u901a\u8fc7\nifconfig -a                # \u67e5\u770b\u7f51\u7edc\u63a5\u53e3\u540d\u79f0\nsudo apt install udhcpc   # \u5b89\u88c5 DHCP \u5ba2\u6237\u7aef\nudhcpc -i &lt;\u63a5\u53e3\u540d\u79f0&gt;      # \u83b7\u53d6 IP \u5730\u5740\n</code></pre> <p> \u5982\u679c\u8981\u5141\u8bb8\u4ece\u88ab\u63a7\u673a\u8bbf\u95ee One-KVM \u754c\u9762\uff0c\u5219\u3001\u9700\u8981\u4f7f\u7528 <code>/etc/kvmd/override.yaml</code> \u6587\u4ef6\u5728\u767d\u540d\u5355\u4e2d\u6dfb\u52a0\u7aef\u53e3 80 \u548c 443\uff0c\u5982\u4e0b\u6240\u793a\uff1a </p><pre><code>otgnet:\n    firewall:\n        allow_tcp: [80, 443]\n</code></pre> </li> </ol>"},{"location":"attached_device/usb_ethernet/#_2","title":"\u8def\u7531\u8f6c\u53d1","text":"<p>\u8981\u542f\u7528\u88ab\u63a7\u673a\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\u7684\u529f\u80fd\uff0c\u9700\u8981\uff1a</p> <ol> <li> <p>\u5f00\u542fIPv4\u8f6c\u53d1\uff1a     </p><pre><code>echo \"net.ipv4.ip_forward = 1\" &gt; /etc/sysctl.d/99-kvmd-extra.conf\n</code></pre> </li> <li> <p>\u914d\u7f6e\u7f51\u7edc\u53c2\u6570\uff08\u5728 <code>/etc/kvmd/override.yaml</code> \u4e2d\uff09\uff1a     </p><pre><code>otgnet:\n    firewall:\n        forward_iface: eth0    # \u6307\u5b9a\u5916\u90e8\u7f51\u7edc\u63a5\u53e3\n    commands:\n        post_start_cmd_append:\n        - \"--dhcp-option=6,8.8.8.8\"    # \u914d\u7f6eDNS\u670d\u52a1\u5668\n    iface:\n        net: 10.65.0.0/28    # \u8bbe\u7f6e\u4e0d\u540c\u4e8e\u4e3b\u7f51\u7edc\u7684\u5730\u5740\u6bb5\n</code></pre> </li> <li> <p>\u91cd\u542f One-KVM\u3002<code>reboot</code> </p> </li> </ol>"},{"location":"attached_device/usb_ethernet/#windows","title":"Windows \u7cfb\u7edf\u914d\u7f6e","text":"<p>\u5bf9\u4e8e Windows \u7cfb\u7edf\uff1a</p> <ol> <li>\u4f7f\u7528 <code>rndis</code> \u9a71\u52a8</li> <li>Windows 7 \u53ca\u4ee5\u4e0a\u7248\u672c\u4f1a\u81ea\u52a8\u5b89\u88c5\u9a71\u52a8</li> <li>Windows XP \u81f3 Windows 7 \u9700\u8981\u624b\u52a8\u5b89\u88c5 RNDIS 5 \u9a71\u52a8</li> </ol> <p>\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7 ping \u547d\u4ee4\u6d4b\u8bd5\u8fde\u63a5\u3002</p>"},{"location":"attached_device/usb_relay/","title":"USB \u7ee7\u7535\u5668","text":""},{"location":"attached_device/usb_relay/#usb-atx","title":"USB \u7ee7\u7535\u5668\u5b9e\u73b0 ATX \u7535\u6e90\u7ba1\u7406","text":""},{"location":"attached_device/usb_relay/#_1","title":"\u786c\u4ef6\u8981\u6c42","text":"<ul> <li>\u8bbe\u5907\u578b\u53f7\uff1aLCUS_HID USB \u7ee7\u7535\u5668</li> <li>\u8bbe\u5907\u8def\u5f84\uff1a<code>/dev/hidraw0</code></li> </ul>"},{"location":"attached_device/usb_relay/#_2","title":"\u914d\u7f6e\u8bf4\u660e","text":"<p>\u5728\u542f\u52a8 Docker \u5bb9\u5668\u65f6\uff0c\u9700\u8981\uff1a</p> <ol> <li>\u6620\u5c04\u7ee7\u7535\u5668\u8bbe\u5907</li> <li>\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf <code>ATX=USBRELAY_HID</code></li> </ol>"},{"location":"attached_device/usb_relay/#_3","title":"\u90e8\u7f72\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u79c1\u5bb6\u4e91\u4e8c\u4ee3\u7684\u5b8c\u6574\u90e8\u7f72\u547d\u4ee4\uff1a</p> <pre><code>docker run --name kvmd -itd --privileged=true \\\n    -v /dev:/dev -v /sys/kernel/config:/sys/kernel/config \\\n    -v /lib/modules:/lib/modules:ro -e OTG=1 -e VIDEONUM=1 -e ATX=USBRELAY_HID \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    silentwind0/kvmd\n</code></pre>"},{"location":"attached_device/usb_relay/#_4","title":"\u6f14\u793a\u89c6\u9891","text":""},{"location":"attached_device/usb_serial/","title":"USB \u4e32\u53e3","text":""},{"location":"attached_device/usb_serial/#usb","title":"USB \u4e32\u53e3\u529f\u80fd","text":"<p>USB \u4e32\u53e3\u529f\u80fd\u5141\u8bb8\u88ab\u63a7\u4e3b\u673a\u901a\u8fc7\u865a\u62df\u4e32\u53e3\u8bbf\u95ee One-KVM\uff0c\u6216\u7528\u4e8e\u5176\u4ed6\u9700\u8981\u4e32\u884c\u8fde\u63a5\u7684\u573a\u666f\u3002</p> <p>USB \u8bbe\u5907\u9650\u5236\u8bf4\u660e</p> <p>\u6bcf\u4e2a\u6a21\u62df\u7684 USB \u8bbe\u5907\u90fd\u4f1a\u6d88\u8017\u6709\u9650\u7684\u786c\u4ef6\u8d44\u6e90\uff08\u79f0\u4e3a\u7aef\u70b9\uff09\u3002</p>"},{"location":"attached_device/usb_serial/#_1","title":"\u914d\u7f6e\u6b65\u9aa4","text":"<ol> <li> <p>\u7f16\u8f91 <code>/etc/kvmd/override.yaml</code> \u6dfb\u52a0\u4e32\u53e3\u914d\u7f6e\uff1a     </p><pre><code>otg:\n    devices:\n        serial:\n            enabled: true\n</code></pre> </li> <li> <p>\u6dfb\u52a0\u4e32\u53e3\u7ec8\u7aef\u8bbe\u5907\uff1a     </p><pre><code>sudo echo ttyGS0 &gt;&gt; /etc/securetty\n</code></pre> </li> <li> <p>\u914d\u7f6e\u4e32\u53e3\u670d\u52a1\uff1a     </p><pre><code># \u521b\u5efa\u914d\u7f6e\u76ee\u5f55\nsudo mkdir -p /etc/systemd/system/getty@ttyGS0.service.d\n\n# \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\nsudo nano /etc/systemd/system/getty@ttyGS0.service.d/override.conf\n</code></pre> <p>\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a </p><pre><code>[Service]\nTTYReset=no\nTTYVHangup=no\nTTYVTDisallocate=no\n</code></pre> </li> <li> <p>\u542f\u7528\u670d\u52a1\u5e76\u91cd\u542f\uff1a     </p><pre><code>sudo systemctl enable getty@ttyGS0.service\nsudo reboot\n</code></pre> </li> </ol>"},{"location":"attached_device/usb_serial/#_2","title":"\u4f7f\u7528\u8bf4\u660e","text":"<p>\u91cd\u542f\u540e\uff0c\u88ab\u63a7\u4e3b\u673a\u53ef\u4ee5\u901a\u8fc7\u865a\u62df\u4e32\u53e3\u8bbf\u95ee One-KVM\u3002\u4e32\u53e3\u8bbe\u5907\u540d\u79f0\u53ef\u80fd\u4e3a\uff1a</p> <ul> <li><code>/dev/ttyAMA0</code></li> <li><code>/dev/ttyACM0</code></li> </ul> <p>\u4f7f\u7528\u793a\u4f8b\uff1a </p><pre><code>sudo screen /dev/ttyACM0 115200\n</code></pre> <p></p>"},{"location":"audio_and_video/audio/","title":"H.264 \u97f3\u9891","text":""},{"location":"audio_and_video/audio/#hdmi","title":"HDMI \u97f3\u9891\u652f\u6301","text":"<p>\u97f3\u9891\u529f\u80fd\u8bf4\u660e</p> <p>One-KVM \u6700\u65b0\u7248\u672c\u652f\u6301\u901a\u8fc7 H.264/WebRTC \u5b9e\u65f6\u4f20\u8f93 HDMI \u97f3\u9891\uff0c\u97f3\u8d28\u8db3\u591f\u6d41\u7545\u5730\u64ad\u653e\u97f3\u4e50\u3002\u7cfb\u7edf\u4f7f\u7528 Linux ALSA \u58f0\u5361\u9a71\u52a8\uff0c\u7531 ustreamer \u548c janus \u8d1f\u8d23\u91c7\u96c6 HDMI \u97f3\u9891\u5e76\u8f6c\u7801\u4e3a opus \u683c\u5f0f\u3002</p>"},{"location":"audio_and_video/audio/#_1","title":"\u914d\u7f6e\u65b9\u6cd5","text":"<p>Docker \u7248\u672c\u7528\u6237</p> <p>\u901a\u8fc7\u73af\u5883\u53d8\u91cf <code>-e AUDIONUM=0</code> \u6307\u5b9a\u97f3\u9891\u8bbe\u5907\uff0c\u8be6\u89c1Docker \u73af\u5883\u53d8\u91cf\u8bf4\u660e\u3002</p> <p>\u6574\u5408\u5305\u7528\u6237</p> <p>\u7f16\u8f91\u97f3\u9891\u914d\u7f6e\u6587\u4ef6 <code>/etc/kvmd/janus/janus.plugin.ustreamer.jcfg</code>\uff1a</p> <pre><code>video: {\n    sink = \"kvmd::ustreamer::h264\"\n}\naudio: {\n     device = \"hw:0\"\n     tc358743 = \"/dev/video0\"\n}\n</code></pre> <p>\u914d\u7f6e\u8bf4\u660e\uff1a</p> <ul> <li><code>device</code>: \u97f3\u9891\u8bbe\u5907\u5730\u5740</li> <li><code>tc358743</code>: \u91c7\u96c6\u5361\u89c6\u9891\u8bbe\u5907\u5730\u5740</li> </ul>"},{"location":"audio_and_video/audio/#_2","title":"\u67e5\u627e\u97f3\u9891\u8bbe\u5907","text":"<p>\u5728 Linux \u7cfb\u7edf\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u53ef\u7528\u7684\u97f3\u9891\u8bbe\u5907\uff1a </p><pre><code>arecord -L   # \u67e5\u770b\u8be6\u7ec6\u8bbe\u5907\u5217\u8868\narecord -l   # \u67e5\u770b\u7b80\u8981\u8bbe\u5907\u5217\u8868\n</code></pre> <p>\u652f\u6301\u4ee5\u4e0b\u4e09\u79cd\u65b9\u5f0f\u6307\u5b9a\u97f3\u9891\u8bbe\u5907\uff1a</p> <ol> <li>\u58f0\u5361\u7f16\u53f7\u65b9\u5f0f\uff1a<code>hw:0</code></li> <li>\u58f0\u5361\u540d\u79f0\u65b9\u5f0f\uff1a<code>hw:CARD=MS2109</code></li> <li>\u8bbe\u5907\u6587\u4ef6\u65b9\u5f0f\uff1a<code>hw:/dev/snd/controlC0</code></li> </ol> <p>\u9009\u62e9\u5176\u4e2d\u4e00\u79cd\u65b9\u5f0f\u914d\u7f6e\u5373\u53ef\u542f\u7528 HDMI \u97f3\u9891\u529f\u80fd\u3002</p>"},{"location":"audio_and_video/audio/#_3","title":"\u6548\u679c\u5c55\u793a","text":""},{"location":"audio_and_video/h264/","title":"H.264 / WebRTC","text":""},{"location":"audio_and_video/h264/#h264","title":"H.264 \u89c6\u9891\u529f\u80fd","text":"<p>H.264 \u7b80\u4ecb</p> <p>H.264\uff08\u4e5f\u79f0\u4e3a MPEG-4 AVC\uff09\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u89c6\u9891\u538b\u7f29\u6807\u51c6\uff0c\u5e7f\u6cdb\u5e94\u7528\u4e8e\u6d41\u5a92\u4f53\u4f20\u8f93\u3002\u76f8\u6bd4 MJPEG\uff0cH.264 \u5177\u6709\u4ee5\u4e0b\u4f18\u52bf\uff1a</p> <ul> <li>\u66f4\u4f4e\u7684\u5e26\u5bbd\u5360\u7528</li> <li>\u66f4\u597d\u7684\u538b\u7f29\u6548\u7387</li> <li>\u652f\u6301\u97f3\u9891\u4f20\u8f93</li> <li>\u66f4\u4f4e\u7684\u7f51\u7edc\u5ef6\u8fdf</li> </ul>"},{"location":"audio_and_video/h264/#_1","title":"\u5b9e\u73b0\u65b9\u6848","text":"<p>One-KVM \u63d0\u4f9b\u4e24\u79cd H.264 \u7f16\u7801\u65b9\u6848\uff1a</p> Libx264 \u65b9\u6848\uff08\u63a8\u8350\uff09 <p>Libx264 \u662f VideoLAN \u5f00\u53d1\u7684\u9ad8\u6027\u80fd H.264 \u7f16\u7801\u5e93\u3002\u6b64\u65b9\u6848\uff1a</p> <ul> <li>\u5df2\u96c6\u6210\u5230\u6700\u65b0\u7248\u672c\u4e2d\u5e76\u9ed8\u8ba4\u542f\u7528</li> <li>\u6027\u80fd\u4f18\u5f02\uff0c\u4f7f\u7528\u4fbf\u6377</li> <li>\u652f\u6301 WebRTC \u5b9e\u65f6\u4f20\u8f93</li> <li>\u6e90\u7801\u53ef\u5728 ustreamer \u5206\u652f \u67e5\u770b</li> </ul> FFmpeg \u65b9\u6848\uff08\u5df2\u505c\u6b62\u7ef4\u62a4\uff09 <p>\u6b64\u65b9\u6848\u4f7f\u7528 FFmpeg \u8f6f\u4ef6\u7f16\u7801\uff0c\u7531\u4e8e\u6027\u80fd\u95ee\u9898\u5df2\u505c\u6b62\u7ef4\u62a4\uff1a</p> <ul> <li>CPU \u5360\u7528\u8f83\u9ad8</li> <li>\u5728\u4f4e\u6027\u80fd\u8bbe\u5907\u4e0a\u4f53\u9a8c\u8f83\u5dee</li> <li>\u4ec5\u4f5c\u4e3a\u5386\u53f2\u65b9\u6848\u5f52\u6863\u4f7f\u7528</li> </ul>"},{"location":"audio_and_video/h264/#webrtc","title":"WebRTC \u914d\u7f6e","text":"<p>WebRTC \u8bf4\u660e</p> <p>WebRTC \u4f7f\u7528 P2P \u8fde\u63a5\u548c UDP \u4f20\u8f93\uff0c\u53ef\u4ee5\uff1a</p> <ul> <li>\u964d\u4f4e\u7f51\u7edc\u5ef6\u8fdf</li> <li>\u51cf\u5c11\u670d\u52a1\u5668\u8d1f\u8f7d</li> <li>\u63d0\u4f9b\u66f4\u597d\u7684\u5b9e\u65f6\u6027\u80fd</li> </ul> <p>\u9ed8\u8ba4\u914d\u7f6e</p> <p>WebRTC \u9ed8\u8ba4\u4f7f\u7528 Google STUN \u670d\u52a1\u5668\uff0c\u914d\u7f6e\u4f4d\u4e8e <code>/etc/kvmd/override.yaml</code>\uff1a </p><pre><code>janus:\n    stun:\n        host: stun.l.google.com\n        port: 19302\n        retries: 5\n        retries_delay: 5.0\n        timeout: 5.0\n</code></pre> <p>\u8fdc\u7a0b\u8bbf\u95ee\u914d\u7f6e</p> <p>\u652f\u6301\u4e24\u79cd\u8fdc\u7a0b\u8bbf\u95ee\u65b9\u5f0f\uff1a</p> <ol> <li> <p>\u7aef\u53e3\u6620\u5c04\uff08\u4e0d\u63a8\u8350\uff09</p> <ul> <li>\u9700\u8981\u6620\u5c04 20000-40000 UDP \u7aef\u53e3</li> <li>\u914d\u7f6e\u590d\u6742\uff0c\u5b89\u5168\u6027\u8f83\u4f4e</li> </ul> <p></p> </li> <li> <p>\u5f02\u5730\u7ec4\u7f51\uff08\u63a8\u8350\uff09</p> <ul> <li>\u4f7f\u7528 Tailscale \u7b49\u5de5\u5177\u5efa\u7acb\u5b89\u5168\u96a7\u9053</li> <li>\u914d\u7f6e\u7b80\u5355\uff0c\u5b89\u5168\u6027\u9ad8</li> <li>\u65e0\u9700\u6620\u5c04\u5927\u91cf\u7aef\u53e3</li> </ul> <p></p> </li> </ol>"},{"location":"audio_and_video/h264/#_2","title":"\u89c6\u9891\u8d28\u91cf\u8c03\u4f18","text":"<p>\u753b\u8d28\u4f18\u5316</p> <p>\u5982\u679c\u89c6\u9891\u8d28\u91cf\u4e0d\u7406\u60f3\uff0c\u53ef\u4ee5\uff1a</p> <ol> <li>\u5728\u7f51\u9875\u53f3\u4e0a\u89d2\u7cfb\u7edf\u83dc\u5355\u4e2d\u8c03\u6574 H.264 \u6bd4\u7279\u7387</li> <li>\u6839\u636e\u7f51\u7edc\u72b6\u51b5\u9002\u5f53\u8c03\u6574\u5206\u8fa8\u7387</li> <li>\u9009\u62e9\u5408\u9002\u7684\u753b\u8d28\u9884\u8bbe</li> </ol>"},{"location":"audio_and_video/h264/#_3","title":"\u6f14\u793a\u89c6\u9891","text":""},{"location":"audio_and_video/video_record/","title":"\u89c6\u9891\u5f55\u5236","text":""},{"location":"audio_and_video/video_record/#_1","title":"\u89c6\u9891\u5f55\u5236\u529f\u80fd","text":"<p>One-KVM \u652f\u6301\u524d\u7aef\u548c\u540e\u7aef\u4e24\u79cd\u89c6\u9891\u5f55\u5236\u65b9\u5f0f\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u65b9\u6848\u3002</p>"},{"location":"audio_and_video/video_record/#_2","title":"\u524d\u7aef\u5f55\u5236","text":"<p>\u6d4f\u89c8\u5668\u5f55\u5236</p> <p>\u524d\u7aef\u5f55\u5236\u529f\u80fd\u7531\u6d4f\u89c8\u5668\u7684 MediaStream Recording API \u5b9e\u73b0\uff0c\u652f\u6301\uff1a</p> <ul> <li>MJPEG \u89c6\u9891\u6a21\u5f0f\uff08\u65e0\u97f3\u9891\uff09</li> <li>H.264/WebRTC \u89c6\u9891\u6a21\u5f0f\uff08\u53ef\u5305\u542b\u97f3\u9891\uff09</li> <li>\u81ea\u52a8\u4e0b\u8f7d\u5f55\u5236\u6587\u4ef6\uff08WebM \u683c\u5f0f\uff09</li> </ul> <p>\u4f7f\u7528\u65b9\u6cd5</p> <ol> <li>\u70b9\u51fb\u7f51\u9875\u53f3\u4e0a\u89d2 --&gt; \u7cfb\u7edf --&gt; \u5f00\u59cb\u5f55\u5236</li> <li>\u7cfb\u7edf\u5f00\u59cb\u5f55\u5236\u5f53\u524d\u89c6\u9891\u753b\u9762</li> <li>\u70b9\u51fb\u7ed3\u675f\u5f55\u5236\u540e\uff0c\u6d4f\u89c8\u5668\u81ea\u52a8\u4e0b\u8f7d\u5f55\u5236\u6587\u4ef6</li> </ol> <p></p>"},{"location":"audio_and_video/video_record/#_3","title":"\u540e\u7aef\u5f55\u5236","text":"<p>\u547d\u4ee4\u884c\u5f55\u5236</p> <p>\u540e\u7aef\u5f55\u5236\u4f7f\u7528 ustreamer-dump \u5de5\u5177\uff0c\u652f\u6301\uff1a</p> <ul> <li>\u591a\u79cd\u89c6\u9891\u7f16\u7801\u683c\u5f0f</li> <li>\u5b9e\u65f6\u8f6c\u7801\u529f\u80fd</li> <li>\u7075\u6d3b\u7684\u547d\u4ee4\u884c\u9009\u9879</li> </ul> <p>\u5f55\u5236\u539f\u59cb\u7801\u6d41</p> <pre><code># \u5f55\u5236 H.264 \u89c6\u9891\u7801\u6d41\uff08\u9700\u542f\u7528 H.264\uff09\nustreamer-dump -s kvmd::ustreamer::h264 -o video-record.h264\n\n# \u5f55\u5236 MJPEG \u89c6\u9891\u7801\u6d41\uff08\u9700\u542f\u7528 MJPEG\uff09\nustreamer-dump -s kvmd::ustreamer::jpeg -o video-record.mjpeg\n\n# \u5f55\u5236 YUYV \u89c6\u9891\u7801\u6d41\uff08\u9700\u542f\u7528 YUYV\uff09\nustreamer-dump -s kvmd::ustreamer::yuyv -o video-record.yuyv\n</code></pre> <p>\u5b9e\u65f6\u8f6c\u7801\u4e3a MP4</p> <pre><code># MJPEG \u8f6c MP4\nustreamer-dump -s kvmd::ustreamer::jpeg -o - | \\\n    ffmpeg -use_wallclock_as_timestamps 1 -i pipe: -c:v libx264 video-record.mp4\n\n# H.264 \u8f6c MP4\nustreamer-dump -s kvmd::ustreamer::h264 -o - | \\\n    ffmpeg -use_wallclock_as_timestamps 1 -i pipe: -c:v libx264 video-record.mp4\n</code></pre> <p>\u67e5\u770b\u5e2e\u52a9</p> <p>\u4f7f\u7528 <code>ustreamer-dump --help</code> \u53ef\u4ee5\u67e5\u770b\u66f4\u591a\u547d\u4ee4\u884c\u9009\u9879\u548c\u7528\u6cd5\u8bf4\u660e\u3002</p>"},{"location":"development/api/","title":"HTTP API","text":"<p>\u8fd9\u91cc\u7b80\u5355\u4ecb\u7ecd PiKVM API\uff0c\u7531\u4e8e\u8f6f\u4ef6\u7531\u591a\u4e2a\u5fae\u670d\u52a1\u7ec4\u6210\uff0c\u56e0\u6b64\u7531 Nginx \u63d0\u4f9b\u4e00\u4e2a\u901a\u7528\u7684 API \u5165\u53e3\u70b9 <code>/api/</code>\u3002</p>"},{"location":"development/api/#_1","title":"\u8eab\u4efd\u9a8c\u8bc1","text":"<p>\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3\u90fd\u9700\u8981\u9274\u6743\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u90fd\u8981\u9010\u4e00\u5730\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff0c\u6216\u8005\u83b7\u53d6\u4e00\u4e2a\u4ee4\u724c\u5e76\u5c06\u5176\u4f5c\u4e3a Cookie \u4e0e\u6bcf\u4e2a\u8bf7\u6c42\u4e00\u8d77\u4f20\u9012\u3002\u542f\u7528 2FA \u540e\uff0c\u9700\u8981\u5c06\u4e00\u6b21\u6027\u4ee3\u7801\u6dfb\u52a0\u5230\u5bc6\u7801\u4e2d\uff0c\u4e14\u4e0d\u7559\u7a7a\u683c\u3002\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55 TOTP \u5e93\uff08\u4f8b\u5982 Python\uff09\u751f\u6210\u4ee3\u7801\uff1a</p> <pre><code>import requests\nimport pyotp\n\nuser = \"admin\"\npasswd = \"admin\"\nsecret = \"3OBBOGSJRYRBZH35PGXURM4CMWTH3WSU\"  # Can be found in /etc/kvmd/totp.secret\n\nprint(requests.get(\n    url=\"https://pikvm/api/info\",\n    verify=False,  # For self-signed SSL certificate\n    headers={\n        \"X-KVMD-User\": user,\n        \"X-KVMD-Passwd\": passwd + pyotp.TOTP(secret).now(),\n    },\n).text)\n</code></pre> <p>\u5728 2FA \u9a8c\u8bc1\u7801\u6709\u6548\u671f\u5373\u5c06\u7ed3\u675f\u65f6\uff0c\u7531\u4e8e\u8bf7\u6c42\u5ef6\u8fdf\u9a8c\u8bc1\u7801\u53ef\u80fd\u5931\u6548\uff0c\u5904\u7406\u6b64\u95ee\u9898\u5e26\u6765\u7684\u9519\u8bef 403 \u7684\u65b9\u6cd5\u53ef\u4ee5\u662f\u4ee5\u79d2\u4e3a\u5355\u4f4d\u91cd\u590d\u8bf7\u6c42\u3002\u66f4\u597d\u7684\u65b9\u6cd5\u662f\u5c06\u6b64\u65b9\u6cd5\u4e0e\u68c0\u67e5\u5269\u4f59\u6709\u6548\u671f\u76f8\u7ed3\u5408\uff0c\u5982\u679c\u8fd8\u6709\u4e00\u79d2\u5de6\u53f3\u7684\u65f6\u95f4\uff0c\u5219\u63a8\u8fdf\u8bf7\u6c42\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\uff0c\u4f60\u53ef\u4ee5\u77e5\u9053\u6709\u6548\u671f\u8fd8\u5269\u591a\u5c11\u65f6\u95f4\uff1a</p> <pre><code>totp = pyotp.TOTP(secret)\nnow = int(time.time())\nremaining = now - (now % totp.interval)\n</code></pre>"},{"location":"development/api/#_2","title":"\u5355\u6b21\u8bf7\u6c42\u6388\u6743","text":"<ul> <li>\u4f7f\u7528 X-headers \u9700\u8981\u53d1\u9001\uff1a<code>X-KVMD-User</code> <code>X-KVMD-Passwd</code></li> </ul> <pre><code>curl -k -H X-KVMD-User:admin -H X-KVMD-Passwd:admin https://&lt;pikvm-ip&gt;/api/auth/check\n</code></pre> <ul> <li>\u4f7f\u7528 HTTP Basic Auth \u4e0e\u6807\u51c6\u76f8\u53cd\uff0c\u6b64\u65b9\u6cd5\u4e0d\u4f7f\u7528\u6807\u5934\uff0c\u6b64\u5b9e\u73b0\u4e2d\u7684 HTTP Basic Auth \u4ec5\u7528\u4e8e\u4e0e\u5176\u4ed6\u7cfb\u7edf\u517c\u5bb9\u3002</li> </ul> <pre><code>curl -k -u admin:admin https://&lt;pikvm-ip&gt;/api/auth/check\n</code></pre>"},{"location":"development/api/#cookie","title":"\u57fa\u4e8e\u4f1a\u8bdd\u7684 cookie \u8eab\u4efd\u9a8c\u8bc1","text":"<ol> <li>\u83b7\u53d6 cookie :<code>POST /api/auth/login</code></li> </ol> <pre><code>$ curl -k -v -X POST --data user=admin --data passwd=admin https://pikvm/api/auth/login\n...\n&lt; Set-Cookie: auth_token=796cb83b11de4fcb749bc1bad14a91fb06dede84672b2f847fef1e988e6900de; Path=/\n...\n</code></pre> <p>\u8eab\u4efd\u9a8c\u8bc1\u6210\u529f\u4f1a\u8fd4\u56de200\uff0c\u8eab\u4efd\u9a8c\u8bc1\u5931\u8d25\u4f1a\u8fd4\u56de403\u3002</p> <ol> <li> <p><code>GET /api/auth/check</code> \u6b64\u65b9\u6cd5\u53ef\u4ee5\u9a8c\u8bc1 cookie \u72b6\u6001\uff0c\u540c\u6837\u7684\uff0c\u9a8c\u8bc1\u6210\u529f\u4f1a\u8fd4\u56de200\uff0c\u9a8c\u8bc1\u5931\u8d25\u4f1a\u8fd4\u56de403\u3002 </p> </li> <li> <p><code>POST /api/auth/logout</code> \u6b64\u65b9\u6cd5\u53ef\u4ee5\u9500\u6bc1 cookie\u3002</p> </li> </ol>"},{"location":"development/api/#_3","title":"\u7cfb\u7edf\u529f\u80fd","text":"<p>\u83b7\u53d6\u8f6f\u4ef6\u4fe1\u606f <code>GET /api/info</code> \u8be5\u65b9\u6cd5\u8fd4\u56de PiKVM \u8bbe\u5907\u7684\u6240\u6709\u4fe1\u606f\u3002</p> <p>\u53c2\u6570\uff1afields=...\uff08\u53ef\u9009\uff09- \u4ec5\u8fd4\u56de\u6307\u5b9a\u7684\u7c7b\u522b\uff0c\u4f8b\u5982 <code>fields=system,hw</code>\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5c06\u663e\u793a\u6240\u6709\u7c7b\u522b\u3002</p> <pre><code>curl -k -u admin:admin https://&lt;pikvm-ip&gt;/api/info\n</code></pre> \u70b9\u51fb\u5c55\u5f00 <pre><code>{\n    \"ok\": true,\n    \"result\": {\n        \"auth\": {\n            \"enabled\": true\n        },\n        \"extras\": {\n            \"ipmi\": {\n                \"daemon\": \"kvmd-ipmi\",\n                \"description\": \"Show IPMI information\",\n                \"enabled\": true,\n                \"icon\": \"share/svg/ipmi.svg\",\n                \"name\": \"IPMI\",\n                \"path\": \"ipmi\",\n                \"place\": 21,\n                \"port\": 623,\n                \"started\": true\n            },\n            \"janus\": {\n                \"daemon\": \"kvmd-janus\",\n                \"description\": \"Janus WebRTC Gateway\",\n                \"enabled\": false,\n                \"name\": \"Janus\",\n                \"path\": \"janus\",\n                \"place\": -1,\n                \"started\": false\n            },\n            \"janus_static\": {\n                \"daemon\": \"kvmd-janus-static\",\n                \"description\": \"Janus WebRTC Gateway (Static Config)\",\n                \"enabled\": true,\n                \"name\": \"Janus Static\",\n                \"path\": \"janus\",\n                \"place\": -1,\n                \"started\": true\n            },\n            \"vnc\": {\n                \"daemon\": \"kvmd-vnc\",\n                \"description\": \"Show VNC information\",\n                \"enabled\": true,\n                \"icon\": \"share/svg/vnc.svg\",\n                \"name\": \"VNC\",\n                \"path\": \"vnc\",\n                \"place\": 20,\n                \"port\": 5900,\n                \"started\": true\n            },\n            \"webterm\": {\n                \"daemon\": \"kvmd-webterm\",\n                \"description\": \"Open terminal in a web browser\",\n                \"enabled\": true,\n                \"icon\": \"extras/webterm/terminal.svg\",\n                \"name\": \"Terminal\",\n                \"path\": \"extras/webterm/ttyd\",\n                \"place\": 10,\n                \"started\": true\n            }\n        },\n        \"fan\": {\n            \"monitored\": false,\n            \"state\": null\n        },\n        \"hw\": {\n            \"health\": {\n                \"temp\": {\n                    \"cpu\": 57.187\n                },\n                \"throttling\": {\n                    \"ignore_past\": false,\n                    \"parsed_flags\": {\n                        \"freq_capped\": {\n                            \"now\": false,\n                            \"past\": false\n                        },\n                        \"throttled\": {\n                            \"now\": false,\n                            \"past\": false\n                        },\n                        \"undervoltage\": {\n                            \"now\": false,\n                            \"past\": false\n                        }\n                    },\n                    \"raw_flags\": 0\n                }\n            },\n            \"platform\": {\n                \"base\": \"Xunlei OneCloud\",\n                \"serial\": null,\n                \"type\": \"rpi\"\n            }\n        },\n        \"meta\": {\n            \"kvm\": {},\n            \"server\": {\n                \"host\": \"onecloud\"\n            }\n        },\n        \"system\": {\n            \"kernel\": {\n                \"machine\": \"armv7l\",\n                \"release\": \"6.6.34-current-meson\",\n                \"system\": \"Linux\",\n                \"version\": \"#10 SMP Sun Jun 16 19:47:49 CST 2024\"\n            },\n            \"kvmd\": {\n                \"version\": \"3.291\"\n            },\n            \"streamer\": {\n                \"app\": \"ustreamer\",\n                \"features\": {\n                    \"HAS_PDEATHSIG\": true,\n                    \"WITH_GPIO\": true,\n                    \"WITH_PTHREAD_NP\": true,\n                    \"WITH_SETPROCTITLE\": true,\n                    \"WITH_SYSTEMD\": true\n                },\n                \"version\": \"6.12\"\n            }\n        }\n    }\n}\n</code></pre> <p>\u83b7\u53d6\u8f6f\u4ef6\u65e5\u5fd7 <code>GET /api/log</code> \u8be5\u65b9\u6cd5\u4ee5\u7eaf\u6587\u672c\u5f62\u5f0f\u663e\u793a\u6240\u6709 KVMD \u670d\u52a1\u7684\u65e5\u5fd7\u3002</p> <p>\u53c2\u6570\uff1afollow=1 \uff08\u53ef\u9009\uff09- \u5c06\u8bf7\u6c42\u8f6c\u4e3a\u957f\u65f6\u95f4\u8f6e\u8be2\u6a21\u5f0f\uff0c\u5b9e\u65f6\u8ddf\u8e2a\u65e5\u5fd7\u4fe1\u606f\uff1bseek=N \uff08\u53ef\u9009\uff09- \u4ee5\u79d2\u4e3a\u5355\u4f4d\u8fd0\u884c\u6307\u5b9a\u65f6\u95f4\u7684\u65e5\u5fd7\uff0c\u4f8b\u5982\u5c06\u663e\u793a\u8fc7\u53bb\u4e00\u5c0f\u65f6\u7684\u65e5\u5fd7\u3002</p> <pre><code>curl -k -u admin:admin https://&lt;pikvm-ip&gt;/api/log?seek=3600\n</code></pre> \u70b9\u51fb\u5c55\u5f00 <pre><code>[2024-07-01 04:48:37 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / 192.168.31.242] 'GET /log?seek=120 HTTP/1.0' =&gt; 200; size=751 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:48:46 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / 192.168.31.242] 'GET /log?seek=1800 HTTP/1.0' =&gt; 200; size=2668 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:48:56 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / 192.168.31.242] 'GET /log?seek=3600 HTTP/1.0' =&gt; 200; size=2988 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:09 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / 192.168.31.242] 'GET /log?seek=7200 HTTP/1.0' =&gt; 200; size=3308 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:17 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / 192.168.31.242] 'GET /log?seek=14400 HTTP/1.0' =&gt; 200; size=3628 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:30 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / -] 'GET /auth/check HTTP/1.0' =&gt; 200; size=194 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:30 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / -] 'GET /auth/check HTTP/1.0' =&gt; 200; size=194 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:31 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / 192.168.31.242] 'GET /info?fields=auth,meta,extras HTTP/1.0' =&gt; 200; size=2141 --- referer='https://192.168.31.182/'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:31 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / -] 'GET /auth/check HTTP/1.0' =&gt; 200; size=194 --- referer='https://192.168.31.182/'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:32 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / -] 'GET /auth/check HTTP/1.0' =&gt; 200; size=194 --- referer='https://192.168.31.182/'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:32 kvmd-webterm.service] --- [2024/07/01 04:49:32:9667] N: HTTP / -\n[2024-07-01 04:49:33 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / -] 'GET /auth/check HTTP/1.0' =&gt; 200; size=194 --- referer='https://192.168.31.182/extras/webterm/ttyd/'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:33 kvmd-webterm.service] --- [2024/07/01 04:49:33:0792] N: HTTP /token/ -\n[2024-07-01 04:49:33 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / -] 'GET /auth/check HTTP/1.0' =&gt; 200; size=194 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:33 kvmd-webterm.service] --- [2024/07/01 04:49:33:1500] N: WS   /ws - , clients: 1\n[2024-07-01 04:49:33 kvmd-webterm.service] --- [2024/07/01 04:49:33:1603] N: started process, pid: 2519\n</code></pre>"},{"location":"development/building_os/","title":"\u6784\u5efa One-KVM \u7cfb\u7edf","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u672c\u9879\u76ee\u63d0\u4f9b\u7684\u811a\u672c\u8fdb\u884c\u6574\u5408\u5305\u6784\u5efa\u548c Docker \u955c\u50cf\u6784\u5efa\u3002</p>"},{"location":"development/building_os/#_1","title":"\u6784\u5efa\u6574\u5408\u5305","text":"<p>\u4e3a\u7b80\u5316\u6574\u5408\u5305\u5efa\u6784\u96be\u5ea6\u3001\u63d0\u5347\u6574\u5408\u5305\u6784\u5efa\u6548\u7387\uff0c\u672c\u9879\u76ee\u4f7f\u7528\u57fa\u7840\u7cfb\u7edf\u955c\u50cf + chroot \u8f6f\u4ef6\u5b89\u88c5\u811a\u672c\u7684\u65b9\u5f0f\u8fdb\u884c\u811a\u672c\u6784\u5efa\u3002</p> <p>\u5728\u514b\u9686\u5b8c\u672c\u9879\u76ee\u4e4b\u540e\uff0c\u9700\u8981\u51c6\u5907\u597d\u8d44\u6e90\u6587\u4ef6\u5939\u76ee\u5f55\u6811\uff08\u5982\u4e0b\uff09\uff0c\u4fee\u6539\u6839\u636e\u81ea\u8eab\u50a8\u5b58\u60c5\u51b5 build/build_img.sh \u6574\u5408\u5305\u6784\u5efa\u811a\u672c\u4e2d\u7684\u53d8\u91cf SRCPATH \uff08\u8d44\u6e90\u6587\u4ef6\u5939\uff09\u548c OUTPUTDIR \uff08\u955c\u50cf\u4fdd\u5b58\u6587\u4ef6\u5939\uff09\u3002</p> <p>\u5f53\u524d\u811a\u672c\u652f\u6301 chainedbox\u3001cumebox2\u3001onecloud\u3001vm \u7684\u6574\u5408\u5305\u6784\u5efa\uff0c\u547d\u4ee4\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>#\u6784\u5efa\u73a9\u5ba2\u4e91 One-KVM \u6574\u5408\u5305\nsudo bash build/build_img.sh onecloud\n</code></pre> <p>\u8d44\u6e90\u6587\u4ef6\u5939\u76ee\u5f55\u6811: </p><pre><code>mofeng@ubuntu:~/One-KVM$ tree /mnt/sda1/src\n/mnt/sda1/src\n|-- image\n|   |-- chainedbox\n|   |   |-- Armbian_24.11.0_rockchip_chainedbox_bookworm_6.1.112_server_2024.10.02.img\n|   |   |-- Armbian_24.11.0_rockchip_chainedbox_bookworm_6.1.112_server_2024.10.02_add800m.img\n|   |   `-- rk3328-l1pro-1296mhz-fix.dtb\n|   |-- cumebox2\n|   |   |-- Armbian_24.8.1_Khadas-vim1_bookworm_current_6.6.47_minimal.img\n|   |   |-- config.json\n|   |   |-- rc.local\n|   |   |-- ssd\n|   |   `-- v-fix.dtb\n|   |-- onecloud\n|   |   |-- AmlImg_v0.3.1_linux_amd64\n|   |   |-- Armbian_by-SilentWind_24.5.0-trunk_Onecloud_bookworm_legacy_5.9.0-rc7_minimal.burn.img\n|   |   `-- rc.local\n|   `-- vm\n|       `-- Armbian_24.8.1_Uefi-x86_bookworm_current_6.6.47_minimal_add1g.img\n`-- tmp\n\n7 directories, 12 files\n</code></pre>"},{"location":"development/building_os/#docker","title":"\u6784\u5efa Docker \u955c\u50cf","text":"<p>\u53ef\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539 Makefile \u6587\u4ef6 run-build-release \u90e8\u5206\u8bbe\u7f6e\u597d Docker \u955c\u50cf\u4fdd\u5b58\u4f4d\u7f6e\u3002</p> <p>One-KVM Docker \u955c\u50cf\u6784\u5efa\u793a\u4f8b\uff1a</p> <pre><code>#\u6784\u5efa\u955c\u50cf\nsudo make run-build-release\n</code></pre>"},{"location":"development/develop/","title":"\u77e5\u8bc6\u5e93","text":""},{"location":"development/develop/#uboot","title":"\u73a9\u5ba2\u4e91 UBoot \u5907\u4efd","text":"<pre><code>#\u8df3\u8fc7 MBR \u5206\u533a\u8868\uff0c\u5907\u4efd\u73a9\u5ba2\u4e91 UBoot \u5185\u5bb9\u5e76\u538b\u7f29\ngzip -dc Boot_SkipUSBBurning.gz | dd of=/dev/mmcblk1 bs=512 seek=1 count=32767\n#\u6062\u590d\u5907\u4efd\u7684 UBoot \u5185\u5bb9\ndd if=/dev/mmcblk1 bs=512 skip=1 count=32767  | gzip &gt; Boot_SkipUSBBurning.gz\n</code></pre>"},{"location":"development/develop/#gpio","title":"\u73a9\u5ba2\u4e91 GPIO \u9a71\u52a8","text":"<p>\u5b9e\u9645\u4e0a\uff0c\u4ece Linux 4.8 \u5f00\u59cb\uff0c\u4e0d\u518d\u63a8\u8350\u4f7f\u7528 sysfs \u63a5\u53e3\uff08/sys/class/gpio\uff09\u64cd\u4f5c GPIO\uff0c\u800c\u662f\u5efa\u8bae\u5728\u7528\u6237\u7a7a\u95f4\u4f7f\u7528\u5b57\u7b26\u8bbe\u5907\u8fdb\u884c\u64cd\u4f5c\uff0clibgpiod \u5c31\u662f\u4e00\u4e2a\u7528\u4e8e\u64cd\u4f5c GPIO \u5b57\u7b26\u8bbe\u5907\u7684\u5e93\uff0c\u540c\u65f6\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5de5\u5177\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u8fdb\u884c\u8c03\u8bd5\u3002libgpiod \u5305\u542b\u4e00\u7cfb\u5217\u547d\u4ee4\uff0c\u6709 gpioget\u3001 gpioset\u3001gpiodetect\u3001gpioinfo\u3001gpiofind \u548c gpiomon \u547d\u4ee4\u3002</p> <p>\u8fd9\u91cc\u5c55\u793a sysfs \u63a5\u53e3\u548c libgpiod \u5305\u547d\u4ee4\u4e24\u79cd\u65b9\u5f0f\u64cd\u63a7\u73a9\u5ba2\u4e91 GPIO \u7684\u4f7f\u7528\u793a\u4f8b\u3002</p> sysfslibgpiod <pre><code>#!/bin/bash\necho 420 &gt; /sys/class/gpio/export\necho out &gt; /sys/class/gpio/gpio420/direction\necho 0 &gt; /sys/class/gpio/gpio420/value\ncase $1 in\n    short)\n    sleep 1\n    ;;\n    long)\n    sleep 5\n    ;;\n    *)\n    echo \"No thing.\"\nesac\necho 1 &gt; /sys/class/gpio/gpio420/value\necho 420 &gt; /sys/class/gpio/unexport\n</code></pre> <pre><code>#!/bin/bash\ncase $1 in\n    short)\n    gpioset -m time -s 1 gpiochip1 7=0\n    gpioset gpiochip1 7=1\n    ;;\n    long)\n    gpioset -m time -s 5 gpiochip1 7=0\n    gpioset gpiochip1 7=1\n    ;;\n    *)\n    echo \"No thing.\"\nesac\n</code></pre> <p>\u53c2\u8003\u8d44\u6599\uff1agpioset \u547d\u4ee4 | \u4eba\u4eba\u90fd\u61c2\u7269\u8054\u7f51 (getiot.tech)</p> \u73a9\u5ba2\u4e91 5.x Linux \u5185\u6838\u7684\u6240\u6709 GPIO \u5f15\u811a gpioinfosysfs <pre><code>gpiochip0 - 83 lines:\n    line   0: \"J2 Header Pin 35\" unused input active-high \n    line   1: \"J2 Header Pin 36\" unused input active-high \n    line   2: \"J2 Header Pin 32\" unused input active-high \n    line   3: \"J2 Header Pin 31\" unused input active-high \n    line   4: \"J2 Header Pin 29\" unused input active-high \n    line   5: \"J2 Header Pin 18\" unused input active-high \n    line   6: \"J2 Header Pin 22\" unused input active-high \n    line   7: \"J2 Header Pin 16\" unused input active-high \n    line   8: \"J2 Header Pin 23\" unused input active-high \n    line   9: \"J2 Header Pin 21\" unused input active-high \n    line  10: \"J2 Header Pin 19\" unused input active-high \n    line  11: \"J2 Header Pin 33\" unused input active-high \n    line  12: \"J2 Header Pin 8\" unused input active-high \n    line  13: \"J2 Header Pin 10\" unused input active-high \n    line  14: \"J2 Header Pin 15\" unused input active-high \n    line  15: \"J2 Header Pin 13\" unused input active-high \n    line  16: \"J2 Header Pin 24\" unused input active-high \n    line  17: \"J2 Header Pin 26\" unused input active-high \n    line  18: \"Revision (upper)\" unused input active-high \n    line  19: \"Revision (lower)\" unused input active-high \n    line  20: \"J2 Header Pin 7\" unused input active-high \n    line  21:      unnamed       unused   input  active-high \n    line  22: \"J2 Header Pin 12\" unused input active-high \n    line  23: \"J2 Header Pin 11\" unused input active-high \n    line  24:      unnamed       unused   input  active-high \n    line  25:      unnamed       unused   input  active-high \n    line  26:      unnamed       unused   input  active-high \n    line  27: \"TFLASH_VDD_EN\" \"regulator-tflash_vdd\" output active-high [used]\n    line  28:      unnamed       unused   input  active-high \n    line  29:      unnamed       unused   input  active-high \n    line  30: \"VCCK_PWM (PWM_C)\" unused input active-high \n    line  31:   \"I2CA_SDA\"       unused   input  active-high \n    line  32:   \"I2CA_SCL\"       unused   input  active-high \n    line  33:   \"I2CB_SDA\"       unused   input  active-high \n    line  34:   \"I2CB_SCL\"       unused   input  active-high \n    line  35: \"VDDEE_PWM (PWM_D)\" unused input active-high \n    line  36:      unnamed       unused   input  active-high \n    line  37:   \"HDMI_HPD\"       unused   input  active-high \n    line  38: \"HDMI_I2C_SDA\" unused input active-high \n    line  39: \"HDMI_I2C_SCL\" unused input active-high \n    line  40: \"ETH_PHY_INTR\" unused input active-high \n    line  41: \"ETH_PHY_NRST\" \"PHY reset\" output active-low [used]\n    line  42:   \"ETH_TXD1\"       unused   input  active-high \n    line  43:   \"ETH_TXD0\"       unused   input  active-high \n    line  44:   \"ETH_TXD3\"       unused   input  active-high \n    line  45:   \"ETH_TXD2\"       unused   input  active-high \n    line  46: \"ETH_RGMII_TX_CLK\" unused input active-high \n    line  47: \"SD_DATA1 (SDB_D1)\" unused input active-high \n    line  48: \"SD_DATA0 (SDB_D0)\" unused input active-high \n    line  49:     \"SD_CLK\"       unused   input  active-high \n    line  50:     \"SD_CMD\"       unused   input  active-high \n    line  51: \"SD_DATA3 (SDB_D3)\" unused input active-high \n    line  52: \"SD_DATA2 (SDB_D2)\" unused input active-high \n    line  53: \"SD_CDN (SD_DET_N)\" \"cd\" input active-low [used]\n    line  54: \"SDC_D0 (EMMC)\" unused output active-high \n    line  55: \"SDC_D1 (EMMC)\" unused output active-high \n    line  56: \"SDC_D2 (EMMC)\" unused output active-high \n    line  57: \"SDC_D3 (EMMC)\" unused output active-high \n    line  58: \"SDC_D4 (EMMC)\" unused output active-high \n    line  59: \"SDC_D5 (EMMC)\" unused output active-high \n    line  60: \"SDC_D6 (EMMC)\" unused output active-high \n    line  61: \"SDC_D7 (EMMC)\" unused output active-high \n    line  62: \"SDC_CLK (EMMC)\" unused output active-high \n    line  63: \"SDC_RSTn (EMMC)\" \"reset\" output active-low [used]\n    line  64: \"SDC_CMD (EMMC)\" unused output active-high \n    line  65:   \"BOOT_SEL\"       unused   input  active-high \n    line  66:      unnamed       unused   input  active-high \n    line  67:      unnamed       unused   input  active-high \n    line  68:      unnamed       unused   input  active-high \n    line  69:      unnamed       unused   input  active-high \n    line  70:      unnamed       unused  output  active-high \n    line  71:      unnamed       unused  output  active-high \n    line  72:      unnamed       unused   input  active-high \n    line  73:   \"ETH_RXD1\"       unused   input  active-high \n    line  74:   \"ETH_RXD0\"       unused   input  active-high \n    line  75:  \"ETH_RX_DV\"       unused   input  active-high \n    line  76: \"RGMII_RX_CLK\" unused input active-high \n    line  77:   \"ETH_RXD3\"       unused   input  active-high \n    line  78:   \"ETH_RXD2\"       unused   input  active-high \n    line  79:   \"ETH_TXEN\"       unused   input  active-high \n    line  80: \"ETH_PHY_REF_CLK_25MOUT\" unused input active-high \n    line  81:    \"ETH_MDC\"       unused   input  active-high \n    line  82:   \"ETH_MDIO\"       unused   input  active-high \ngpiochip1 - 16 lines:\n    line   0:    \"UART TX\"       unused   input  active-high \n    line   1:    \"UART RX\"       unused   input  active-high \n    line   2:      unnamed       unused  output  active-high \n    line   3: \"TF_3V3N_1V8_EN\" \"TF_IO\" output active-high [used]\n    line   4: \"USB_HUB_RST_N\" \"usb-hub-reset\" output active-high [used]\n    line   5: \"USB_OTG_PWREN\" unused input active-high \n    line   6: \"J7 Header Pin 2\" unused input active-high \n    line   7:      \"IR_IN\"       unused   input  active-high \n    line   8: \"J7 Header Pin 4\" unused input active-high \n    line   9: \"J7 Header Pin 6\" unused input active-high \n    line  10: \"J7 Header Pin 5\" unused input active-high \n    line  11: \"J7 Header Pin 7\" unused input active-high \n    line  12:   \"HDMI_CEC\"       unused   input  active-high \n    line  13:    \"SYS_LED\" \"BugScaner:blue:alive\" output active-low [used]\n    line  14:      unnamed       unused  output  active-high \n    line  15:      unnamed       unused  output  active-high\n</code></pre> <pre><code>gpiochip1: GPIOs 413-428, parent: platform/c8100084.pinctrl, aobus-banks:\ngpio-413 (UART TX             )\ngpio-414 (UART RX             )\ngpio-415 (                    )\ngpio-416 (TF_3V3N_1V8_EN      |TF_IO               ) out hi \ngpio-417 (USB_HUB_RST_N       |usb-hub-reset       ) out lo \ngpio-418 (USB_OTG_PWREN       )\ngpio-419 (J7 Header Pin 2     )\ngpio-420 (IR_IN               )\ngpio-421 (J7 Header Pin 4     )\ngpio-422 (J7 Header Pin 6     )\ngpio-423 (J7 Header Pin 5     )\ngpio-424 (J7 Header Pin 7     )\ngpio-425 (HDMI_CEC            )\ngpio-426 (SYS_LED             |BugScaner:blue:alive) out hi ACTIVE LOW\ngpio-427 (                    )\ngpio-428 (                    )\n\ngpiochip0: GPIOs 429-511, parent: platform/c1109880.pinctrl, cbus-banks:\ngpio-429 (J2 Header Pin 35    )\ngpio-430 (J2 Header Pin 36    )\ngpio-431 (J2 Header Pin 32    )\ngpio-432 (J2 Header Pin 31    )\ngpio-433 (J2 Header Pin 29    )\ngpio-434 (J2 Header Pin 18    )\ngpio-435 (J2 Header Pin 22    )\ngpio-436 (J2 Header Pin 16    )\ngpio-437 (J2 Header Pin 23    )\ngpio-438 (J2 Header Pin 21    )\ngpio-439 (J2 Header Pin 19    )\ngpio-440 (J2 Header Pin 33    )\ngpio-441 (J2 Header Pin 8     )\ngpio-442 (J2 Header Pin 10    )\ngpio-443 (J2 Header Pin 15    )\ngpio-444 (J2 Header Pin 13    )\ngpio-445 (J2 Header Pin 24    )\ngpio-446 (J2 Header Pin 26    )\ngpio-447 (Revision (upper)    )\ngpio-448 (Revision (lower)    )\ngpio-449 (J2 Header Pin 7     )\ngpio-450 (                    )\ngpio-451 (J2 Header Pin 12    )\ngpio-452 (J2 Header Pin 11    )\ngpio-453 (                    )\ngpio-454 (                    )\ngpio-455 (                    )\ngpio-456 (TFLASH_VDD_EN       |regulator-tflash_vdd) out lo \ngpio-457 (                    )\ngpio-458 (                    )\ngpio-459 (VCCK_PWM (PWM_C)    )\ngpio-460 (I2CA_SDA            )\ngpio-461 (I2CA_SCL            )\ngpio-462 (I2CB_SDA            )\ngpio-463 (I2CB_SCL            )\ngpio-464 (VDDEE_PWM (PWM_D)   )\ngpio-465 (                    )\ngpio-466 (HDMI_HPD            )\ngpio-467 (HDMI_I2C_SDA        )\ngpio-468 (HDMI_I2C_SCL        )\ngpio-469 (ETH_PHY_INTR        )\ngpio-470 (ETH_PHY_NRST        |PHY reset           ) out hi ACTIVE LOW\ngpio-471 (ETH_TXD1            )\ngpio-472 (ETH_TXD0            )\ngpio-473 (ETH_TXD3            )\ngpio-474 (ETH_TXD2            )\ngpio-475 (ETH_RGMII_TX_CLK    )\ngpio-476 (SD_DATA1 (SDB_D1)   )\ngpio-477 (SD_DATA0 (SDB_D0)   )\ngpio-478 (SD_CLK              )\ngpio-479 (SD_CMD              )\ngpio-480 (SD_DATA3 (SDB_D3)   )\ngpio-481 (SD_DATA2 (SDB_D2)   )\ngpio-482 (SD_CDN (SD_DET_N)   |cd                  ) in  hi ACTIVE LOW\ngpio-483 (SDC_D0 (EMMC)       )\ngpio-484 (SDC_D1 (EMMC)       )\ngpio-485 (SDC_D2 (EMMC)       )\ngpio-486 (SDC_D3 (EMMC)       )\ngpio-487 (SDC_D4 (EMMC)       )\ngpio-488 (SDC_D5 (EMMC)       )\ngpio-489 (SDC_D6 (EMMC)       )\ngpio-490 (SDC_D7 (EMMC)       )\ngpio-491 (SDC_CLK (EMMC)      )\ngpio-492 (SDC_RSTn (EMMC)     |reset               ) out hi ACTIVE LOW\ngpio-493 (SDC_CMD (EMMC)      )\ngpio-494 (BOOT_SEL            )\ngpio-495 (                    )\ngpio-496 (                    )\ngpio-497 (                    )\ngpio-498 (                    )\ngpio-499 (                    )\ngpio-500 (                    )\ngpio-501 (                    )\ngpio-502 (ETH_RXD1            )\ngpio-503 (ETH_RXD0            )\ngpio-504 (ETH_RX_DV           )\ngpio-505 (RGMII_RX_CLK        )\ngpio-506 (ETH_RXD3            )\ngpio-507 (ETH_RXD2            )\ngpio-508 (ETH_TXEN            )\ngpio-509 (ETH_PHY_REF_CLK_25MO)\ngpio-510 (ETH_MDC             )\ngpio-511 (ETH_MDIO            )\n</code></pre>"},{"location":"development/develop/#hdmi","title":"HDMI\u73af\u51fa","text":"<pre><code>#\u8bbe\u7f6e\u663e\u793a\u80cc\u666f\u56fe\u7247\nfbi text.png -T 1 -d /dev/fb0\n\n#tty\u6e05\u5c4f\necho -e \"\\033c\" &gt; /dev/tty1\n\n#\u9690\u85cf\u5149\u6807\necho -e \"\\033[?25l\" &gt; /dev/tty1\n\n#\u5728HDMI\u663e\u793a\u5668\u8f93\u51fa\u91c7\u96c6\u5361\u753b\u9762\nustreamer-dump  --sink=kvmd::ustreamer::jpeg  --output - | ffmpeg  -use_wallclock_as_timestamps 1 -i pipe:c:v -an -pix_fmt bgr24 -f fbdev /dev/fb0\n</code></pre>"},{"location":"development/develop/#usb-hid","title":"USB HID \u7ee7\u7535\u5668","text":"<p>CUS_HID USB \u7ee7\u7535\u5668\u7684\u63a7\u5236\u4ee3\u7801\u3002</p> \u4ee3\u7801\u5185\u5bb9 CPython3 <pre><code>#include &lt;linux/types.h&gt;\n#include &lt;linux/input.h&gt;\n#include &lt;linux/hidraw.h&gt;\n\n#include &lt;sys/types.h&gt;\n#include &lt;sys/ioctl.h&gt;\n#include &lt;sys/stat.h&gt;\n\n#include &lt;unistd.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdint.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;errno.h&gt;\n\nint find_usbrelay()\n{\n    int found = 0;\n    int fd = -1;\n    int result;\n    int id;\n\n    char path[32];\n\n    const struct hidraw_devinfo usb_relay_info = \n    {\n        .bustype = BUS_USB,\n        .vendor = 0x5131,\n        .product = 0x2007\n    };\n\n    struct hidraw_devinfo t_info;\n\n    for(id = 0; !found; id++)   \n    {\n        sprintf(path, \"/dev/hidraw%d\", id);\n\n        fd = open(path, O_RDWR | O_NONBLOCK);\n        if (fd &lt; 0)\n            break;\n\n        result = ioctl(fd, HIDIOCGRAWINFO, &amp;t_info);\n        if (result &lt; 0)\n            break;\n\n        if ((t_info.bustype == usb_relay_info.bustype)\n        &amp;&amp; (t_info.vendor == usb_relay_info.vendor)\n        &amp;&amp; (t_info.product = usb_relay_info.product))\n        {\n            found = 1;\n            break;\n        }\n\n        close(fd);\n        fd = -1;\n    }\n\n    if (fd &gt;= 0)\n        close(fd);\n\n    return found ? id : -1;\n}\n\nint set_usbrelay_onoff(int id, int ch, int onoff)\n{\n    int fd = -1;\n    uint8_t cmd[8];\n\n    char path[32];\n\n    do\n    {\n        sprintf(path, \"/dev/hidraw%d\", id);\n\n        fd = open(path, O_RDWR | O_NONBLOCK);\n        if (fd &lt; 0)\n            break;\n\n        cmd[0] = 0xA0;\n        cmd[1] = ch;    // 1, 2\n        cmd[2] = onoff; // 0, 1\n        cmd[3] = cmd[0] + cmd[1] + cmd[2];\n\n        write(fd, cmd, 4);\n\n    } while(0);\n\n    if (fd &gt;= 0)\n        close(fd);\n\n    return 0;\n}\n\nint main(int argc, char *argv[])\n{\n    int result;\n    int id;\n    int ch;\n    int onoff;\n    char path[32];\n\n    do\n    {\n        if (argc != 3)\n        {\n            printf(\"Usage:\\n\"\n            \"\\tusbrelay ch on|off\\n\");\n            break;\n        }\n\n        ch = atoi(argv[1]);\n        if (strcmp(argv[2], \"on\") == 0)\n            onoff = 1;\n        else if (strcmp(argv[2], \"off\") == 0)\n            onoff = 0;\n        else\n            break;\n\n        id = find_usbrelay();\n        if (id &lt; 0)\n        {\n            printf(\"usbrelay not found\\n\");\n            break;\n        }\n\n        set_usbrelay_onoff(id, ch, onoff);\n\n    } while(0);\n\n    return 0;\n}\n</code></pre> <pre><code>import sys\nimport hid\n\nVENDOR_ID = 0x5131\nPRODUCT_ID = 0x2007\n\ndef find_usbrelay():\n    for device in hid.enumerate():\n        if device.get(\"vendor_id\") == VENDOR_ID and device.get(\"product_id\") == PRODUCT_ID:\n            return device\n    return None\n\ndef send_command(device_info, channel, onoff):\n    device = hid.device()\n    device.open(device_info['vendor_id'], device_info['product_id'])\n    if device is None:\n        print(\"Failed to open device.\")\n        return\n\n    try:\n        cmd = [0xA0, channel, onoff, 0xA0 + channel + onoff]\n        device.write(bytearray(cmd))\n    finally:\n        device.close()\n\ndef main():\n    if len(sys.argv) != 3:\n        print(\"Usage:\\n\"\n            \"\\tpython script.py id on|off\")\n        return\n\n    try:\n        id = int(sys.argv[1])\n        if sys.argv[2].lower() == 'on':\n            onoff = 1\n        elif sys.argv[2].lower() == 'off':\n            onoff = 0\n        else:\n            raise ValueError\n    except ValueError:\n        print(\"Invalid command, use 'on' or 'off'\")\n        return\n\n    device_info = find_usbrelay()\n    if device_info is None:\n        print(\"USB relay not found\")\n    else:\n        send_command(device_info, id, onoff)\n        print(f\"Sent command to channel {id}: {'ON' if onoff else 'OFF'}\")\n\nif __name__ == \"__main__\":\n    main()\n</code></pre> <p>\u53c2\u8003\u8d44\u6599\uff1a</p> <ul> <li>Examples \u2014 HIDAPI documentation (trezor.github.io)</li> <li>Ubuntu 20.04 \u9a71\u52a8LCUS_HID USB\u7ee7\u7535\u5668_hid\u7ee7\u7535\u5668\u7a0b\u5e8f-CSDN\u535a\u5ba2</li> </ul>"},{"location":"development/develop/#linux-usb","title":"\u5728 Linux \u4e2d\u91cd\u7f6e USB \u8bbe\u5907","text":"<p>\u5982\u679c\u5982 USB \u8bbe\u5907\u5904\u4e8e\u5f02\u5e38\u72b6\u6001\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>usbreset</code> \u5b9e\u7528\u7a0b\u5e8f\u91cd\u7f6e\u5b83\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u9002\u5408\u7279\u5b9a Linux \u53d1\u884c\u7248\u7684\u547d\u4ee4\u6765\u5b89\u88c5 <code>usbreset</code>\u3002</p> <pre><code>sudo apt install usbutils         [On Debian, Ubuntu and Mint]\nsudo yum install usbutils         [On RHEL/CentOS/Fedora and Rocky/AlmaLinux]\nsudo emerge -a sys-apps/usbutils  [On Gentoo Linux]\nsudo apk add usbutils             [On Alpine Linux]\nsudo pacman -S usbutils           [On Arch Linux]\nsudo zypper install usbutils      [On OpenSUSE]    \nsudo pkg install usbutils         [On FreeBSD]\n</code></pre> <p>\u5b89\u88c5\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u91cd\u7f6e USB \u8bbe\u5907\uff0c\u5c06 Bus 001 Device 004 \u66ff\u6362\u4e3a USB \u8bbe\u5907\u7684\u603b\u7ebf\u548c\u8bbe\u5907\u53f7\uff1a</p> <p></p><pre><code>sudo usbreset /dev/bus/usb/001/004\n</code></pre> \u6216\u8005\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5176\u4e2d \u662f USB \u8bbe\u5907\u7684 ID\uff08\u6765\u81ea lsusb \u8f93\u51fa\uff09\uff1a <pre><code>sudo usbreset 090c:1000\nsudo usbreset 001:005\n</code></pre> <p>\u53c2\u8003\u8d44\u6599\uff1a</p> <ul> <li>\u5982\u4f55\u4ece Linux \u7ec8\u7aef\u91cd\u7f6e USB \u8bbe\u5907</li> </ul>"},{"location":"development/parts_library/","title":"\u5468\u8fb9\u5957\u4ef6","text":""},{"location":"development/parts_library/#onecloud-hdmikvm","title":"OneCloud \u73a9\u5ba2\u4e91 \u6253\u5370\u5916\u58f3\uff0c\u5185\u7f6eHDMI\u91c7\u96c6\u5361\uff0c\u53ef\u4f5cKVM","text":"<ul> <li>\u4f5c\u8005\uff1aTubashu</li> <li>\u6587\u4ef6\u94fe\u63a5\uff1ahttps://makerworld.com.cn/zh/models/605235</li> </ul>"},{"location":"development/parts_library/#3d","title":"\u73a9\u5ba2\u4e91\u5916\u58f33D\u6253\u5370\u6a21\u578b","text":"<ul> <li>\u4f5c\u8005\uff1a\u559d\u897f\u5317\u98ce\u7684\u5a03</li> <li>\u89c6\u9891\u94fe\u63a5\uff1ahttps://www.bilibili.com/video/BV1Wy4y1c71j</li> <li>\u6587\u4ef6\u94fe\u63a5\uff1ahttps://pan.baidu.com/s/1_jrmiiDIFf0XvhGNpeluXA?pwd=6666</li> </ul>"},{"location":"development/parts_library/#_1","title":"\u5149\u8026\u9694\u79bb\u5c0f\u677f","text":"<ul> <li>\u4f5c\u8005\uff1a\u6d69\u9f99\u7684\u7535\u5b50\u5d4c\u5165\u5f0f\u4e4b\u8def</li> </ul>"},{"location":"network/cloudflared/","title":"Cloudflared \u96a7\u9053","text":""},{"location":"network/cloudflared/#cloudflared","title":"Cloudflared \u96a7\u9053","text":"<p>\u524d\u7f6e\u6761\u4ef6</p> <p>\u4f7f\u7528 Cloudflare Tunnel \u9700\u8981\u60a8\u5df2\u7ecf\u5728 Cloudflare \u6dfb\u52a0\u4e86\u57df\u540d\u3002\u66f4\u591a\u8be6\u7ec6\u5185\u5bb9\u53ef\u4ee5\u53c2\u8003 Cloudflare Tunnel \u4e2d\u6587\u6587\u6863\u3002</p>"},{"location":"network/cloudflared/#_1","title":"\u914d\u7f6e\u6b65\u9aa4","text":"<ol> <li> <p>\u8fdb\u5165 Cloudflare Zero Trust\uff0c\u5728\u4fa7\u680f\u4e2d\u70b9\u51fb Network\uff0c\u5c55\u5f00\u540e\u70b9\u51fb Tunnels\u3002\u5728 Select connector to private resources \u5904\u9009\u62e9 Add a tunnel\uff0c\u7136\u540e\u70b9\u51fb Next\u3002</p> <p></p> <p></p> </li> <li> <p>\u9009\u62e9 Add a Tunnel\uff0c\u70b9\u51fb Next\uff0c\u586b\u5165\u96a7\u9053\u540d\u79f0\uff0c\u7136\u540e\u70b9\u51fb Save Tunnel\u3002</p> <p></p> </li> <li> <p>\u590d\u5236\u5b89\u88c5\u547d\u4ee4\uff08\u9009\u62e9\u5bf9\u5e94\u7684\u7cfb\u7edf\u548c\u67b6\u6784\uff09</p> <p>ARM \u8bbe\u5907\u6ce8\u610f\u4e8b\u9879</p> <p>\u5982\u679c\u60a8\u4f7f\u7528 armhf \u67b6\u6784\u8bbe\u5907\uff08\u5982\u73a9\u5ba2\u4e91\uff09\uff0c\u9700\u8981\u5148\u6267\u884c\uff1a </p><pre><code>sudo dpkg --add-architecture arm\n</code></pre> <p></p> <p></p> </li> <li> <p>\u914d\u7f6e\u516c\u5171\u57df\u540d</p> <ul> <li>\u5207\u6362\u5230 Public Hostnames \u6807\u7b7e\u9875</li> <li>\u70b9\u51fb Add a public hostname</li> <li>\u9009\u62e9 TCP \u534f\u8bae</li> <li>\u586b\u5165 One-KVM \u7684\u5185\u7f51 IP \u548c\u7aef\u53e3</li> <li>\u70b9\u51fb Save tunnel \u4fdd\u5b58\u914d\u7f6e</li> </ul> </li> </ol> <p></p> <p>\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u6b63\u5728\u8fd0\u884c\u7684 Cloudflare Tunnel\uff1a</p> <p></p> <p>\u4f7f\u7528 HTTPS \u534f\u8bae\u8bbf\u95ee</p> <p>\u8bbf\u95ee One-KVM \u7f51\u9875\u754c\u9762\u65f6\uff0c\u5fc5\u987b\u4f7f\u7528 <code>https://</code> \u534f\u8bae\u5934\uff0c\u4f8b\u5982\uff1a </p><pre><code>https://your-domain:port\n</code></pre> \u4f7f\u7528 <code>http://</code> \u5c06\u4f1a\u6536\u5230 \"400 Bad Request\" \u9519\u8bef\u3002 <p></p>"},{"location":"network/frp/","title":"Frp \u7aef\u53e3\u6620\u5c04","text":""},{"location":"network/frp/#frp","title":"Frp \u5185\u7f51\u7a7f\u900f","text":"<p>\u4ec0\u4e48\u662f Frp?</p> <p>Frp \u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u53cd\u5411\u4ee3\u7406\u5e94\u7528\uff0c\u4e13\u6ce8\u4e8e\u5185\u7f51\u7a7f\u900f\u3002\u5b83\u652f\u6301\uff1a</p> <ul> <li>TCP\u3001UDP\u3001HTTP\u3001HTTPS \u7b49\u591a\u79cd\u534f\u8bae</li> <li>\u5b89\u5168\u53ef\u9760\u7684\u5185\u7f51\u670d\u52a1\u66b4\u9732</li> <li>\u652f\u6301\u81ea\u5efa\u670d\u52a1\u5668\u6216\u4f7f\u7528\u7b2c\u4e09\u65b9\u670d\u52a1\u5546</li> </ul>"},{"location":"network/frp/#_1","title":"\u5b89\u88c5\u914d\u7f6e\u6b65\u9aa4","text":"<ol> <li> <p>\u5728 One-KVM \u4e0a\u5b89\u88c5 Frpc \u5ba2\u6237\u7aef\uff1a </p><pre><code>wget https://raw.githubusercontent.com/stilleshan/frpc/master/frpc_linux_install.sh &amp;&amp; chmod +x frpc_linux_install.sh &amp;&amp; ./frpc_linux_install.sh\n</code></pre> </li> <li> <p>\u83b7\u53d6 Frp \u914d\u7f6e\u4fe1\u606f</p> <ul> <li>\u5982\u679c\u4f7f\u7528\u7b2c\u4e09\u65b9\u670d\u52a1\u5546\uff08\u5982 OpenFrp\uff09\uff0c\u9700\u8981\u521b\u5efa\u96a7\u9053\u5e76\u83b7\u53d6\u914d\u7f6e</li> <li>\u5982\u679c\u81ea\u5efa\u670d\u52a1\u5668\uff0c\u9700\u8981\u5148\u90e8\u7f72 Frps \u670d\u52a1\u7aef\u5e76\u51c6\u5907\u914d\u7f6e\u4fe1\u606f</li> </ul> <p>\u4ee5\u4e0b\u662f\u5728 OpenFrp \u521b\u5efa TCP \u96a7\u9053\u7684\u793a\u4f8b\uff1a </p> <p></p> </li> <li> <p>\u4fee\u6539 Frpc \u914d\u7f6e\u6587\u4ef6\uff1a </p><pre><code># \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\nnano /usr/local/frp/frpc.toml\n\n# \u91cd\u542f\u670d\u52a1\u4f7f\u914d\u7f6e\u751f\u6548\nsudo systemctl restart frpc\n\n# \u68c0\u67e5\u670d\u52a1\u72b6\u6001\nsudo systemctl status frpc\n</code></pre> </li> </ol> <p></p>"},{"location":"network/frp/#_2","title":"\u8fdc\u7a0b\u8bbf\u95ee","text":"<p>\u4f7f\u7528 HTTPS \u534f\u8bae\u8bbf\u95ee</p> <p>\u8bbf\u95ee One-KVM \u7f51\u9875\u754c\u9762\u65f6\uff0c\u5fc5\u987b\u4f7f\u7528 <code>https://</code> \u534f\u8bae\u5934\uff0c\u4f8b\u5982\uff1a </p><pre><code>https://your-domain:port\n</code></pre> \u4f7f\u7528 <code>http://</code> \u5c06\u4f1a\u6536\u5230 \"400 Bad Request\" \u9519\u8bef\u3002 <p></p> <p>\u5b89\u5168\u5efa\u8bae</p> <ul> <li>\u4f7f\u7528\u5f3a\u5bc6\u7801\u4fdd\u62a4\u60a8\u7684 Frp \u670d\u52a1</li> <li>\u5efa\u8bae\u5f00\u542f One-KVM \u7684\u53cc\u56e0\u7d20\u8ba4\u8bc1</li> <li>\u5b9a\u671f\u68c0\u67e5\u5e76\u66f4\u65b0 Frp \u914d\u7f6e</li> </ul>"},{"location":"network/port_forwarding/","title":"\u7aef\u53e3\u8f6c\u53d1","text":"<p>\u5982\u679c\u9700\u8981\u4ece\u4e92\u8054\u7f51\u8bbf\u95ee One-KVM\uff0c\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u5728\u8def\u7531\u5668\u4e0a\u8bbe\u7f6e\u8f6c\u53d1\u7aef\u53e3\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u8fd0\u8425\u5546\u7ed9\u8def\u7531\u5668\u5206\u914d\u4e86\u516c\u7f51 IPv4 \u6216\u516c\u7f51 IPv6 \u5730\u5740\u3002</p>"},{"location":"network/port_forwarding/#_1","title":"\u7aef\u53e3\u8f6c\u53d1\u914d\u7f6e","text":"<p>\u5b89\u5168\u5efa\u8bae</p> <p>\u8981\u914d\u7f6e\u7aef\u53e3\u8f6c\u53d1\u5c06 One-KVM \u670d\u52a1\u66b4\u9732\u5230\u516c\u7f51\u4e0a\u65f6\uff0c\u5f3a\u70c8\u5efa\u8bae\u60a8\u8bbe\u7f6e\u5f3a\u5bc6\u7801\u5e76\u542f\u7528\u53cc\u56e0\u7d20\u8ba4\u8bc1\u4ee5\u9632\u6b62\u672a\u6388\u6743\u8bbf\u95ee\u3002 \u5982\u679c\u6ca1\u6709\u516c\u7f51 IP \u5730\u5740\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 Frp\u3001Tailscale \u7b49\u5de5\u5177\u5b9e\u73b0\u7aef\u53e3\u6620\u5c04\u6216\u5f02\u5730\u7ec4\u7f51\u3002</p> <p>One-KVM \u6574\u5408\u5305\u7248\u672c\u7684 Web \u754c\u9762\u9ed8\u8ba4\u4f7f\u7528\u4ee5\u4e0b\u7aef\u53e3\uff1a</p> <ul> <li>HTTP\uff1a80 \u7aef\u53e3\uff08\u4f1a\u81ea\u52a8\u91cd\u5b9a\u5411\u5230 HTTPS\uff09</li> <li>HTTPS\uff1a443 \u7aef\u53e3</li> </ul> <p>One-KVM Docker \u7248\u672c\u7684 Web \u754c\u9762\u9ed8\u8ba4\u4f7f\u7528\u4ee5\u4e0b\u7aef\u53e3\uff1a</p> <ul> <li>HTTP\uff1a8080 \u7aef\u53e3\uff08\u4f1a\u81ea\u52a8\u91cd\u5b9a\u5411\u5230 HTTPS\uff09</li> <li>HTTPS\uff1a4430 \u7aef\u53e3</li> </ul> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u53ea\u9700\u8981\u8f6c\u53d1 443 \u6216 4430 \u7aef\u53e3\u5373\u53ef\u8bbf\u95ee Web \u7ba1\u7406\u754c\u9762\u3002</p> <p>\u4ee5\u4e0b\u662f\u5728\u5c0f\u7c73\u8def\u7531\u5668\u7ba1\u7406\u540e\u53f0\u914d\u7f6e\u7aef\u53e3\u8f6c\u53d1\u7684\u793a\u4f8b\u3002</p> <p></p> <p>\u4f7f\u7528 HTTPS \u534f\u8bae\u8bbf\u95ee</p> <p>\u8bbf\u95ee One-KVM \u7f51\u9875\u754c\u9762\u65f6\uff0c\u5fc5\u987b\u4f7f\u7528 <code>https://</code> \u534f\u8bae\u5934\uff0c\u4f8b\u5982\uff1a </p><pre><code>https://your-domain:port\n</code></pre> \u4f7f\u7528 <code>http://</code> \u5c06\u4f1a\u6536\u5230 \"400 Bad Request\" \u9519\u8bef <p></p>"},{"location":"network/ssl/","title":"SSL \u52a0\u5bc6\u8fde\u63a5","text":""},{"location":"network/ssl/#ssl","title":"\u66f4\u6362 SSL \u8bc1\u4e66","text":"<p>One-KVM \u9ed8\u8ba4\u4f7f\u7528\u81ea\u7b7e\u540d\u8bc1\u4e66</p> <p>One-KVM \u9ed8\u8ba4\u4f7f\u7528\u81ea\u7b7e\u540d\u8bc1\u4e66\uff0c\u5b58\u653e\u5728 <code>/etc/kvmd/nginx/ssl/</code> \u76ee\u5f55\u4e0b\u3002\u7531\u4e8e\u662f\u81ea\u7b7e\u540d\u8bc1\u4e66\uff0c\u6d4f\u89c8\u5668\u4f1a\u63d0\u793a\u4e0d\u5b89\u5168\u3002\u60a8\u53ef\u4ee5\u66ff\u6362\u4e3a\u53d7\u4fe1\u4efb\u7684 SSL \u8bc1\u4e66\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u4ee5\u4e0b\u4ee5 ZeroSSL \u514d\u8d39\u8bc1\u4e66\u4e3a\u4f8b\uff0c\u6f14\u793a\u5982\u4f55\u66f4\u6362 SSL \u8bc1\u4e66\uff1a</p> <ol> <li>\u5728 ZeroSSL \u63a7\u5236\u53f0\u6dfb\u52a0\u60a8\u7684\u57df\u540d\u6216 IP\uff0c\u5b8c\u6210\u57df\u540d\u9a8c\u8bc1</li> <li>\u4e0b\u8f7d NGINX \u683c\u5f0f\u7684\u8bc1\u4e66\u6587\u4ef6\u5305</li> </ol> <p></p> <ol> <li> <p>\u5c06\u4e0b\u8f7d\u7684\u8bc1\u4e66\u6587\u4ef6\u91cd\u547d\u540d\u5e76\u4e0a\u4f20\uff1a</p> <ul> <li>\u5c06\u8bc1\u4e66\u6587\u4ef6\u91cd\u547d\u540d\u4e3a <code>server.crt</code></li> <li>\u5c06\u79c1\u94a5\u6587\u4ef6\u91cd\u547d\u540d\u4e3a <code>server.key</code></li> <li>\u4e0a\u4f20\u81f3 One-KVM \u7684 <code>/etc/kvmd/nginx/ssl/</code> \u76ee\u5f55</li> </ul> </li> <li> <p>\u91cd\u542f kvmd-nginx \u670d\u52a1\u4f7f\u65b0\u8bc1\u4e66\u751f\u6548\uff1a </p><pre><code>sudo systemctl restart kvmd-nginx\n</code></pre> </li> </ol> <p></p> <p>\u5176\u4ed6\u8bc1\u4e66\u63d0\u4f9b\u5546</p> <p>\u5982\u679c\u60a8\u4f7f\u7528\u5176\u4ed6\u8bc1\u4e66\u63d0\u4f9b\u5546\uff0c\u64cd\u4f5c\u6b65\u9aa4\u7c7b\u4f3c\uff0c\u4e3b\u8981\u786e\u4fdd\u8bc1\u4e66\u548c\u79c1\u94a5\u6587\u4ef6\u91cd\u547d\u540d\u6b63\u786e\u5e76\u653e\u7f6e\u5728\u6b63\u786e\u7684\u76ee\u5f55\u5373\u53ef\u3002</p>"},{"location":"network/tailscale/","title":"Tailscale \u5f02\u5730\u7ec4\u7f51","text":""},{"location":"network/tailscale/#tailscale","title":"Tailscale \u5f02\u5730\u7ec4\u7f51","text":"<p>\u4ec0\u4e48\u662f Tailscale?</p> <p>Tailscale \u662f\u4e00\u4e2a\u57fa\u4e8e WireGuard\u00ae \u534f\u8bae\u7684\u96f6\u914d\u7f6e VPN \u7f51\u7edc\u5de5\u5177\u3002\u5b83\u80fd\u5e2e\u52a9\u60a8\uff1a</p> <ul> <li>\u5728\u4efb\u4f55\u5730\u65b9\u5b89\u5168\u8bbf\u95ee\u60a8\u7684\u8bbe\u5907</li> <li>\u65e0\u9700\u590d\u6742\u7684\u7f51\u7edc\u914d\u7f6e</li> <li>\u4f7f\u7528\u7aef\u5230\u7aef\u52a0\u5bc6\u4fdd\u62a4\u6570\u636e\u5b89\u5168</li> <li>\u652f\u6301\u591a\u5e73\u53f0\uff08Windows\u3001macOS\u3001Linux\u3001iOS\u3001Android\uff09</li> </ul>"},{"location":"network/tailscale/#_1","title":"\u5b89\u88c5\u914d\u7f6e\u6b65\u9aa4","text":"<ol> <li> <p>\u5728 One-KVM \u4e0a\u5b89\u88c5 Tailscale \u5ba2\u6237\u7aef\uff1a </p><pre><code># \u4e0b\u8f7d\u5e76\u6267\u884c\u5b89\u88c5\u811a\u672c\ncurl -fsSL https://tailscale.com/install.sh | sh\n\n# \u542f\u52a8 Tailscale \u5e76\u767b\u5f55\ntailscale up\n</code></pre> </li> <li> <p>\u6309\u7167\u7ec8\u7aef\u63d0\u793a\u7684\u94fe\u63a5\u5b8c\u6210\u6388\u6743\u767b\u5f55\uff1a</p> </li> </ol> <p></p> <ol> <li>\u767b\u5f55\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u5728 Tailscale \u7ba1\u7406\u540e\u53f0\u770b\u5230\u65b0\u6dfb\u52a0\u7684\u8bbe\u5907\uff1a</li> </ol> <p></p> <p>Tailscale \u8bbe\u5907 IP \u5730\u5740</p> <ul> <li>Tailscale \u9ed8\u8ba4\u4f1a\u5206\u914d\u7c7b\u4f3c <code>100.x.y.z</code> \u7684 IP \u5730\u5740</li> <li>\u4f7f\u7528\u8be5 IP \u5730\u5740\u5373\u53ef\u4ece\u4efb\u4f55\u5730\u65b9\u8bbf\u95ee\u60a8\u7684 One-KVM</li> <li>\u66f4\u591a\u9ad8\u7ea7\u529f\u80fd\uff08\u5982 ACL \u63a7\u5236\u3001\u5b50\u7f51\u8def\u7531\u7b49\uff09\u8bf7\u53c2\u8003 Tailscale \u5b98\u65b9\u6587\u6863</li> </ul>"},{"location":"network/wifi/","title":"Wifi","text":""},{"location":"network/wifi/#wifi","title":"WIFI","text":""},{"location":"start_install/2k0300_install/","title":"\u9f99\u82af\u4e45\u4e45\u6d3e","text":""},{"location":"start_install/2k0300_install/#_1","title":"\u786c\u4ef6\u8bf4\u660e","text":"<p>\u9f99\u82af\u6d3e 2K0300 \u4e45\u4e45\u6d3e\u91c7\u7528\u9f99\u82af 2K0300 \u5904\u7406\u5668\uff0c\u81ea\u4e3b LoongArch \u67b6\u6784\uff0c\u4e3b\u9891 1GHz\uff0c\u652f\u6301\u4f4e\u529f\u8017\uff0c\u652f\u6301\u89e6\u5c4f\u8f93\u5165\u3001\u529b\u79ef DDR4\uff0c\u63d0\u4f9b\u5343\u5146\u7f51\u53e3\u548c\u591a\u529f\u80fd\u63a5\u53e3\uff0c\u91c7\u7528\u6807\u51c6 Type-C \u63a5\u53e3\u4f9b\u7535\u3002</p> <p>\u786c\u4ef6\uff1a\u9f99\u82af\u4e45\u4e45\u6d3e\u3001USB HDMI \u91c7\u96c6\u5361\u3001CH9329+CH340 \u4e00\u4f53\u7ebf</p>"},{"location":"start_install/2k0300_install/#_2","title":"\u6574\u5408\u5305\u90e8\u7f72","text":"<p>\u9f99\u82af\u4e45\u4e45\u6d3e One-KVM \u6574\u5408\u5305\u57fa\u4e8e loongnix \u7cfb\u7edf\uff08\u65e7\u4e16\u754c\uff09\u6253\u5305\u800c\u6210\u3002</p> <p>\u6574\u5408\u5305\u8bf4\u660e</p> <p>\u63d0\u9192</p> <p>\u865a\u62df\u5b58\u50a8\u9a71\u52a8\u5668\uff08MSD\uff09\u3001\u865a\u62df USB \u7f51\u5361\u7b49\u865a\u62dfUSB\u8bbe\u5907\u7b49\u529f\u80fd\u4ec5\u4f7f\u7528 OTG \u7aef\u53e3\u6a21\u5f0f\u65f6\u53ef\u7528\uff0c\u8bf7\u6ce8\u610f\u4f7f\u7528 CH9329 HID \u65f6\u4e0d\u652f\u6301\u8fd9\u4e9b\u865a\u62df USB \u8bbe\u5907\u6269\u5c55\u529f\u80fd\u3002</p> <ul> <li> <p>\u7cfb\u7edf\u57fa\u4e8e loongix \u9884\u88c5 One-KVM \u5f00\u7bb1\u5373\u7528\uff0c\u6253\u5305\u65b9\u5f0f\u4e3a\u7cfb\u7edf rootfs \u538b\u7f29\u5305\uff0c\u542f\u52a8\u540e\u8bbf\u95ee https://IP:443 \u5373\u53ef\u3002</p> </li> <li> <p>\u53d7\u9650\u4e8e\u5185\u5b58\u5927\u5c0f\uff0c\u5305\u542b 1g swap\uff08\u6587\u4ef6\u4f4d\u4e8e/swap.img\uff09\uff0c\u7cfb\u7edf\u539f\u59cb\u6587\u4ef6\u603b\u5927\u5c0f\u7ea6\u4e3a4.8G\uff0c\u5bf9\u4e8e\u4e45\u4e45\u6d3e TF \u7248\u672c\u5efa\u8bae\u4f7f\u7528\u5927\u4e8e8G\uff08\u542b\uff09\u7684\u9ad8\u901f TF \u5361\u3002</p> </li> <li> <p>\u7531\u4e8e OTG \u529f\u80fd\u9700\u8981\u6309\u7167\u5b98\u65b9\u6587\u6863\u8fdb\u884c\u786c\u6539\uff0c\u6240\u4ee5\u8fd9\u91cc\u4f7f\u7528 CH9329+CH340 \u4e00\u4f53\u7ebf\u3002\u5185\u6838\u5df2\u7ecf\u52a0\u5165\u4e86 OTG \u6a21\u5757\u5e76\u4e14 usb gadget \u65b0\u5efa\u6b63\u5e38\uff0c\u5982\u6709\u9700\u8981\u9ad8\u9636\u73a9\u5bb6\u53ef\u81ea\u884c\u6d4b\u8bd5 OTG\u3002</p> </li> <li> <p>\u5982\u679c\u662f\u4e45\u4e45\u6d3e TF \u5361\u7248\u672c\uff0c\u7406\u8bba\u4e0a\u4e0d\u7528\u4fee\u6539\u6587\u4ef6\u3002\u5982\u679c\u662f\u4e45\u4e45\u6d3e WIFI \u5361\u7248\u672c\uff0c\u538b\u7f29\u5305 /boot/ \u76ee\u5f55\u4e0b\u5305\u542b vmlinuz-tf \u548c vmlinuz-wifi\uff0c\u4f7f\u7528\u65f6\u6309\u9700\u91cd\u547d\u540d\u4e3a vmlinuz\uff0c\u518d\u7f16\u8f91 boot.cfg \u8bbe\u7f6e\u542f\u52a8\u9879\u5373\u53ef\u3002</p> </li> </ul> <p>\u547d\u4ee4\u5b9e\u4f8b\uff1a</p> <pre><code>sudo fdisk -l\n#\u5047\u5b9a TF \u5361\u8def\u5f84\u4e3a /dev/sdc1\nsudo mkfs.ext4 /dev/sdc1\nmkdir /mnt/sdc1\nsudo mount /dev/sdc1 /mnt/sdc1\n#\u6ce8\u610f --strip-components=2 \u53c2\u6570\u53bb\u6389\u5916\u9762\u4e24\u5c42\u6587\u4ef6\u5939\nsudo tar -zvxf One-KVM_by-SilentWind_2k0300_241025.tar.gz --strip-components=2 -C /mnt/sdc1 &amp;&amp; sync\nsudo nano boot.cfg\nsudo cd /mnt/sdc1/boot\n#\u6309\u9700\u91cd\u547d\u540d\u6210 vmlinuz\uff0c\u4fee\u6539boot.cfg\ncp vmlinuz-tf vmlinuz\nsudo nano boot.cfg\nsudo umount /dev/sdc1\n</code></pre>"},{"location":"start_install/2k0300_install/#_3","title":"\u4f7f\u7528\u8bf4\u660e","text":""},{"location":"start_install/chainedbox_install/","title":"\u6211\u5bb6\u4e91\u76d2\u5b50","text":""},{"location":"start_install/chainedbox_install/#_1","title":"\u786c\u4ef6\u4ecb\u7ecd","text":"<p>\u6211\u5bb6\u4e91\u76d2\u5b50\u91c7\u7528\u4e86 RK3328 CPU\uff0c\u642d\u914d 1GB \u5185\u5b58\u548c 8GB \u5185\u90e8\u50a8\u5b58\u7a7a\u95f4\u3002\u5b83\u5185\u7f6e\u4e86\u4e00\u4e2a3.5\u5bf8SATA\u786c\u76d8\u4f4d\uff0c\u914d\u5907\u4e86\u4e00\u4e2a\u5343\u5146\u7f51\u7edc\u63a5\u53e3\u3001\u4e00\u4e2a USB 3.0\u63a5\u53e3\u548c\u4e00\u4e2a USB 2.0\u63a5\u53e3\uff08\u540e\u8005\u53ef\u4f5c\u4e3a OTG \u53e3\u4f7f\u7528\uff09\u3002</p>"},{"location":"start_install/chainedbox_install/#_2","title":"\u6574\u5408\u5305\u90e8\u7f72","text":"<ol> <li>\u51c6\u5907\u5de5\u4f5c\uff1a\u51c6\u5907\u597dOne-KVM\u6574\u5408\u5305\u6587\u4ef6\uff0c\u5728\u7535\u8111\u4e0a\u5b89\u88c5\u6253\u5f00\u745e\u82af\u5fae\u5f00\u53d1\u5de5\u5177\u3002</li> <li>\u62c6\u673a\u77ed\u63a5\uff1aUSB \u53cc\u5de5\u7ebf\u8fde\u63a5\u76d2\u5b50 USB 2.0\u63a5\u53e3\uff0c\u77ed\u63a5\u76d2\u5b50\u4e3b\u677f MASKROM \u89e6\u70b9\u540e\u901a\u7535\uff0c\u6211\u5bb6\u4e91\u76d2\u5b50\u5c06\u8fdb\u5165MASKROM\u6a21\u5f0f\u3002\u6b64\u65f6\uff0c\u745e\u82af\u5fae\u5f00\u53d1\u5de5\u5177\u8f6f\u4ef6\u5e94\u80fd\u8bc6\u522b\u5230\u8bbe\u5907\u3002</li> <li>\u5237\u5165\u56fa\u4ef6\uff1a\u5728\u745e\u82af\u5fae\u5f00\u53d1\u5de5\u5177\u4e2d\u9009\u62e9\u60a8\u51c6\u5907\u597d\u7684 One-KVM \u6574\u5408\u5305\u6587\u4ef6\uff0c\u5e76\u6267\u884c\u5237\u673a\u6d41\u7a0b\u3002\u5237\u673a\u5b8c\u6210\u540e\uff0c\u91cd\u65b0\u7ed9\u6211\u5bb6\u4e91\u76d2\u5b50\u901a\u7535\u4f1a\u542f\u52a8\u65b0\u5237\u5165\u7684 One-KVM \u7cfb\u7edf\u3002</li> </ol>"},{"location":"start_install/chainedbox_install/#_3","title":"\u4f7f\u7528\u8bf4\u660e","text":"<p>\u63d0\u9192</p> <p>\u90e8\u5206\u4f4e\u529f\u8017\u8bbe\u5907\u5728\u672a\u63a5\u901a\u7535\u6e90\u65f6\u53ef\u80fd\u901a\u8fc7 USB \u7ebf\u4ece\u6211\u5bb6\u4e91 OTG \u53e3\u53d6\u7535\u5e76\u542f\u52a8\u81f3\u5f02\u5e38\u72b6\u6001\uff0c\u518d\u63a5\u901a\u7535\u6e90\u4e5f\u65e0\u6cd5\u542f\u52a8\u3002\u8981\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u5265\u5f00 USB \u7ebf\u526a\u65ad\u7ea2\u82725V\u7ec6\u7535\u7ebf\u3002</p> <p>SSH</p> <p>Armbian \u7cfb\u7edf\u9ed8\u8ba4\u5f00\u542f SSH\uff0cSSH \u521d\u59cb\u7528\u6237\u5bc6\u7801\u4e3a root/1234\u3002</p> <p>\u8b66\u544a</p> <p>\u4e0d\u5efa\u8bae\u4f7f\u7528 <code>apt upgrade</code> \u5347\u7ea7\u5185\u6838\u548c\u8bbe\u5907\u6811\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u7cfb\u7edf\u5f02\u5e38\uff0cOTG \u529f\u80fd\u65e0\u6cd5\u4f7f\u7528\u3002</p> <p>\u786c\u4ef6\u8fde\u63a5</p> <p>\u6211\u5bb6\u4e91 USB2.0 \u53e3\u4e3a OTG \u53e3\u63a5 USB \u53cc\u516c\u7ebf\uff0cUSB3.0 \u53e3\u4e3a\u666e\u901a USB \u53e3\u63a5 USB HDMI \u91c7\u96c6\u5361\u3002</p> <p></p>"},{"location":"start_install/cumebox2_install/","title":"\u79c1\u5bb6\u4e91\u4e8c\u4ee3","text":""},{"location":"start_install/cumebox2_install/#_1","title":"\u786c\u4ef6\u4ecb\u7ecd","text":"<p>\u79c1\u5bb6\u4e91\u4e8c\u4ee3\uff08\u4e5f\u79f0\u6bd4\u7279\u7c73\u76d2\u5b50\u3001CumeBox2\uff0c\u4e3a\u540c\u4e00\u786c\u4ef6\uff09\u642d\u8f7d\u4e86\u6676\u6668 S905X \u5904\u7406\u5668\uff0c\u914d\u5907\u4e86 1GB RAM \u548c 8GB \u5185\u90e8\u5b58\u50a8\uff0c\u62e5\u6709\u4e00\u4e2a\u767e\u5146\u7f51\u53e3\u3001\u4e24\u4e2a USB 2.0\u63a5\u53e3\u3001\u4e00\u4e2a OTG 2.0\u7aef\u53e3\u3001\u4e24\u4e2a SATA 3.0\u63a5\u53e3\u3001\u5185\u7f6e\u53cc\u9891 WIFI \u53ca\u84dd\u7259\uff0c\u5e76\u63d0\u4f9b TF \u5361\u69fd\u548c HDMI \u8f93\u51fa\u3002</p>"},{"location":"start_install/cumebox2_install/#_2","title":"\u6574\u5408\u5305\u90e8\u7f72","text":"<p>\u6574\u5408\u5305\u5e95\u5305\u57fa\u4e8e Armbian Khadas-vim1 \u56fa\u4ef6\u4fee\u6539 DTB \u800c\u6765\uff0c\u8fdb\u884c\u4e86\u7279\u522b\u9002\u914d\uff0c\u7f51\u53e3\u3001OLED \u5c0f\u5c4f\u5e55\u3001WIFI \u3001OTG \u90fd\u6b63\u5e38\u53ef\u7528\u3002</p> <p>\u5237\u673a\u51c6\u5907\u4e0e\u6b65\u9aa4</p> <ol> <li>\u4e0b\u8f7d\u56fa\u4ef6\uff1a\u83b7\u53d6 Android TV 6.0\u56fa\u4ef6\uff0c\u8fd9\u662f\u7528\u4e8e\u70e7\u5f55\u5176\u4ed6\u7cfb\u7edf\u7684\u8fc7\u6e21\u7cfb\u7edf\u3002</li> <li>\u77ed\u63a5\u4e3b\u677f\u89e6\u70b9\uff1a\u53c2\u7167\u63d0\u4f9b\u7684\u56fe\u7247\u77ed\u63a5\u6307\u5b9a\u7684\u89e6\u70b9\u4ee5\u8fdb\u5165\u70e7\u5f55\u6a21\u5f0f\u3002</li> <li>\u4f7f\u7528\u70e7\u5f55\u5de5\u5177\uff1a\u5229\u7528 Amlogic USB Burning Tool \u5c06 Android TV \u56fa\u4ef6\u5199\u5165\u8bbe\u5907\u3002</li> <li>\u5b89\u88c5 APK\uff1a\u5f00\u673a\u540e\uff0c\u5728\u65b0\u5b89\u88c5\u7684 Android TV \u73af\u5883\u4e2d\u5b89\u88c5\u7279\u5b9a\u7684APK\u6587\u4ef6\uff0c\u4f7f\u8bbe\u5907\u80fd\u591f\u4ece\u5916\u90e8\u4ecb\u8d28\uff08\u5982U\u76d8\u6216 TF \u5361\uff09\u542f\u52a8\u51c6\u5907\u597d\u7684 Armbian \u7cfb\u7edf\u3002</li> <li>\u5207\u6362\u81f3 Armbian\uff1a\u91cd\u542f\u540e\uff0c\u8bbe\u5907\u5e94\u8be5\u80fd\u76f4\u63a5\u8fdb\u5165\u51c6\u5907\u597d\u7684 Armbian \u64cd\u4f5c\u7cfb\u7edf\u3002</li> <li>\u5199\u5165\u6700\u7ec8\u56fa\u4ef6\uff1a\u6700\u540e\u4e00\u6b65\u662f\u901a\u8fc7 dd \u547d\u4ee4\u5c06\u6574\u5408\u5305\u5199\u5165 EMMC\u3002</li> </ol> <p></p> <p>\u5237\u673a\u8be6\u7ec6\u8fc7\u7a0b\u53ef\u53c2\u8003\uff1a\u79c1\u5bb6\u4e91\u4e8c\u4ee3/\u6bd4\u7279\u7c73\u76d2/CumeBox2\u5237\u673aArmbian\u6559\u7a0b // \u55b5\u0e05^\u2022\ufecc\u2022^\u0e05 (ruohai.wang)</p> <p>\u5347\u7ea7\u65b9\u6cd5</p> <p>\u5c06\u6700\u65b0 dd \u6574\u5408\u5305\u5199\u5165U\u76d8\uff0c\u63d2\u5230\u76d2\u5b50 USB \u53e3\u4e0a\u901a\u7535\u542f\u52a8\uff0c\u8fd9\u65f6\u5c31\u4f1a\u542f\u52a8U\u76d8\u7cfb\u7edf\u3002\u5982\u9700\u8981\u5199\u5165 emmc \u5219\u9700\u8981\u5c06 dd \u6574\u5408\u5305\u901a\u8fc7 dd \u5de5\u5177\u5199\u5165 emmc\u3002</p>"},{"location":"start_install/cumebox2_install/#docker","title":"Docker \u90e8\u7f72","text":"<p>\u5b89\u88c5 Docker</p> <ul> <li>\u4f7f\u7528\u5b98\u65b9\u5305\u7ba1\u7406\u5668\u5b89\u88c5\uff1a <pre><code>apt install apparmor-utils docker.io -y\n</code></pre></li> <li>\u6216\u8005\u5b89\u88c5\u6700\u65b0\u7248\u672c\uff1a <pre><code>curl -fsSL https://get.docker.com | bash\n</code></pre></li> </ul> <p>Docker \u90e8\u7f72 One-KVM \u5bb9\u5668 </p><pre><code>#\u8fd0\u884c docker \u547d\u4ee4\uff0c\u4f7f\u7528 OTG HID\n#\u7cfb\u7edf /dev/video0 \u8bbe\u5907\u5df2\u7ecf\u5b58\u5728\uff0c\u6240\u4ee5\u65b0\u63d2\u5165\u7684 USB \u91c7\u96c6\u5361\u4ece /dev/video1 \u5f00\u59cb\ndocker run --name kvmd -itd --privileged=true \\\n    -v /dev:/dev -v /sys/kernel/config:/sys/kernel/config \\\n    -v /lib/modules:/lib/modules:ro \\\n    -e OTG=1 -e VIDEONUM=1 \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    silentwind0/kvmd\n\n#\u786e\u8ba4\u5bb9\u5668\u6b63\u5e38\u8fd0\u884c\u540e\u53ef\u6dfb\u52a0\u81ea\u52a8\u91cd\u542f\ndocker logs kvmd\ndocker update --restart=always kvmd\n</code></pre> <p></p>"},{"location":"start_install/cumebox2_install/#_3","title":"\u4f7f\u7528\u8bf4\u660e","text":"<p>\u63d0\u9192</p> <p>\u90e8\u5206\u4f4e\u529f\u8017\u8bbe\u5907\u5728\u672a\u63a5\u901a\u7535\u6e90\u65f6\u53ef\u80fd\u901a\u8fc7 USB \u7ebf\u4ece\u79c1\u5bb6\u4e91\u4e8c\u4ee3 OTG \u53e3\u53d6\u7535\u5e76\u542f\u52a8\u81f3\u5f02\u5e38\u72b6\u6001\uff0c\u518d\u63a5\u901a\u7535\u6e90\u4e5f\u65e0\u6cd5\u542f\u52a8\u3002\u8981\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u5265\u5f00 USB \u7ebf\u526a\u65ad\u7ea2\u82725V\u7ec6\u7535\u7ebf\u3002</p> <p>SSH \u8fdc\u7a0b\u767b\u5f55</p> <p>Armbian \u7cfb\u7edf\u9ed8\u8ba4\u5f00\u542f SSH\uff0cSSH \u521d\u59cb\u7528\u6237\u5bc6\u7801\u4e3a root/1234\u3002</p> <p>\u8b66\u544a</p> <p>\u4e0d\u5efa\u8bae\u4f7f\u7528 <code>apt upgrade</code> \u5347\u7ea7\u5185\u6838\u548c\u8bbe\u5907\u6811\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u7cfb\u7edf\u5f02\u5e38\uff0cOTG \u529f\u80fd\u65e0\u6cd5\u4f7f\u7528\u3002</p> <p>\u786c\u4ef6\u8fde\u63a5</p> <p></p> <p>OLED \u663e\u793a\u5c4f</p> <p>\u524d\u9762\u677f\u7684\u5c0f OLED \u663e\u793a\u5c4f\u4f1a\u5faa\u73af\u663e\u793a\u6b22\u8fce\u8bed\u3001\u6e29\u5ea6\u548c IP \u5730\u5740\u3002</p> <p></p> <p>WIFI \u8fde\u63a5</p> <ul> <li> <p>\u5b89\u88c5\u8f6f\u4ef6\u5305 </p><pre><code>apt install network-manager -y\n</code></pre> </li> <li> <p>\u8fde\u63a5 WIFI </p><pre><code>#\u5728\u547d\u4ee4\u884c\u6587\u672c\u56fe\u5f62\u754c\u9762\u4e2d\u8fdb\u884c WIFI \u8fde\u63a5\uff0c\u652f\u6301\u53cc\u9891 WIFI\n#\u7b2c\u4e00\u6b21\u8fde\u63a5\u540e\uff0c\u76d2\u5b50\u91cd\u542f\u8fde\u63a5\u4f1a\u81ea\u52a8\u8fde\u63a5\u4e0a\u4e00\u6b21\u8fde\u63a5\u7684 WIFI\nnmtui\n</code></pre> </li> </ul> <p></p> <p>ATX \u7535\u6e90\u63a7\u5236</p> <p>\u79c1\u5bb6\u4e91\u4e8c\u4ee3\u53ef\u4ee5\u4f7f\u7528 USB HID \u7ee7\u7535\u5668\u4f5c\u4e3a\u7269\u7406\u5f00\u5173\u673a\u529f\u80fd\u7684\u63a7\u5236\u65b9\u5f0f\u3002</p> <p></p>"},{"location":"start_install/docker_install/","title":"Docker \u90e8\u7f72","text":""},{"location":"start_install/docker_install/#_1","title":"\u8f6f\u786c\u4ef6\u51c6\u5907","text":""},{"location":"start_install/docker_install/#_2","title":"\u786c\u4ef6\u8981\u6c42","text":"\u7ec4\u4ef6 \u8981\u6c42 \u8bf4\u660e \u4e3b\u673a Linux \u4e3b\u673a\uff08\u6216\u865a\u62df\u673a\uff09 \u652f\u6301 Docker \u73af\u5883 \u91c7\u96c6\u5361 USB \u91c7\u96c6\u5361 \u7528\u4e8e\u89c6\u9891\u4fe1\u53f7\u91c7\u96c6 \u63a7\u5236\u8bbe\u5907 USB CH340+CH9329 \u4e3b\u673a OTG \u4e0d\u53ef\u7528\u65f6\u53ef\u4f5c\u4e3a\u66ff\u4ee3"},{"location":"start_install/docker_install/#_3","title":"\u7cfb\u7edf\u517c\u5bb9\u6027","text":"\u652f\u6301\u7684\u53d1\u884c\u7248 \u4e0d\u652f\u6301\u7684\u53d1\u884c\u7248 Ubuntu/Debian CentOS Armbian Arch Linux"},{"location":"start_install/docker_install/#docker","title":"Docker \u5b89\u88c5","text":"<p>\u9009\u62e9\u4ee5\u4e0b\u65b9\u5f0f\u4e4b\u4e00\u5b89\u88c5 Docker\uff1a</p> \u5305\u7ba1\u7406\u5668\u5b89\u88c5\u5b98\u65b9\u811a\u672c\u5b89\u88c5 <pre><code>apt install docker.io -y\n</code></pre> <pre><code>curl -fsSL https://get.docker.com | bash\n</code></pre>"},{"location":"start_install/docker_install/#hid","title":"HID \u63a7\u5236\u65b9\u5f0f\u5bf9\u6bd4","text":"<p>OTG \u6a21\u5f0f\u652f\u6301\u865a\u62df HID\u3001MSD\u3001USB \u7f51\u5361\u7b49\u529f\u80fd\u3001CH9329 HID\u4ec5\u652f\u6301\u865a\u62df HID\u529f\u80fd\u3002</p> \u7279\u6027 OTG HID CH9329 HID \u9002\u7528\u67b6\u6784 ARM CPU \u6240\u6709\u67b6\u6784 \u63a5\u53e3\u7c7b\u578b USB OTG \u63a5\u53e3 \u4e32\u53e3\u8f6c USB HID \u82af\u7247 \u5de5\u4f5c\u6a21\u5f0f USB Host/Device \u53ef\u914d\u7f6e \u6807\u51c6 USB \u8f93\u5165\u8bbe\u5907 \u529f\u80fd\u652f\u6301 \u865a\u62df HID\u3001MSD\u3001USB \u7f51\u5361 \u952e\u76d8\u3001\u9f20\u6807\u8f93\u5165 \u4f7f\u7528\u573a\u666f ARM \u8bbe\u5907\uff08\u5982\u6811\u8393\u6d3e\uff09 X86 \u8bbe\u5907\uff08\u5982 PC\uff09"},{"location":"start_install/docker_install/#docker_1","title":"Docker \u90e8\u7f72","text":"<p>One-KVM \u652f\u6301\u4f7f\u7528 OTG \u6216 CH9329 \u4f5c\u4e3a\u865a\u62df HID\uff0c\u517c\u5bb9 amd64\u3001arm64\u3001armv7 \u67b6\u6784\u7684 Linux \u7cfb\u7edf\u3002</p>"},{"location":"start_install/docker_install/#_4","title":"\u5feb\u901f\u90e8\u7f72","text":"<p>One-KVM \u63d0\u4f9b\u5b89\u88c5\u5411\u5bfc\u811a\u672c\uff0c\u53ef\u81ea\u52a8\u68c0\u67e5\u73af\u5883\u5e76\u5feb\u901f\u5b8c\u6210\u90e8\u7f72\uff1a</p> <pre><code>curl -sSL https://one-kvm.mofeng.run/quick_start.sh -o quick_start.sh &amp;&amp; bash quick_start.sh\n</code></pre> <p></p>"},{"location":"start_install/docker_install/#_5","title":"\u624b\u52a8\u90e8\u7f72","text":"<p>\u5982\u9700\u81ea\u5b9a\u4e49\u914d\u7f6e\uff0c\u8bf7\u53c2\u8003\u4e0b\u65b9\u7684\u8bbe\u5907\u6620\u5c04\u548c\u73af\u5883\u53d8\u91cf\u8bf4\u660e\u3002</p>"},{"location":"start_install/docker_install/#_6","title":"\u7f51\u7edc\u6a21\u5f0f\u9009\u62e9","text":"<p>\u63a8\u8350\u4f7f\u7528 <code>--net=host</code> \u6a21\u5f0f\u4ee5\u83b7\u5f97\u66f4\u597d\u7684 WoL \u529f\u80fd\u548c WebRTC \u901a\u4fe1\u652f\u6301\u3002</p> \u7f51\u7edc\u6a21\u5f0f \u4f18\u52bf \u9002\u7528\u573a\u666f Host \u6a21\u5f0f \u6027\u80fd\u66f4\u597d\uff0c\u652f\u6301 WoL \u548c WebRTC \u63a8\u8350\u4f7f\u7528 Bridge \u6a21\u5f0f \u7aef\u53e3\u9694\u79bb\uff0c\u66f4\u5b89\u5168 \u9700\u8981\u7aef\u53e3\u9694\u79bb\u65f6"},{"location":"start_install/docker_install/#host","title":"Host \u7f51\u7edc\u6a21\u5f0f\u7aef\u53e3\u8bf4\u660e","text":"\u7aef\u53e3 \u534f\u8bae \u670d\u52a1 \u8bf4\u660e 8080 HTTP Web \u670d\u52a1 HTTP \u8bbf\u95ee\u7aef\u53e3 4430 HTTPS Web \u670d\u52a1 HTTPS \u8bbf\u95ee\u7aef\u53e3\uff08\u63a8\u8350\uff09 5900 TCP VNC \u670d\u52a1 VNC \u8fdc\u7a0b\u684c\u9762 623 TCP IPMI \u670d\u52a1 IPMI \u7ba1\u7406\u63a5\u53e3 20000-40000 TCP/UDP WebRTC \u4f4e\u5ef6\u8fdf\u89c6\u9891\u4f20\u8f93 9 UDP Wake-on-LAN \u7f51\u7edc\u5524\u9192\u529f\u80fd"},{"location":"start_install/docker_install/#_7","title":"\u90e8\u7f72\u547d\u4ee4","text":"Host \u7f51\u7edc\u6a21\u5f0fBridge \u7f51\u7edc\u6a21\u5f0f <p>OTG HID \u6a21\u5f0f </p><pre><code>sudo docker run --name kvmd -itd --privileged=true \\\n    -v /lib/modules:/lib/modules:ro -v /dev:/dev \\\n    -v /sys/kernel/config:/sys/kernel/config -e OTG=1 \\\n    --net=host \\\n    silentwind0/kvmd\n</code></pre> <p>CH9329 HID \u6a21\u5f0f </p><pre><code>sudo docker run --name kvmd -itd \\\n    --device /dev/video0:/dev/video0 \\\n    --device /dev/ttyUSB0:/dev/ttyUSB0 \\\n    --net=host \\\n    silentwind0/kvmd\n</code></pre> <p>OTG HID \u6a21\u5f0f </p><pre><code>sudo docker run --name kvmd -itd --privileged=true \\\n    -v /lib/modules:/lib/modules:ro -v /dev:/dev \\\n    -v /sys/kernel/config:/sys/kernel/config -e OTG=1 \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    silentwind0/kvmd\n</code></pre> <p>CH9329 HID \u6a21\u5f0f </p><pre><code>sudo docker run --name kvmd -itd \\\n    --device /dev/video0:/dev/video0 \\\n    --device /dev/ttyUSB0:/dev/ttyUSB0 \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    silentwind0/kvmd\n</code></pre>"},{"location":"start_install/docker_install/#_8","title":"\u955c\u50cf\u52a0\u901f","text":"<p>\u5982\u679c\u7f51\u7edc\u6761\u4ef6\u4e0d\u4f73\uff0c\u53ef\u4f7f\u7528\u963f\u91cc\u4e91\u955c\u50cf\u4ed3\u5e93\u52a0\u901f\u4e0b\u8f7d\uff1a</p> <p>\u5c06\u547d\u4ee4\u4e2d\u7684 <code>silentwind0/kvmd</code> \u66ff\u6362\u4e3a <code>registry.cn-hangzhou.aliyuncs.com/silentwind/kvmd</code></p>"},{"location":"start_install/docker_install/#_9","title":"\u8bbf\u95ee\u548c\u914d\u7f6e","text":"<p>\u90e8\u7f72\u5b8c\u6210\u540e\u8bbf\u95ee <code>https://IP:4430</code>\u3002\u9996\u6b21\u8bbf\u95ee\u53ef\u80fd\u9047\u5230 SSL \u8bc1\u4e66\u5b89\u5168\u63d0\u9192\uff0c\u70b9\u51fb\"\u9ad8\u7ea7\"\u548c\"\u7ee7\u7eed\u8bbf\u95ee\"\u5373\u53ef\u3002</p> \u9879\u76ee \u503c \u8bf4\u660e \u9ed8\u8ba4\u8d26\u53f7 admin Web/VNC/IPMI \u901a\u7528\u8d26\u53f7 \u9ed8\u8ba4\u5bc6\u7801 admin Web/VNC/IPMI \u901a\u7528\u5bc6\u7801 \u6545\u969c\u6392\u67e5 <code>sudo docker logs kvmd</code> \u67e5\u770b\u5bb9\u5668\u8fd0\u884c\u65e5\u5fd7"},{"location":"start_install/docker_install/#_10","title":"\u5f00\u673a\u81ea\u542f\u8bbe\u7f6e","text":"<pre><code># \u8bbe\u7f6e Docker \u670d\u52a1\u5f00\u673a\u81ea\u542f\nsystemctl enable docker\n\n# \u8bbe\u7f6e One-KVM \u5bb9\u5668\u81ea\u52a8\u91cd\u542f\ndocker update --restart=always kvmd\n</code></pre>"},{"location":"start_install/docker_install/#_11","title":"\u5bb9\u5668\u66f4\u65b0","text":"<pre><code># \u505c\u6b62\u5e76\u5220\u9664\u65e7\u5bb9\u5668\ndocker stop kvmd\ndocker rm kvmd\n\n# \u66f4\u65b0\u955c\u50cf\ndocker pull silentwind0/kvmd\n\n# \u91cd\u65b0\u90e8\u7f72\uff08\u4f7f\u7528\u4e4b\u524d\u7684\u90e8\u7f72\u547d\u4ee4\uff09\n</code></pre>"},{"location":"start_install/docker_install/#_12","title":"\u9ad8\u7ea7\u914d\u7f6e","text":""},{"location":"start_install/docker_install/#_13","title":"\u8bbe\u5907\u6620\u5c04","text":"\u8bbe\u5907\u7c7b\u578b Docker \u53c2\u6570 \u914d\u5408\u73af\u5883\u53d8\u91cf \u8bf4\u660e \u91c7\u96c6\u5361 <code>--device /dev/video0:/dev/video0</code> <code>-e VIDEONUM=0</code> \u6620\u5c04\u89c6\u9891\u91c7\u96c6\u8bbe\u5907 \u97f3\u9891\u8f93\u5165 <code>--device /dev/snd:/dev/snd</code> <code>-e AUDIONUM=0</code> \u6620\u5c04\u58f0\u5361\u8bbe\u5907 \u663e\u5361 <code>--device /dev/dri:/dev/dri</code> <code>-e HWENCODER=vaapi</code> \u6620\u5c04 VAAPI \u786c\u4ef6\u7f16\u7801\u6240\u9700\u8bbe\u5907 \u663e\u5361 <code>--device /dev:/dev</code> <code>-e HWENCODER=rkmpp</code> \u6620\u5c04 RKMPP \u786c\u4ef6\u7f16\u7801\u6240\u9700\u8bbe\u5907"},{"location":"start_install/docker_install/#_14","title":"\u76ee\u5f55\u6620\u5c04","text":"\u76ee\u5f55\u7528\u9014 Docker \u53c2\u6570 \u8bf4\u660e \u914d\u7f6e\u6301\u4e45\u5316 <code>-v ./kvmd_config:/etc/kvmd</code> \u6302\u8f7d\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55 \u955c\u50cf\u6587\u4ef6 <code>-v ./msd:/var/lib/kvmd/msd</code> \u5b58\u653e\u7cfb\u7edf\u955c\u50cf\u6587\u4ef6"},{"location":"start_install/docker_install/#_15","title":"\u73af\u5883\u53d8\u91cf\u914d\u7f6e","text":""},{"location":"start_install/docker_install/#_16","title":"\u57fa\u7840\u914d\u7f6e","text":"\u73af\u5883\u53d8\u91cf \u9ed8\u8ba4\u503c \u8bf4\u660e <code>USERNAME</code> admin \u8bbe\u7f6e\u7528\u6237\u8d26\u53f7\uff08Web/VNC/IPMI\uff09 <code>PASSWORD</code> admin \u8bbe\u7f6e\u7528\u6237\u5bc6\u7801\uff08Web/VNC/IPMI\uff09 <code>VIDEONUM</code> 0 \u91c7\u96c6\u5361\u8bbe\u5907\u7f16\u53f7\uff08/dev/video[N]\uff09 <code>AUDIONUM</code> 0 \u97f3\u9891\u8bbe\u5907\u7f16\u53f7\uff08hw:[N]\uff09 <p>\u5bc6\u7801\u8bbe\u7f6e\u65b9\u5f0f\u8bf4\u660e</p> <p>\u4e24\u79cd\u914d\u7f6e\u65b9\u5f0f\uff1a</p> <ul> <li> <p>USERNAME + PASSWORD\uff1a\u521b\u5efa\u81ea\u5b9a\u4e49\u7528\u6237\u5e76\u5220\u9664\u9ed8\u8ba4 admin \u7528\u6237   </p><pre><code>-e USERNAME=myuser -e PASSWORD=mypassword\n</code></pre> </li> <li> <p>\u4ec5\u8bbe\u7f6e PASSWORD\uff1a\u4fdd\u6301 admin \u7528\u6237\u540d\uff0c\u53ea\u66f4\u65b0\u5bc6\u7801   </p><pre><code>-e PASSWORD=newpassword\n</code></pre> </li> </ul>"},{"location":"start_install/docker_install/#_17","title":"\u7aef\u53e3\u914d\u7f6e","text":"\u73af\u5883\u53d8\u91cf \u9ed8\u8ba4\u503c \u8bf4\u660e <code>HTTPPORT</code> 8080 HTTP \u670d\u52a1\u7aef\u53e3 <code>HTTPSPORT</code> 4430 HTTPS \u670d\u52a1\u7aef\u53e3"},{"location":"start_install/docker_install/#_18","title":"\u89c6\u9891\u683c\u5f0f\u914d\u7f6e","text":"\u73af\u5883\u53d8\u91cf \u9ed8\u8ba4\u503c \u53ef\u9009\u503c \u8bf4\u660e <code>VIDEOFORMAT</code> mjpeg yuyv, nv12, nv16, nv24 \u89c6\u9891\u91c7\u96c6\u683c\u5f0f"},{"location":"start_install/docker_install/#_19","title":"\u97f3\u9891\u8bbe\u5907\u914d\u7f6e","text":"<p>\u67e5\u770b\u53ef\u7528\u97f3\u9891\u8bbe\u5907\uff1a<code>arecord -L</code> \u6216 <code>arecord -l</code></p> \u914d\u7f6e\u65b9\u5f0f \u793a\u4f8b \u73af\u5883\u53d8\u91cf\u503c \u58f0\u5361\u7f16\u53f7 hw:0 <code>AUDIONUM=0</code> \u58f0\u5361\u540d\u79f0 hw:CARD=MS2109 <code>AUDIONUM=CARD=MS2109</code> \u8bbe\u5907\u6587\u4ef6 hw:/dev/snd/controlC0 <code>AUDIONUM=/dev/snd/controlC0</code>"},{"location":"start_install/docker_install/#hid_1","title":"HID \u63a7\u5236\u914d\u7f6e","text":"\u73af\u5883\u53d8\u91cf \u53ef\u9009\u503c \u8bf4\u660e <code>ATX</code> <code>USBRELAY_HID</code> \u4f7f\u7528 USB HID \u7ee7\u7535\u5668\u8fdb\u884c\u7535\u6e90\u63a7\u5236 <code>OTG</code> <code>1</code> \u542f\u7528 OTG \u6a21\u5f0f\uff08\u9ed8\u8ba4\u7981\u7528\uff09 <code>NOMSD</code> <code>1</code> \u7981\u7528 MSD \u529f\u80fd\uff08ARM \u9ed8\u8ba4\u542f\u7528\uff09"},{"location":"start_install/docker_install/#ch9329","title":"CH9329 \u4e32\u53e3\u914d\u7f6e","text":"\u73af\u5883\u53d8\u91cf \u9ed8\u8ba4\u503c \u53ef\u9009\u503c <code>CH9329SPEED</code> 9600 1200, 2400, 4800, 9600, 14400, 19200, 38400, 57600, 115200 <code>CH9329TIMEOUT</code> 0.3 HID \u54cd\u5e94\u8d85\u65f6\u65f6\u95f4\uff08\u79d2\uff09"},{"location":"start_install/docker_install/#_20","title":"\u786c\u4ef6\u7f16\u7801\u914d\u7f6e","text":"<p>\u5b9e\u9a8c\u6027\u652f\u6301\u786c\u4ef6\u52a0\u901f H.264 \u7f16\u7801\uff0c\u53ef\u663e\u8457\u63d0\u9ad8\u6027\u80fd\u5e76\u964d\u4f4e CPU \u4f7f\u7528\u7387\u3002</p> \u786c\u4ef6\u7c7b\u578b \u73af\u5883\u53d8\u91cf \u8bbe\u5907\u6620\u5c04 \u6d4b\u8bd5\u5e73\u53f0 AMD VAAPI <code>HWENCODER=vaapi</code> <code>--device /dev/dri:/dev/dri</code> AMD \u6838\u663e RK MPP <code>HWENCODER=rkmpp</code> <code>-v /dev/:/dev/</code> RK3588S"},{"location":"start_install/docker_install/#_21","title":"\u529f\u80fd\u5f00\u5173","text":"\u73af\u5883\u53d8\u91cf \u4f5c\u7528 \u9ed8\u8ba4\u72b6\u6001 <code>NOSSL=1</code> \u7981\u7528 HTTPS\uff0c\u4f7f\u7528 HTTP (8080\u7aef\u53e3) \u542f\u7528 HTTPS <code>NOAUTH=1</code> \u7981\u7528\u8eab\u4efd\u8ba4\u8bc1 \u542f\u7528\u8ba4\u8bc1 <code>NOWEBTERMWRITE=1</code> Web \u7ec8\u7aef\u53ea\u8bfb\u6a21\u5f0f \u53ef\u8bfb\u5199 <code>NOWEBTERM=1</code> \u7981\u7528 Web \u7ec8\u7aef \u542f\u7528\u7ec8\u7aef <code>NOVNC=1</code> \u7981\u7528 VNC \u670d\u52a1 \u542f\u7528 VNC <code>NOIPMI=1</code> \u7981\u7528 IPMI \u670d\u52a1 \u542f\u7528 IPMI"},{"location":"start_install/docker_performance/","title":"Docker performance","text":"<p>\u7ed3\u8bba\uff1aDocker \u5b89\u88c5 One-KVM \u76f8\u6bd4\u5b9e\u673a\u5b89\u88c5 One-KVM \u65e0\u6027\u80fd\u843d\u540e\uff0c\u4e14\u7531\u4e8e\u81ea\u8eab\u670d\u52a1\u4f9d\u8d56\u9ad8\u5ea6\u7cbe\u7b80\u7684\u7279\u6027 CPU \u5360\u7528\u7565\u80dc\u4e00\u7b79\u3002</p>"},{"location":"start_install/docker_performance/#_1","title":"\u6d4b\u8bd5\u65b9\u6cd5","text":"<pre><code>#\u88ab\u63a7\u673a\u5faa\u73af\u64ad\u653e 1080p \u89c6\u9891\n#\u4f7f\u7528\u5982\u4e0b\u6d4b\u8bd5\u547d\u4ee4\uff0c\u7edf\u8ba1 CPU \u5360\u7528\u5e76\u751f\u6210\u56fe\u8868\napt-get install sysstat\nsar -u 1 60 -o tmp1\nsadf -T  -g ./tmp1  --  &gt; test1.svg\n</code></pre>"},{"location":"start_install/docker_performance/#_2","title":"\u6d4b\u8bd5\u7ed3\u679c","text":"<p>1080p30fps mjpeg/http </p> <p>\u5b9e\u673a\u5b89\u88c5 One-KVM\uff08\u5b9e\u9645\u8dd1\u6ee1\uff09</p> <p></p> <p>Docker \u5b89\u88c5 One-KVM\uff08\u5b9e\u9645\u8dd1\u6ee1\uff09</p> <p></p> <p>720p60fps mjpeg/http</p> <p>\u5b9e\u673a\u5b89\u88c5 One-KVM\uff08\u5b9e\u9645\u7a33\u5b9a\u572848fps\uff09</p> <p></p> <p>Docker \u5b89\u88c5 One-KVM\uff08\u5b9e\u9645\u7a33\u5b9a\u572848fps\uff09</p> <p></p> <p>720p30fps h.264/webrtc</p> <p>\u5b9e\u673a\u5b89\u88c5 One-KVM\uff08\u5b9e\u9645\u8dd1\u6ee1\uff0c\u5076\u6709\u6ce2\u52a8\uff09</p> <p></p> <p>Docker \u5b89\u88c5 One-KVM\uff08\u5b9e\u9645\u8dd1\u6ee1\uff0c\u5076\u6709\u6ce2\u52a8\uff09</p> <p></p>"},{"location":"start_install/faq/","title":"\u5e38\u89c1\u95ee\u9898","text":"<ol> <li> One-KVM \u4e0e PiKVM \u7684\u4e0d\u540c\u4e4b\u5904\uff1f <p>One-KVM \u57fa\u4e8e PiKVM \u4e8c\u6b21\u5f00\u53d1\uff0c\u5728 PiKVM \u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u4e86\u672c\u5730\u5316\uff0c\u589e\u52a0\u4e86\u66f4\u591a\u6269\u5c55\u529f\u80fd\uff0c\u652f\u6301\u66f4\u591a\u7684\u786c\u4ef6\u8bbe\u5907\u548c\u5e73\u53f0\u3002</p> <p>\u4e24\u8005\u5177\u4f53\u529f\u80fd\u5f02\u540c\u4e4b\u5904\u53ef\u4ee5\u67e5\u770b\u8f6f\u4ef6\u529f\u80fd\u4e00\u8282\u3002</p> <p>\u5982\u679c\u60a8\u9700\u8981\u5bf9\u529f\u80fd\u8fdb\u884c\u9ad8\u7ea7\u914d\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u67e5\u9605 PiKVM \u6587\u6863\uff0c\u8be5\u9879\u76ee\u6587\u6863\u5173\u4e8e\u9ad8\u7ea7\u529f\u80fd\u914d\u7f6e\u7684\u8bf4\u660e\u6bd4\u8f83\u8be6\u7ec6\u3002</p> </li> </ol>"},{"location":"start_install/faq/#_1","title":"\u8f6f\u4ef6","text":"<ol> <li> One-KVM \u8fd0\u884c\u7aef\u53e3 <p>\u6574\u5408\u5305\u8f6f\u4ef6\u9ed8\u8ba4\u8fd0\u884c\u5728 443 \u7aef\u53e3\uff0c\u8bbf\u95ee 80 \u7aef\u53e3\u4f1a\u81ea\u52a8\u8df3\u8f6c\u5230 443 \u7aef\u53e3\u3002Docker \u7248\u672c\u9ed8\u8ba4\u8fd0\u884c\u5728 4430 \u7aef\u53e3\uff0c\u8bbf\u95ee 8080 \u7aef\u53e3\u4f1a\u81ea\u52a8\u8df3\u8f6c\u5230 4430 \u7aef\u53e3\u3002</p> <p>\u7531\u4e8e\u8f6f\u4ef6 SSL \u8bc1\u4e66\u4e3a\u81ea\u7b7e\u8bc1\u4e66\uff0c\u4e0d\u88ab\u6d4f\u89c8\u5668\u4fe1\u4efb\u662f\u6b63\u5e38\u60c5\u51b5\uff0c\u8bf7\u65e0\u89c6\u98ce\u9669\u7ee7\u7eed\u8bbf\u95ee\uff0c\u82e5\u6709\u9700\u8981\u53ef\u81ea\u884c\u66f4\u6362 Nginx SSL \u8bc1\u4e66\u3002</p> <p>Tip</p> <p>\u521d\u59cb WEB \u548c VN C\u8d26\u53f7\u5bc6\u7801\u90fd\u4e3aadmin/admin\uff0croot\u7528\u6237\u5bc6\u7801\u901a\u5e38\u4e3a\u7528\u6237\u81ea\u884c\u8bbe\u7f6e\uff0c\u82e5\u672a\u8bbe\u7f6e\u53ef\u5c1d\u8bd5 1234\u3002ssh \u9ed8\u8ba4\u7aef\u53e3\uff1a22vnc \u9ed8\u8ba4\u7aef\u53e3\uff1a5900janus ws \u7aef\u53e3\uff1a20000-40000</p> <p>Tip</p> <p>\u6392\u969c\u6307\u5357\uff1a\u7f51\u9875\u89c6\u9891\u9ed1\u5c4f\u63d0\u793a\u65e0 No Singal\uff0c\u8bf7\u68c0\u67e5\u786c\u4ef6\u662f\u5426\u6b63\u786e\u8fde\u63a5\u6216\u677e\u52a8\uff1b\u7f51\u9875\u7aef\u9ed1\u5c4f\u65e0\u4efb\u4f55\u753b\u9762\u6216\u5f69\u8272\u7ad6\u6761\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u6709\u88ab\u63a7\u673a HDMI \u4fe1\u53f7\u8f93\u5165\uff1b\u8fdb\u7cfb\u7edf\u753b\u9762\u663e\u793a\u6b63\u5e38\uff0c BIOS \u754c\u9762\u9ed1\u5c4f\u6216\u6e32\u67d3\u5f02\u5e38\uff0c\u8bf7\u5c1d\u8bd5\u5728 BIOS \u754c\u9762\u5f00\u542f CMS \u517c\u5bb9\u6a21\u5f0f\uff1b\u865a\u62df\u9f20\u6807\u9519\u4f4d\u6216\u79fb\u52a8\u8303\u56f4\u5f02\u5e38\u53ef\u5c1d\u8bd5\u5728\u7f51\u9875\u53f3\u4e0a\u89d2\u5207\u6362\u9f20\u6807\u76f8\u5bf9\u6a21\u5f0f\uff1b\u753b\u9762\u663e\u793a\u7247\u523b\u9ed1\u5c4f\uff0c\u5237\u65b0\u7f51\u9875\u91cd\u590d\u6b64\u73b0\u8c61\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528\u706b\u72d0\u6d4f\u89c8\u5668\uff1b\u5982\u679c\u4ee5\u4e0a\u60c5\u51b5\u90fd\u4e0d\u7b26\u5408\u8bf7\u5c1d\u8bd5\u91cd\u542f\u7cfb\u7edf\u81ea\u52a8\u590d\u4f4d\uff0c\u4ecd\u65e7\u65e0\u6cd5\u89e3\u51b3\u53ef\u5728 Github \u63d0\u4ea4 issue \u6216\u52a0\u5165 One-KVM \u4ea4\u6d41\u7fa4\u53cd\u9988\u3002</p> </li> <li> \u5982\u4f55\u5728\u516c\u7f51\u4e2d\u8bbf\u95ee\u5c40\u57df\u7f51\u7684 One-KVM\uff1f <p>\u5982\u679c\u8def\u7531\u5668\u6709\u516c\u7f51 IP \u5730\u5740\uff0c\u53ef\u4ee5\u4f7f\u7528\u7aef\u53e3\u6620\u5c04\u8f6c\u53d1443\u7aef\u53e3\uff08\u5bf9\u4e8e\u6574\u5408\u5305\uff09\u62164430\u7aef\u53e3\uff08\u5bf9\u4e8e Docker\uff09\u3002\u5728\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u5185\u7f51\u7a7f\u900f\u6216\u5f02\u5730\u7ec4\u7f51\u670d\u52a1\uff08\u5982 Tailscale \u548c FRP \uff09\u3002</p> </li> <li> \u5982\u4f55\u4fee\u6539\u8f6f\u4ef6 WEB \u767b\u5f55\u7684\u8d26\u6237\u5bc6\u7801\uff1f <p>\u6ce8\u610f\uff1a\u5bf9\u4e8e\u6574\u5408\u5305\u7528\u6237\uff0cHDMI \u7ec8\u7aef\u548c SSH \u7ec8\u7aef\u53ef\u4ee5\u76f4\u63a5\u4ee5root\u7528\u6237\u767b\u5f55\u3002\u4f46PiKVM\u7f51\u9875\u7ec8\u7aef\u7684\u9ed8\u8ba4\u767b\u5165\u7528\u6237\u662fkvmd-webterm\u4f4e\u6743\u9650\u8d26\u6237\uff08\u65e0\u5bc6\u7801\uff09\uff0c\u6ca1\u6709 root \u6743\u9650\u4e14\u65e0\u6cd5\u4f7f\u7528 <code>sudo</code> \u63d0\u6743\uff0c\u82e5\u9700\u8981\u6267\u884c\u7279\u6743\u547d\u4ee4\u8bf7\u5148\u5728\u7ec8\u7aef\u6267\u884c <code>su root</code> \u547d\u4ee4\u5e76\u8f93\u5165\u5bc6\u7801\u5207\u6362\u4e3aroot\u8d26\u6237\u3002</p> <p>\u4fee\u6539\u8d26\u53f7\u5bc6\u7801\u793a\u4f8b </p><pre><code>#\u5207\u6362\u4e3a root \u8d26\u6237\nsu root\n#\u6dfb\u52a0\u7528\u6237 \u8bf7\u5c06 silentwind \u66ff\u6362\u4e3a\u4f60\u7684\u7528\u6237\u540d\nkvmd-htpasswd set silentwind\n#\u8f93\u5165\u5bc6\u7801\n#\u5220\u9664\u7528\u6237\nkvmd-htpasswd del admin\n#\u5217\u51fa\u6240\u6709\u7528\u6237\nkvmd-htpasswd list\n#\u91cd\u542f\u670d\u52a1\uff0c\u4f7f\u4fee\u6539\u751f\u6548\nsystemctl restart kvmd kvmd-nginx\n</code></pre> </li> <li> \u5982\u4f55\u4fee\u6539\u8f6f\u4ef6 WEB \u670d\u52a1\u8fd0\u884c\u7684\u7aef\u53e3\uff1f <p>\u4fee\u6539\u7aef\u53e3\u53ef\u4ee5\u7f16\u8f91 <code>/etc/kvmd/override.yaml</code> \u6587\u4ef6\uff0c\u5c06 http \u7aef\u53e3\u548c https \u4fee\u6539\u6240\u9700\u7aef\u53e3\uff08443 \u662f\u7f51\u9875\u8fd0\u884c\u7684\u9ed8\u8ba4\u7aef\u53e3\uff09\u3002</p> <p>\u4fee\u6539\u5b8c\u6210\u540e\u8fd0\u884c <code>systemctl restart kvmd-nginx</code> \u547d\u4ee4\u91cd\u542f <code>kvmd-nginx</code> \u670d\u52a1\u540e\u751f\u6548\u3002     </p> </li> </ol>"},{"location":"start_install/faq/#_2","title":"\u89c6\u9891","text":"<ol> <li> \u4e3a\u4ec0\u4e48\u7f51\u9875\u89c6\u9891\u4f1a\u6709\u65e0\u6cd5\u6d88\u9664\u7684\u9ed1\u8fb9\uff1f <p>\u8bf7\u68c0\u67e5\u4f60\u7684\u88ab\u63a7\u673a\u7cfb\u7edf\u8bbe\u7f6e\u3002\u8c03\u6574\u88ab\u63a7\u673a\u5206\u8fa8\u7387\u4e0e\u7f51\u9875\u5339\u914d\u53ef\u80fd\u4f1a\u6709\u5e2e\u52a9\u3002 </p> </li> <li> BIOS/UEFI \u753b\u9762\u5f02\u5e38\u6216\u5206\u8fa8\u7387\u9519\u8bef\uff1f <p>\u5728\u67d0\u4e9b\u4e3b\u677f\u4e0a\uff0cBIOS \u53ef\u80fd\u4ee5\u8f83\u4f4e\u7684\u5206\u8fa8\u7387\u663e\u793a\uff0c\u6216\u8005\u51fa\u73b0\u4e00\u4e9b\u6e32\u67d3\u95ee\u9898\u3002</p> <p>\u6b64\u95ee\u9898\u901a\u5e38\u53ef\u4ee5\u901a\u8fc7\u5728 BIOS \u4e2d\u542f\u7528\u517c\u5bb9\u6027\u652f\u6301\u6a21\u5757 \uff08CSM\uff09 \u6765\u89e3\u51b3\uff0c\u89c6\u9891\u6559\u7a0b\u5982\u4e0b(\u622a\u53d6\u81ea B\u7ad9UP\u4e3b \u55b5\u55b5\u6298-\u75db\u5931\u7f51\u540d\u7248)\u3002</p> <p></p> <p>\u5982\u679c\u60a8\u4e0d\u80fd\u6216\u4e0d\u60f3\u542f\u7528 CSM\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u8fde\u63a5 DisplayPort \uff08DP\uff09 \u663e\u793a\u5668\u6216\u865a\u62df\u63d2\u5934\u3002\u5982\u679c\u8fd9\u4e9b\u90fd\u4e0d\u8d77\u4f5c\u7528\uff0c\u8bf7\u5148\u5c1d\u8bd5\u8fde\u63a5 DP \u7535\u7f06\uff0c\u542f\u52a8\u5230 BIOS\uff0c\u7981\u7528 CSM \u5e76\u5173\u95ed\uff08\u4e0d\u8981\u91cd\u65b0\u542f\u52a8\uff09\u60a8\u7684 PC\u3002\u7136\u540e\uff0c\u542f\u52a8\u5230 BIOS \u5e76\u542f\u7528 CSM\uff0c\u7136\u540e\u518d\u5173\u95ed PC\u3002\u7136\u540e\u8fde\u63a5 HDMI \u5e76\u518d\u6b21\u6253\u5f00\u60a8\u7684 PC\u3002</p> </li> </ol>"},{"location":"start_install/faq/#_3","title":"\u7cfb\u7edf","text":"<ol> <li> \u5982\u4f55\u7ed9\u8bbe\u7f6e\u9759\u6001 IP\uff1f <p>\u4f7f\u7528\u7ec8\u7aef\u56fe\u5f62\u5316\u5de5\u5177  <code>nmtui</code>\u6216 <code>armbian-config</code>\u3002</p> </li> <li> \u5982\u4f55\u4fee\u6539 MAC \u5730\u5740\uff1f <p>\u975e\u73a9\u5ba2\u4e91\u8bbe\u5907\u53ef\u4ee5\u4f7f\u7528\u7ec8\u7aef\u56fe\u5f62\u5316\u5de5\u5177 <code>nmtui</code> \u4fee\u6539 mac \u5730\u5740\u3002</p> <p>\u73a9\u5ba2\u4e91\u7531\u4e8e\u5176\u7279\u6b8a\u6027\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u4f7f\u7528\u7ec8\u7aef\u56fe\u5f62\u5316\u5de5\u5177 <code>nmtui</code> \u4fee\u6539 mac \u5730\u5740\uff0c\u4f1a\u4fee\u6539 mac \u65e0\u6cd5\u83b7\u53d6 ip \u95ee\u9898\uff0c\u4e0d\u540c\u7248\u672c\u4fee\u6539 mac \u5730\u5740\u7684\u65b9\u6cd5\u89c1\u4e0b\u8868\u3002</p> 240118 \u7248\u672c\u53ca\u4ee5\u540e <p>\u9700\u8981\u4fee\u6539 mac \u5730\u5740\u7f16\u8f91 /etc/systemd/network/99-eth0.network \u6587\u4ef6\u5373\u53ef\u3002</p> 240138 \u5230 240104 \u7248\u672c <p></p><pre><code>#\u7531 systemd-networkd \u66ff\u6362 NetworkManager \u63a5\u7ba1\u7f51\u7edc\n#\u907f\u514d\u4fee\u6539 mac \u65e0\u6cd5\u83b7\u53d6 ip \u95ee\u9898\n#\u6267\u884c\u4e0b\u9762\u56db\u53e5\u547d\u4ee4\u5373\u53ef\uff08mac \u5730\u5740\u6309\u9700\u4fee\u6539\uff09\necho -e '[Match]\\nName=eth0\\n\\n[Network]\\nDHCP=yes\\n\\n[Link]\\nMACAddress=2a:01:3d:ef:b8:e1' &gt; /etc/systemd/network/99-eth0.network\nsystemctl mask NetworkManager\nsystemctl unmask systemd-networkd\nsystemctl enable systemd-networkd systemd-resolved\n</code></pre> mac \u5730\u5740\u7f16\u8f91 /etc/systemd/network/99-eth0.network \u6587\u4ef6\u5373\u53ef\u3002  \u66f4\u65e9\u5230 240121 \u7248\u672c <pre><code>#\u5feb\u6377\u547d\u4ee4\uff0c\u4f9d\u6b21\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5373\u53ef\nMAC=\"$(echo 2a:01:`openssl rand -hex 4 | sed 's/\\(..\\)/\\1:/g; s/.$//'`)\"\necho $MAC\n#\u6b64\u914d\u7f6e\u6587\u4ef6\u66ff\u6362\u547d\u4ee4\u4ec5\u9996\u6b21\u6267\u884c\u6709\u6548\uff0c\u591a\u6b21\u9700\u8981\u624b\u52a8\u66ff\u6362 mac \u5730\u5740\nsed -ie \"s/#hwaddress ether/hwaddress ether $MAC/g\" /etc/network/interfaces\nreboot\n</code></pre> </li> <li> \u5982\u4f55\u4f7f\u7528 USB \u65e0\u7ebf\u7f51\u5361\u8fde\u63a5 WIFI\uff1f <p>\u5bf9\u4e8e\u73a9\u5ba2\u4e91\uff0c\u4f5c\u8005\u548c hzytic \u5927\u4f6c\u7f16\u8bd1\u53d1\u5e03\u7684\u955c\u50cf\u90fd\u5df2\u5305\u542b\u5e38\u89c1\u65e0\u7ebf\u7f51\u5361\u9a71\u52a8\uff0cUSB \u65e0\u7ebf\u7f51\u5361\u5373\u63d2\u5373\u7528\u3002\u5176\u4ed6\u786c\u4ef6\u7cfb\u7edf\u9700\u81ea\u884c\u6d4b\u8bd5\u662f\u5426\u80fd\u591f\u9a71\u52a8 USB \u65e0\u7ebf\u7f51\u5361\u3002 </p><pre><code>nmtui\n</code></pre> </li> <li> \u5982\u4f55\u6539\u53d8\u73a9\u5ba2\u4e91\u524d\u9762\u677f LED \u706f\u989c\u8272\uff1f <p>\u5bf9\u4e8e5.9\u5185\u6838\u7cfb\u7edf\u6709<code>green_on</code>,<code>red_on</code>,<code>bule_on</code>,<code>green_off</code>,<code>red_off</code>,<code>bule_off</code>\u547d\u4ee4\u53ef\u7528\u3002</p> <p>\u5bf9\u4e8e6.x\u9ad8\u5185\u6838\u7684\u7cfb\u7edf\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u63a7\u5236LED\u7684\u4eae\u706d\uff0c0\u4e3a\u706d\uff0c1\u4e3a\u4eae\u3002 </p><pre><code>echo 0 &gt; /sys/class/leds/onecloud:red:alive/brightness\necho 0 &gt; /sys/class/leds/onecloud:blue:alive/brightness\necho 0 &gt; /sys/class/leds/onecloud:green:alive/brightness\n</code></pre> </li> <li> \u5982\u4f55\u6539\u53d8\u79c1\u5bb6\u4e91\u4e8c\u4ee3\u524d\u9762\u677f LED \u706f\u989c\u8272\uff1f <p>\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u63a7\u5236LED\u7684\u4eae\u706d\uff0c0\u4e3a\u706d\uff0c1\u4e3a\u4eae\u3002</p> <pre><code>echo 0 &gt; /sys/class/leds/red/brightness\necho 0 &gt; /sys/class/leds/blue/brightness\necho 1 &gt; /sys/class/leds/green/brightness\n</code></pre> </li> <li> \u73a9\u5ba2\u4e91\u5237\u5165\u6574\u5408\u5305\u540e\u5c40\u57df\u7f51\u8bbf\u95ee\u54cd\u5e94\u975e\u5e38\u7f13\u6162\uff0c\u5ef6\u65f6\u9ad8\u8fbe\u6570\u79d2\uff0c\u5982\u4f55\u89e3\u51b3\uff1f <p>\u6b64\u4e3a\u6781\u5c11\u6570\u73a9\u5ba2\u4e91\u7cfb\u7edf\u9002\u914d\u95ee\u9898\uff0c\u53d1\u751f\u9891\u7387\u7ea6\u4e3a2%\uff0c\u4f5c\u8005\u6d4b\u8bd5\u53ef\u901a\u8fc7\u4fee\u6539\u73a9\u5ba2\u4e91 dtb \u7f51\u5361\u6a21\u5f0f \"rgmii-id\" \u4e3a \"rgmii-rxid\" \u7684\u65b9\u6cd5\u89e3\u51b3\uff0c\u4fee\u6539\u540e\u91cd\u542f\u751f\u6548\u3002 </p><pre><code>dtc -I dtb -O dts /boot/dtb/meson8b-onecloud.dtb -o meson8b-onecloud.dts\nnano meson8b-onecloud.dts\ndtc -I dts -O dtb meson8b-onecloud.dts -o /boot/dtb/meson8b-onecloud.dtb\nreboot\n</code></pre> <pre><code>    pinctrl-names = \"default\";\n\n    phy-handle = &lt;&amp;eth_phy&gt;;\n-   phy-mode = \"rgmii-id\";\n+   phy-mode = \"rgmii-rxid\";\n\n    mdio {\n        compatible = \"snps,dwmac-mdio\";\n</code></pre> </li> <li> apt update \u62a5\u9519\u65e0\u6cd5\u66f4\u65b0\uff1f <p>\u9996\u5148\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\u548c\u6e90\u662f\u5426\u6b63\u5e38\uff0c\u7136\u540e\u5c1d\u8bd5\u66f4\u6362\u6e90\u3002</p> <p>\u5982\u679c\u9047\u5230 <code>E: Release file for xxx is not valid yet (invalid for another 4d 3h 56min 24s). Updates for this repository will not be applied.</code> \u9519\u8bef\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002 </p><pre><code>sudo apt install ntp \nsudo service ntp restart \n</code></pre> </li> </ol>"},{"location":"start_install/octopus-flanet_andriod_install/","title":"\u7ae0\u9c7c\u661f\u7403\uff08\u5b89\u5353-\u786c\u4ef6\u7f16\u7801\uff09","text":""},{"location":"start_install/octopus-flanet_andriod_install/#_1","title":"\u7279\u70b9","text":"<ol> <li>\u5b89\u5353\u7cfb\u7edf\uff0c\u57fa\u4e8eKhadas vim2 android 9\uff0c\u652f\u6301\u786c\u4ef6\u7f16\u7801</li> <li>\u5b9a\u5236\u5185\u6838\uff0c\u53bb\u9664 ISO 2.2G \u5927\u5c0f\u9650\u5236</li> <li>KVM \u8f6f\u4ef6\u5728 chroot \u5bb9\u5668\u4e2d\u8fd0\u884c\uff0c\u652f\u6301\u5927\u90e8\u5206 deb \u8f6f\u4ef6\uff0c\u4e0d\u652f\u6301 docker </li> </ol>"},{"location":"start_install/octopus-flanet_andriod_install/#_2","title":"\u5b89\u88c5\u65b9\u6cd5","text":"<p>\u77ed\u63a5\u70b9</p> <p>\u94f6\u8272\u7248\u672c\u7ae0\u9c7c\u661f\u7403\u5237\u673a\u77ed\u63a5\u70b9\uff1a</p> <p></p> <p>\u9ed1\u8272\u7248\u672c\u7ae0\u9c7c\u661f\u7403\u5237\u673a\u77ed\u63a5\u70b9\uff08\u672a\u5728\u7f51\u4e0a\u627e\u5230\u8d44\u6599\uff0c\u4f5c\u8005\u81ea\u5df1\u6d4b\u8bd5\u51fa\u6765\u7684\uff09\uff1a</p> <p></p> <p>\u5237\u673a</p> <p>USB \u53cc\u516c\u7ebf\u63d2\u5165\u79bb HDMI \u66f4\u8fd1\u7684 USB \u7aef\u53e3\uff0c\u7136\u540e\u6253\u5f00 USB_Burning_Tool \u5bfc\u5165\u5237\u673a\u5305 One-KVM_by-SilentWind_Octopus-Flanet_250315.burn.img \uff0c\u77ed\u63a5\u5237\u673a\u89e6\u7535\u5f00\u59cb\u5237\u673a\u3002</p> <p></p>"},{"location":"start_install/octopus-flanet_andriod_install/#_3","title":"\u4f7f\u7528","text":"<p>KVM \u8fdc\u63a7</p> <p>\u7ae0\u9c7c\u661f\u7403\u786c\u4ef6\u9760\u8fd1 HDMI \u7684 USB \u63a5\u53e3\u652f\u6301 OTG \u529f\u80fd\uff0c\u8fde\u63a5\u81f3\u88ab\u63a7\u673a\uff0c\u53e6\u5916\u4e00\u4e2a USB \u8fde\u63a5\u81f3 USB \u91c7\u96c6\u5361\u3002</p> <p>\u7f51\u9875\u7aef\u53e3\u9ed8\u8ba4\u4e3a 4430\uff0c\u652f\u6301 H.264 \u786c\u4ef6\u7f16\u7801\u3002</p> <p></p> <p>\u652f\u6301 WEB \u7ec8\u7aef\uff0c\u5728\u7ec8\u7aef\u5b89\u88c5 htop \u540e\u53ef\u770b\u5230 H.264 \u89c6\u9891\u672a\u4f7f\u7528 CPU \u7f16\u7801\uff0c\u800c\u662f\u4f7f\u7528 Android MediaCodec \uff08\u901a\u8fc7 ffmpeg api \u8c03\u7528\uff09\u8fdb\u884c\u786c\u4ef6\u7f16\u7801\u3002</p> <p></p> <p>\u8fdc\u7a0b\u8c03\u8bd5</p> <p>\u9ed8\u8ba4\u672a\u5b89\u88c5 ssh \u670d\u52a1\uff0c\u4e0d\u652f\u6301 ssh \u8fde\u63a5\u3002</p> <p>chroot \u7cfb\u7edf\u652f\u6301 WEB \u7ec8\u7aef\u8fdb\u884c\u63a7\u5236\u3002</p> <p>\u5b89\u5353\u7cfb\u7edf\u652f\u6301 adb \u7f51\u7edc\u8fdc\u7a0b\u8c03\u8bd5\uff0c\u793a\u4f8b\u547d\u4ee4\u5982\u4e0b</p> <pre><code>#\u8fde\u63a5 adb \u8bbe\u5907\uff0c\u793a\u4f8b ip \u4e3a 192.168.10.104\n.\\adb.exe connect 192.168.10.104\n#\u8fdb\u5165\u5b89\u5353 shell \uff0c\u652f\u6301 su \u547d\u4ee4\u5207\u6362\u5230 root\u8d26\u6237\n.\\adb.exe shell\n#\u5b89\u5353\u684c\u9762\u6295\u5c4f\n.\\scrcpy.exe\n</code></pre> <p></p>"},{"location":"start_install/octopus-flanet_andriod_install/#_4","title":"\u5176\u4ed6","text":"<p>\u4f5c\u4e3a\u6280\u672f\u9a8c\u8bc1\u5305\uff0c\u6b64\u955c\u50cf\u7528\u5b9e\u8df5\u8bc1\u660e\u4e86\u4e00\u79cd\u601d\u8def\uff1a\u5bf9\u4e8e Linux \u4e0a\u4e0d\u652f\u6301\u89c6\u9891\u786c\u4ef6\u7f16\u7801\u7684\u5e73\u53f0\uff0c\u53ef\u4ee5\u8f6c\u5411\u5b89\u5353\u7cfb\u7edf\u6765\u589e\u52a0\u89c6\u9891\u786c\u4ef6\u7f16\u7801\u80fd\u529b\u5e76\u5728\u5b9e\u9645\u4e2d\u5e94\u7528\u3002</p> <p>\u6b64\u955c\u50cf\u6700\u540e\u7f16\u8bd1\u4e8e2025\u5e743\u670815\u65e5\uff0c\u7531\u4e8e\u65e0\u4eba\u95ee\u6d25\u4e0d\u88ab\u770b\u597d\uff0c\u539f\u8ba1\u5212\u7684 ssh \u670d\u52a1\u3001docker \u652f\u6301\u5df2\u505c\u6b62\u5f00\u53d1\u9002\u914d\uff0c\u6545\u9ed8\u8ba4\u4e0d\u652f\u6301\u8fd9\u4e24\u9879\u529f\u80fd\uff0c\u4e14\u4e4b\u540e\u5f88\u53ef\u80fd\u4e0d\u4f1a\u6709\u540e\u7eed\u66f4\u65b0\u3002</p>"},{"location":"start_install/octopus-flanet_install/","title":"\u7ae0\u9c7c\u661f\u7403","text":""},{"location":"start_install/octopus-flanet_install/#_1","title":"\u786c\u4ef6\u4ecb\u7ecd","text":"<p>\u7ae0\u9c7c\u661f\u7403\u76d2\u5b50\u91c7\u7528\u4e86 S912 \u516b\u6838 CPU\uff0c\u642d\u914d 2GB \u5185\u5b58\u548c 8GB \u5185\u90e8\u50a8\u5b58\u7a7a\u95f4\u3002\u5b83\u914d\u5907\u4e86\u4e00\u4e2a\u5343\u5146\u7f51\u7edc\u63a5\u53e3\u30012\u4e2a USB 2.0\u63a5\u53e3\uff0c\u5e76\u63d0\u4f9b TF \u5361\u69fd\u548c HDMI \u8f93\u51fa\u3002</p>"},{"location":"start_install/octopus-flanet_install/#_2","title":"\u6574\u5408\u5305\u90e8\u7f72","text":"<ol> <li>\u5237\u5165\u7cbe\u7b80\u7248 Android TV \u56fa\u4ef6\uff1a\u4f7f\u7528 USB_Burning_Tool \u6676\u6668\u5237\u673a\u8f6f\u4ef6\u7ebf\u5237 Android ATV \u56fa\u4ef6\u5230\u7ae0\u9c7c\u661f\u7403\u4e2d\u3002</li> <li>\u51c6\u5907U\u76d8\u542f\u52a8\u4ecb\u8d28\uff1a\u5c06 One-KVM \u6574\u5408\u5305\u5199\u5165U\u76d8\uff0c\u5e76\u786e\u4fddU\u76d8\u63d2\u5165\u7ae0\u9c7c\u661f\u7403\u4e8c\u7ef4\u7801\u65c1\u8fb9\u7684 USB 2\u53e3\u3002</li> <li>\u5f15\u5bfc\u542f\u52a8U\u76d8\uff1a\u5b89\u5353\u7cfb\u7edf\u542f\u52a8\u540e\uff0c\u4f7f\u7528 <code>adb connect yourip</code> \u547d\u4ee4\u8fde\u63a5\u5b89\u5353\u7cfb\u7edf\uff0c\u5e76\u901a\u8fc7 <code>adb reboot update</code> \u547d\u4ee4\u91cd\u542f\u4ee5\u5f15\u5bfc\u4eceU\u76d8\u4e2d\u7684\u7cfb\u7edf\u542f\u52a8\u3002\u6b64\u6b65\u9aa4\u4ec5\u9700\u5728\u7b2c\u4e00\u6b21\u6267\u884c\u3002</li> <li>\u5b89\u88c5\u7cfb\u7edf\u81f3 EMMC\uff1a\u5f53U\u76d8\u4e2d\u7684\u7cfb\u7edf\u6210\u529f\u542f\u52a8\u540e\uff0c\u901a\u8fc7 SSH \u767b\u5f55\u8fdb\u5165\u7ec8\u7aef\uff0c\u4f7f\u7528 <code>armbian-install</code> \u547d\u4ee4\u9009\u62e9\u5bf9\u5e94\u578b\u53f7\uff08\u5982202\u578b\u53f7\u548c1\u5206\u533a\uff09\u5b89\u88c5 One-KVM \u7cfb\u7edf\u3002</li> </ol> \u4f7f\u7528 USB1 \u53e3\u542f\u52a8U\u76d8\u65b9\u6cd5 <p>\u6709\u4f7f\u7528\u8005\u53cd\u9988\u673a\u5668\u65e0\u6cd5\u4ece USB2 \u53e3\u542f\u52a8 U \u76d8\u7cfb\u7edf\uff0c\u8fd9\u79cd\u60c5\u51b5\u53ef\u4f7f\u7528\u5982\u4e0b\u65b9\u6cd5\u4f7f\u7528 USB1 \u53e3\u542f\u52a8 U \u76d8\u7cfb\u7edf\u3002 \u6574\u5408\u5305\u5199\u5165 U \u76d8\u540e\uff0c\u7f16\u8f91 U \u76d8 BOOT \u5206\u533a\u6839\u76ee\u5f55\u4e0b\u6587\u4ef6 uEnv.txt \u5c06 \"FDT=/dtb/amlogic/meson-gxm-khadas-vim2.dtb\" \u4e00\u884c\u66ff\u6362\u4e3a \"FDT=/dtb/amlogic/meson-gxm-q200.dtb\"\uff0c\u518d\u7f16\u8f91 U \u76d8 ROOTFS \u5206\u533a etc \u76ee\u5f55\u4e0b rc.local \u6587\u4ef6\u5728\u7b2c\u4e8c\u884c\u5f00\u5934\u6dfb\u52a0\"#\"\u6ce8\u91ca\u4fdd\u5b58\u3002 \u5728\u6210\u529f\u4f7f\u7528 USB1 \u53e3\u542f\u52a8 U \u76d8\u7cfb\u7edf\u5e76\u767b\u5f55\u540e\u9700\u8981\u518d\u6b21\u7f16\u8f91 /etc/rc.local \u6587\u4ef6\u5220\u9664\u7b2c\u4e8c\u884c\u5f00\u5934\u7684\"#\"\u6ce8\u91ca\u7b26\u53f7\uff0c\u4fdd\u5b58\u6b64\u6587\u4ef6\u540e\u518d\u6267\u884c <code>armbian-install</code> \u5c06\u7cfb\u7edf\u5199\u5165 EMMC\u3002</p> <p>\u5b89\u88c5\u793a\u4f8b\uff1a </p>"},{"location":"start_install/octopus-flanet_install/#_3","title":"\u4f7f\u7528\u8bf4\u660e","text":"<p>\u63d0\u9192</p> <p>\u90e8\u5206\u4f4e\u529f\u8017\u8bbe\u5907\u5728\u672a\u63a5\u901a\u7535\u6e90\u65f6\u53ef\u80fd\u901a\u8fc7 USB \u7ebf\u4ece\u7ae0\u9c7c\u661f\u7403 OTG \u53e3\u53d6\u7535\u5e76\u542f\u52a8\u81f3\u5f02\u5e38\u72b6\u6001\uff0c\u518d\u63a5\u901a\u7535\u6e90\u4e5f\u65e0\u6cd5\u542f\u52a8\u3002\u8981\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u5265\u5f00 USB \u7ebf\u526a\u65ad\u7ea2\u82725V\u7ec6\u7535\u7ebf\u3002</p> <p>SSH \u8fdc\u7a0b\u767b\u5f55</p> <p>Armbian \u7cfb\u7edf\u9ed8\u8ba4\u5f00\u542f SSH\uff0cSSH \u521d\u59cb\u7528\u6237\u5bc6\u7801\u4e3a root/1234\u3002</p> <p>\u8b66\u544a</p> <p>\u4e0d\u5efa\u8bae\u4f7f\u7528 <code>apt upgrade</code> \u5347\u7ea7\u5185\u6838\u548c\u8bbe\u5907\u6811\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u7cfb\u7edf\u5f02\u5e38\uff0cOTG \u529f\u80fd\u65e0\u6cd5\u4f7f\u7528\u3002</p> <p>\u786c\u4ef6\u8fde\u63a5</p> <p>\u7f51\u53e3\u65c1 USB \u53e3\u4e3a OTG \u53e3\u63a5 USB \u53cc\u516c\u7ebf\uff0c\u4e8c\u7ef4\u7801\u65c1 USB \u53e3\u4e3a\u666e\u901a USB \u53e3\u63a5 USB HDMI \u91c7\u96c6\u5361\u3002</p> <p></p> <p>\u8f6f\u4ef6\u622a\u56fe</p> <p></p>"},{"location":"start_install/onecloud-pro_install/","title":"\u73a9\u5ba2\u4e91 Pro","text":""},{"location":"start_install/onecloud-pro_install/#_1","title":"\u786c\u4ef6\u4ecb\u7ecd","text":"<p>\u73a9\u5ba2\u4e91 Pro \u91c7\u7528\u4e86 S912 \u516b\u6838 CPU\uff0c\u642d\u914d 2GB \u5185\u5b58\u548c 8GB \u5185\u90e8\u50a8\u5b58\u7a7a\u95f4\u3002\u5b83\u914d\u5907\u4e86\u4e00\u4e2a\u5343\u5146\u7f51\u7edc\u63a5\u53e3\u30012\u4e2a USB 2.0\u63a5\u53e3\uff0c\u5e76\u63d0\u4f9b TF \u5361\u69fd\u548c HDMI \u8f93\u51fa\u3002</p>"},{"location":"start_install/onecloud-pro_install/#_2","title":"\u6574\u5408\u5305\u90e8\u7f72","text":"<ol> <li>\u51c6\u5907 SD \u5361\u542f\u52a8\u4ecb\u8d28\uff1a\u5c06 One-KVM \u6574\u5408\u5305\u5199\u5165 SD \u5361\uff0c\u63d2\u5165\u73a9\u5ba2\u4e91 Pro  SD \u5361\u63d2\u69fd\u3002</li> <li>\u5f15\u5bfc\u542f\u52a8 SD \u5361\uff1a\u9996\u6b21\u539f\u7cfb\u7edf\u5237\u673a\u65f6\u9700\u8981\u6309\u4f4f reset \u6309\u94ae\uff0c\u63d2\u7535\uff0c\u770b\u5230\u73a9\u5ba2\u4e91 logo \u6d88\u5931\u540e\u653e\u5f00 reset \u6309\u94ae\u3002\u540e\u9762\u518d\u6b21\u5237\u673a\u76f4\u63a5\u901a\u7535\u4f1a\u81ea\u52a8\u542f\u52a8 SD \u5361\u4e2d\u7684\u7cfb\u7edf\u3002</li> <li>\u5b89\u88c5\u7cfb\u7edf\u81f3 EMMC\uff1a\u5f53 SD \u5361\u76d8\u4e2d\u7684\u7cfb\u7edf\u6210\u529f\u542f\u52a8\u540e\uff0c\u901a\u8fc7 One-KVM \u7f51\u9875\u7ec8\u7aef\u6216\u8005 SSH \u767b\u5f55\u8fdb\u5165\u7ec8\u7aef\uff0c\u4f7f\u7528 <code>armbian-install</code> \u547d\u4ee4\u9009\u62e9\u5bf9\u5e94\u578b\u53f7\uff08v1.1 \u4e3b\u677f\u5bf9\u5e94 201\u4ee3\u53f7\uff0cv1.2 \u4e3b\u677f\u5bf9\u5e94 213\uff09\u5b89\u88c5 One-KVM \u7cfb\u7edf\u3002</li> </ol> <p>\u5b89\u88c5\u793a\u4f8b\uff08\u4f7f\u7528One-KVM \u7f51\u9875\u7ec8\u7aef\uff09\uff1a  </p>"},{"location":"start_install/onecloud-pro_install/#_3","title":"\u4f7f\u7528\u8bf4\u660e","text":"<p>\u63d0\u9192</p> <p>\u90e8\u5206\u4f4e\u529f\u8017\u8bbe\u5907\u5728\u672a\u63a5\u901a\u7535\u6e90\u65f6\u53ef\u80fd\u901a\u8fc7 USB \u7ebf\u4ece\u73a9\u5ba2\u4e91 Pro  OTG \u53e3\u53d6\u7535\u5e76\u542f\u52a8\u81f3\u5f02\u5e38\u72b6\u6001\uff0c\u518d\u63a5\u901a\u7535\u6e90\u4e5f\u65e0\u6cd5\u542f\u52a8\u3002\u8981\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u5265\u5f00 USB \u7ebf\u526a\u65ad\u7ea2\u82725V\u7ec6\u7535\u7ebf\u3002</p> <p>SSH \u8fdc\u7a0b\u767b\u5f55</p> <p>Armbian \u7cfb\u7edf\u9ed8\u8ba4\u5f00\u542f SSH\uff0cSSH \u521d\u59cb\u7528\u6237\u5bc6\u7801\u4e3a root/1234\u3002</p> <p>\u8b66\u544a</p> <p>\u4e0d\u5efa\u8bae\u4f7f\u7528 <code>apt upgrade</code> \u5347\u7ea7\u5185\u6838\u548c\u8bbe\u5907\u6811\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u7cfb\u7edf\u5f02\u5e38\uff0cOTG \u529f\u80fd\u65e0\u6cd5\u4f7f\u7528\u3002</p> <p>\u786c\u4ef6\u8fde\u63a5</p> <p>\u4e8c\u7ef4\u7801\u65c1 USB \u53e3\u4e3a OTG \u53e3\u63a5 USB \u53cc\u516c\u7ebf\uff0c\u7f51\u53e3\u65c1 USB \u53e3\u4e3a\u666e\u901a USB \u53e3\u63a5 USB HDMI \u91c7\u96c6\u5361\u3002</p> <p>ATX \u7535\u6e90\u63a7\u5236</p> <p>\u4e3b\u677f\u6709\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7684 GPIO \u5f15\u811a\uff0c\u53ef\u4ee5\u7528\u4e8e ATX \u7535\u6e90\u5f00\u5173\u673a\u63a7\u5236\u3002</p> <p></p> <p>\u5982\u679c\u8981\u4f7f\u7528ATX\u63a7\u5236\u7269\u7406\u5f00\u5173\u673a\u529f\u80fd\u8bf7\u8fde\u63a5\u597d\u5f00\u673a\u7ebf\u3002</p> <p></p>"},{"location":"start_install/onecloud_guide/","title":"\u73a9\u5ba2\u4e91\u5957\u88c5\u4f7f\u7528\u8bf4\u660e","text":""},{"location":"start_install/onecloud_guide/#_1","title":"\u73a9\u5ba2\u4e91\u5957\u88c5\u4f7f\u7528\u8bf4\u660e","text":"<p>\u63d0\u9192</p> <p>\u6b64\u9875\u4e3a\u4f5c\u8005\u65e9\u671f\u51fa\u552e\u7684\u73a9\u5ba2\u4e91 One-KVM \u5957\u88c5\u6587\u6863\uff0c\u6b64\u90e8\u5206\u4ec5\u4f5c\u5b58\u6863\u4f7f\u7528\uff0c\u5185\u5bb9\u4e0d\u518d\u66f4\u65b0\u3002</p>"},{"location":"start_install/onecloud_guide/#_2","title":"\u786c\u4ef6\u5c55\u793a","text":""},{"location":"start_install/onecloud_guide/#_3","title":"\u786c\u4ef6\u8fde\u63a5","text":"<p>\u5c06HDMI\u8f6cUSB\u91c7\u96c6\u5361\u63d2\u5165\u73a9\u5ba2\u4e91\u4e3b\u673a\u7f51\u53e3\u65c1USB\u53e3\uff0cHDMI\u89c6\u9891\u7ebf\u63d2\u5165\u91c7\u96c6\u5361HDMI\u7aef\uff0cUSB\u53cc\u516c\u7ebf\u63d2\u5165\u73a9\u5ba2\u4e91\u4e3b\u673aHDMI\u53e3\u65c1USB\u53e3\uff0c\u63d2\u5165\u7f51\u7ebf\uff0c\u63a5\u5165\u7535\u6e90\u3002</p> <p>\u88ab\u63a7\u673a\u7aef\uff0c\u5c06HDMI\u89c6\u9891\u7ebf\u548cUSB\u53cc\u516c\u7ebf\u63a5\u5165\u5bf9\u5e94\u63a5\u53e3\u5373\u53ef\u3002</p> <p>Warning</p> <p>\u73a9\u5ba2\u4e91USB\u8bbe\u5907\u63d2\u53cd\u4f1a\u5bfc\u81f4PiKVM\u6240\u6709\u8fdc\u63a7\u529f\u80fd\u65e0\u6cd5\u4f7f\u7528\u3002</p> <p>Tip</p> <p>\u90e8\u5206\u4f4e\u529f\u8017\u8bbe\u5907\u5728\u672a\u63a5\u901a\u7535\u6e90\u65f6\u53ef\u80fd\u901a\u8fc7USB\u53cc\u516c\u7ebf\u4ece\u73a9\u5ba2\u4e91\u53d6\u7535\u5e76\u542f\u52a8\u81f3\u5f02\u5e38\u72b6\u6001\uff0c\u518d\u63a5\u901a\u7535\u6e90\u4e5f\u65e0\u6cd5\u542f\u52a8\u3002\u8981\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u5265\u5f00USB\u53cc\u516c\u7ebf\u526a\u65ad\u7ea2\u82725V\u7ec6\u7535\u7ebf\u3002</p> <p>Tip</p> <p>\u521d\u59cbWEB\u548cVNC\u8d26\u53f7\u5bc6\u7801\u90fd\u4e3aadmin/admin\u4e14\u540c\u6b65\uff0croot\u7528\u6237\u5bc6\u7801\u901a\u5e38\u4e3a\u7528\u6237\u81ea\u884c\u8bbe\u7f6e\uff0c\u82e5\u672a\u8bbe\u7f6e\u53ef\u5c1d\u8bd51234\u3002ssh\u9ed8\u8ba4\u7aef\u53e3\uff1a22web\u9ed8\u8ba4\u7aef\u53e3\uff1a80\uff0c443vnc\u9ed8\u8ba4\u7aef\u53e3\uff1a5900janus ws\u7aef\u53e3(\u9ed8\u8ba4\u5173\u95ed)\uff1a5009</p> <p>Tip</p> <p>\u6392\u969c\u6307\u5357\uff1a\u7f51\u9875\u89c6\u9891\u9ed1\u5c4f\u63d0\u793a\u65e0No Singal\uff0c\u8bf7\u68c0\u67e5\u786c\u4ef6\u662f\u5426\u6b63\u786e\u8fde\u63a5\u6216\u677e\u52a8\uff1b\u7f51\u9875\u7aef\u9ed1\u5c4f\u65e0\u4efb\u4f55\u753b\u9762\u6216\u5f69\u8272\u7ad6\u6761\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u6709\u88ab\u63a7\u673aHDMI\u4fe1\u53f7\u8f93\u5165\uff1b\u8fdb\u7cfb\u7edf\u753b\u9762\u663e\u793a\u6b63\u5e38\uff0cbios\u754c\u9762\u9ed1\u5c4f\u6216\u6e32\u67d3\u5f02\u5e38\uff0c\u8bf7\u5c1d\u8bd5\u5728BIOS\u754c\u9762\u5f00\u542fCMS\u517c\u5bb9\u6a21\u5f0f\uff1b\u865a\u62df\u9f20\u6807\u9519\u4f4d\u6216\u79fb\u52a8\u8303\u56f4\u5f02\u5e38\u53ef\u5c1d\u8bd5\u5728\u7f51\u9875\u53f3\u4e0a\u89d2\u5207\u6362\u9f20\u6807\u76f8\u5bf9\u6a21\u5f0f\uff1b\u753b\u9762\u663e\u793a\u7247\u523b\u9ed1\u5c4f\uff0c\u5237\u65b0\u7f51\u9875\u91cd\u590d\u6b64\u73b0\u8c61\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528\u706b\u72d0\u6d4f\u89c8\u5668\uff1b\u5982\u679c\u4ee5\u4e0a\u60c5\u51b5\u90fd\u4e0d\u7b26\u5408\u8bf7\u5c1d\u8bd5\u91cd\u542f\u73a9\u5ba2\u4e91\u81ea\u52a8\u590d\u4f4d\uff0c\u4ecd\u65e7\u65e0\u6cd5\u89e3\u51b3\u53ef\u5728Github\u63d0issue\u6216\u52a0\u5165One-KVM\u4ea4\u6d41\u7fa4\u53cd\u9988\u3002</p>"},{"location":"start_install/onecloud_guide/#msd","title":"MSD","text":"<p>Mass Storage Drive\uff0c\u5373\u5927\u5bb9\u91cf\u50a8\u5b58\u8bbe\u5907\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8fdc\u7a0b\u4e0a\u4f20\u6587\u4ef6\uff0c\u6302\u8f7d\u955c\u50cf\u7b49\u529f\u80fd\u3002\u7531\u4e8eLinux\u9650\u5236\uff0cCD-ROM\u683c\u5f0f\u5927\u5c0f\u6700\u5927\u4e3a2.2G\uff0cFALSH\u683c\u5f0f\u5927\u5c0f\u65e0\u9650\u5236\u3002</p> <p>Warning</p> <p>\u8bf7\u4e0d\u8981\u5728USB\u53cc\u516c\u7ebf\uff08OTG\u7ebf\uff09\u4e0e\u88ab\u63a7\u673a\u65ad\u5f00\u6216\u88ab\u63a7\u673a\u5173\u673a\u65f6\u4f7f\u7528\u89e3\u9664\u955c\u50cf\u6302\u8f7d\u529f\u80fd\uff08 \u65ad\u5f00\u8fde\u63a5\uff09\uff0c\u5426\u5219\u4f1a\u56e0USB OTG \u7aef\u53e3\u64cd\u4f5c\u4e0d\u53ef\u7528\u81f4\u4f7f\u5185\u6838\u75af\u72c2\u6301\u7eed\u62a5\u9519\uff0c\u65e5\u5fd7\u670d\u52a1\u5360\u7528CPU 100%\uff0c\u7cfb\u7edf\u7a33\u5b9a\u6027\u4e0b\u964d\u3002\u8fd9\u65f6\u9664\u975eUSB OTG\u8fde\u63a5\u6062\u590d\u6b63\u5e38\uff0cMSD\u529f\u80fd\u4f1a\u4e00\u76f4\u4fdd\u6301\u4e0d\u53ef\u7528\u72b6\u6001\u3002</p>"},{"location":"start_install/onecloud_guide/#atx","title":"ATX\u7535\u6e90\u63a7\u5236","text":"<p>\u5982\u679c\u8981\u4f7f\u7528ATX\u63a7\u5236\u7269\u7406\u5f00\u5173\u673a\u529f\u80fd\u8bf7\u8fde\u63a5\u597d\u5f00\u673a\u7ebf\uff08\u76ee\u524d\u6210\u54c1\u6df1\u8272\u5f15\u51fa\u7ebf\u63a59pin\u4e2d\u7684\u5f00\u673a\u8d1f\u6781\uff0c\u6d45\u8272\u5f15\u51fa\u7ebf\u63a5\u5f00\u673a\u9488\u811a\u6b63\u6781\uff0c\u5982\u9ed1\u767d\u3001\u8910\u7ea2\uff0c\u6a59\u9ec4\u5bf9\u5e94\u8d1f\u6781\u548c\u6b63\u6781\uff09\uff0c\u5ef6\u957f\u7ebf\u4e0d\u5206\u989c\u8272\u76f4\u63a5\u4f7f\u7528\u3002</p> <p></p> <p></p>"},{"location":"start_install/onecloud_install/","title":"\u73a9\u5ba2\u4e91","text":""},{"location":"start_install/onecloud_install/#_1","title":"\u786c\u4ef6\u51c6\u5907","text":"<p>\u5fc5\u5907\u786c\u4ef6\uff1a\u73a9\u5ba2\u4e91\u4e3b\u673a\u3001USB HDMI \u91c7\u96c6\u5361\u3001\u666e\u901a USB \u53cc\u516c\u7ebf</p> <p>\u53ef\u9009\u786c\u4ef6\uff1aTF \u5361\uff08\u6269\u5c55\u50a8\u5b58\uff09\u3001 TTL \u8f6c USB \u9002\u914d\u5668\uff08\u8c03\u8bd5\u5de5\u5177\uff09</p>"},{"location":"start_install/onecloud_install/#_2","title":"\u6574\u5408\u5305\u90e8\u7f72","text":"<p>\u5237\u673a\u5305\u9009\u62e9</p> <ul> <li>\u7ebf\u5237\u955c\u50cf\uff08\u5e26 burn \u540e\u7f00\uff09\uff1a\u9002\u7528\u4e8e\u901a\u8fc7 Amlogic USB Burning Tool \u8fdb\u884c\u56fa\u4ef6\u66f4\u65b0\u3002\u63a8\u8350\u4f7f\u7528 v2.1.3 \u6216\u66f4\u4f4e\u7248\u672c\u7684\u5237\u673a\u8f6f\u4ef6\u3002</li> <li>U \u76d8/SD \u5361\u542f\u52a8\u955c\u50cf\uff1a\u9002\u5408\u76f4\u63a5\u5199\u5165\u5230 U \u76d8\u6216 SD \u5361\u4e2d\u542f\u52a8\u8bbe\u5907\u3002</li> </ul> <p>\u89c6\u9891\u6559\u7a0b\u53c2\u8003</p> <p>\u8be6\u7ec6\u8fc7\u7a0b\u53ef\u4ee5\u53c2\u8003 B\u7ad9UP\u4e3b \u590f\u79cbBH6RRB \u7684\u89c6\u9891\u6559\u7a0b\u3002</p> <p>\u5176\u4ed6\u5237\u673a\u4e8b\u9879</p> <p>\u5237\u673a\u77ed\u63a5\u65f6\u4e0d\u9700\u8981\u4e00\u76f4\u77ed\u63a5\uff0c\u5728\u70e7\u5f55\u8f6f\u4ef6\u8bc6\u522b\u5230\u5e76\u52a0\u8f7d\u5230 1% \u53ef\u4ee5\u677e\u624b\u8010\u5fc3\u7b49\u5f85\u5237\u673a\u6210\u529f\u4e86\u3002\u73a9\u5ba2\u4e91\u4e3b\u677f\u5237\u673a\u77ed\u63a5\u56fe\u7247\u6765\u6e90\u4e8e\u73a9\u5ba2\u4e91\u6280\u672f\u4ea4\u6d41\u7fa4 \u84dd\u84dd\u5927\u4f6c\u3002</p> <p></p> <p>\u73a9\u5ba2\u4e91\u5237\u5165\u76f4\u5237\u955c\u50cf\u540e\u9ed8\u8ba4\u4e0a\u7f51\u65b9\u5f0f\u4e3a DHCP \u81ea\u52a8\u83b7\u53d6 IP\uff0c\u4e3b\u673a\u540d\u4e3a <code>onecloud</code>\u3002\u542f\u52a8\u65f6\u7531\u73a9\u5ba2\u4e91\u524d\u9762\u677fLED\u706f\u4f1a\u6709\u7ea2\u706f\u8f6c\u4e3a\u7eff\u706f\uff0c\u542f\u52a8\u540e\u5728\u6d4f\u89c8\u5668\u8bbf\u95ee\u73a9\u5ba2\u4e91IP\u5373\u53ef\u3002</p> <p></p> <p>\u82e5\u8fd8\u9700\u8981\u5237\u673a\uff0c\u4e0d\u9700\u8981\u518d\u6b21\u8fdb\u884c\u77ed\u63a5\u4e86\uff0c\u53ef\u4ee5\u6309\u4f4f\u91cd\u7f6e\u952e\u901a\u7535\u8fdb\u5165\u5237\u673a\u6a21\u5f0f\u3002</p>"},{"location":"start_install/onecloud_install/#_3","title":"\u4f7f\u7528\u8bf4\u660e","text":"<p>\u786c\u4ef6\u8fde\u63a5</p> <ol> <li>\u5c06 HDMI \u8f6c USB \u91c7\u96c6\u5361\u63d2\u5165\u73a9\u5ba2\u4e91\u4e3b\u673a\u9760\u8fd1\u7f51\u53e3\u7684 USB \u63d2\u69fd\uff0c\u4f7f\u7528 HDMI \u89c6\u9891\u7ebf\u8fde\u63a5\u91c7\u96c6\u5361\u4e0e\u88ab\u63a7\u673a\u5668\u7684 HDMI \u8f93\u51fa\u7aef\u3002</li> <li>\u5c06 USB \u53cc\u516c\u7ebf\u7684\u4e00\u7aef\u63d2\u5165\u73a9\u5ba2\u4e91\u4e3b\u673a HDMI \u63a5\u53e3\u65c1\u8fb9\u7684 USB \u63d2\u69fd\uff0c\u53e6\u4e00\u7aef\u8fde\u63a5\u81f3\u88ab\u63a7\u673a\u5668\u76f8\u5e94\u7684 USB \u63a5\u53e3\u3002</li> <li>\u786e\u4fdd\u6240\u6709\u8fde\u63a5\u7a33\u56fa\uff0c\u63a5\u5165\u7535\u6e90\u53ca\u7f51\u7ebf\u3002</li> </ol> <p>\u63d0\u9192</p> <p>\u90e8\u5206\u4f4e\u529f\u8017\u8bbe\u5907\u5728\u672a\u63a5\u901a\u7535\u6e90\u65f6\u53ef\u80fd\u901a\u8fc7 USB \u53cc\u516c\u7ebf\u4ece\u73a9\u5ba2\u4e91 OTG \u53e3\u53d6\u7535\u5e76\u542f\u52a8\u81f3\u5f02\u5e38\u72b6\u6001\uff0c\u518d\u63a5\u901a\u7535\u6e90\u4e5f\u65e0\u6cd5\u542f\u52a8\u3002\u8981\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u5265\u5f00 USB\u53cc \u516c\u7ebf\u526a\u65ad\u7ea2\u8272 5V \u7ec6\u7535\u7ebf\u3002</p> <p></p> <p>SSH \u8fdc\u7a0b\u767b\u5f55</p> <p>Armbian \u7cfb\u7edf\u9ed8\u8ba4\u5f00\u542f SSH \u670d\u52a1\uff0c\u521d\u59cb\u7528\u6237\u5bc6\u7801\u4e3a root/1234\u3002\u8bf7\u5c3d\u5feb\u66f4\u6539\u9ed8\u8ba4\u5bc6\u7801\u4ee5\u589e\u5f3a\u5b89\u5168\u6027\u3002</p> <p>\u8b66\u544a</p> <p>\u4e0d\u5efa\u8bae\u4f7f\u7528 <code>apt upgrade</code> \u5347\u7ea7\u5185\u6838\u548c\u8bbe\u5907\u6811\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u7cfb\u7edf\u5f02\u5e38\uff0cOTG \u529f\u80fd\u65e0\u6cd5\u4f7f\u7528\u3002</p> <p>ATX \u7535\u6e90\u63a7\u5236</p> <p>\u5982\u679c\u8981\u4f7f\u7528ATX\u63a7\u5236\u7269\u7406\u5f00\u5173\u673a\u529f\u80fd\u8bf7\u8fde\u63a5\u597d\u5f00\u673a\u7ebf\u3002</p> <p></p>"},{"location":"start_install/orangepizero_install/","title":"\u9999\u6a59\u6d3e Zero","text":""},{"location":"start_install/orangepizero_install/#_1","title":"\u786c\u4ef6\u4ecb\u7ecd","text":"<p>Orange Pi Zero \u91c7\u7528\u4e86\u5168\u5fd7\u56db\u6838A7\u9ad8\u6027\u80fd\u5904\u7406\u5668Allwinner H2/H3+\uff0c\u96c6\u6210\u767e\u5146\u677f\u8f7d\u7f51\u53e3\u3001\u677f\u8f7d WIFI\u3001\u677f\u8f7d\u5b58\u50a8\u3001USB OTG\u4f9b\u7535\u3001USB2.0\u7aef\u53e3\u7b49\u3002</p> <p>\u8bf4\u660e\uff1a\u9999\u6a59\u6d3e zero \u4f9b\u7535\u548c OTG \u6570\u636e\u4f20\u8f93\u4e3a\u540c\u4e00\u4e2a microusb \u63a5\u53e3\uff0c\u63a8\u8350\u4f7f\u7528\u6570\u636e\u4f9b\u7535\u5206\u79bb\u4e00\u5206\u4e8c\u7684 USB \u7ebf\u6750\u3002</p>"},{"location":"start_install/orangepizero_install/#docker","title":"Docker \u90e8\u7f72","text":"<p>\u9996\u5148\u628a\u4e0b\u8f7d\u597d\u7684 Armbian \u955c\u50cf\u5199\u5165 SD \u5361\u3002\u8fd9\u91cc\u4f7f\u7528 <code>Armbian_23.02.0-trunk_Orangepizero_jammy_current_5.15.85_msd-patched.img</code> \u4f5c\u4e3a\u57fa\u7840\u7cfb\u7edf\uff0c\u5e76\u4f7f\u7528 Docker \u90e8\u7f72 On-KVM\u3002</p> <p>Armbian \u955c\u50cf\u4e0b\u8f7d\u5730\u5740\uff1aArmbian_23.02.0-trunk_Orangepizero_jammy_current_5.15.85_msd-patched.zip</p> <p></p> <p>\u8fdb\u5165\u7cfb\u7edf\u540e\u6267\u884c\u4e0b\u5217\u547d\u4ee4\u5373\u53ef\u5b8c\u6210 One-KVM Docker \u7248\u7684\u5b89\u88c5\u3002</p> <pre><code>#\u6e05\u9664 g_serial \u5185\u6838\u6a21\u5757\u81ea\u52a8\u6302\u8f7d\necho \"\" &gt; /etc/modules-load.d/modules.conf\nreboot\n\n#Docker \u90e8\u7f72 One-KVM\napt update\napt install docker.io\ndocker run --name kvmd -itd --privileged=true \\\n    -v /dev:/dev -v /sys/kernel/config:/sys/kernel/config \\\n    -v /lib/modules:/lib/modules:ro -e OTG=1 \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    silentwind0/kvmd\n#\u786e\u8ba4\u5bb9\u5668\u6b63\u5e38\u8fd0\u884c\u540e\u53ef\u6dfb\u52a0\u81ea\u52a8\u91cd\u542f\ndocker update --restart=always kvmd\n</code></pre> <p>\u8fd0\u884c\u6548\u679c\u5982\u4e0b\u3002</p> <p></p>"},{"location":"start_install/orangepizero_install/#_2","title":"\u5176\u4ed6","text":"<p>\u63d0\u9192</p> <p>\u5982\u679c\u4f7f\u7528\u6570\u636e\u4f9b\u7535\u4e00\u5206\u4e8c USB \u7ebf\u6750\uff0c\u90e8\u5206\u4f4e\u529f\u8017\u8bbe\u5907\u5728\u672a\u63a5\u901a\u7535\u6e90\u65f6\u53ef\u80fd\u4ece USB \u53d6\u7535\u5e76\u542f\u52a8\u81f3\u5f02\u5e38\u72b6\u6001\uff0c\u518d\u63a5\u901a\u7535\u6e90\u4e5f\u65e0\u6cd5\u542f\u52a8\u3002\u8981\u89e3\u51b3\u6b64\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u5265\u5f00 USB \u6570\u636e\u7ebf\u526a\u65ad\u7ea2\u8272 5V \u7ec6\u7535\u7ebf\u3002</p> <p>SSH</p> <p>Armbian \u7cfb\u7edf\u9ed8\u8ba4\u5f00\u542f SSH\uff0cSSH \u521d\u59cb\u7528\u6237\u5bc6\u7801\u4e3a root/1234\u3002\u5982\u4f7f\u7528\u9999\u6a59\u6d3e\u5b98\u65b9\u7cfb\u7edf\uff0c\u9ed8\u8ba4\u7528\u6237\u5bc6\u7801\u4e3a root/orangepi\u3002</p> <p>\u8b66\u544a</p> <p>\u4e0d\u5efa\u8bae\u4f7f\u7528 <code>apt upgrade</code> \u5347\u7ea7\u5185\u6838\u548c\u8bbe\u5907\u6811\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u7cfb\u7edf\u5f02\u5e38\uff0cOTG \u529f\u80fd\u65e0\u6cd5\u4f7f\u7528\u3002</p> <p>WIFI \u8fde\u63a5</p> <p>\u8981\u8fde\u63a5\u5230 2.4G WIFI\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5373\u53ef\u8fdb\u5165\u547d\u4ee4\u884c\u56fe\u5f62\u754c\u9762\u8fde\u63a5\u989d\u3002</p> <pre><code>nmtui\n</code></pre>"},{"location":"start_install/s905l3a_install/","title":"S905l3a \u76d2\u5b50","text":""},{"location":"start_install/s905l3a_install/#_1","title":"\u786c\u4ef6\u8bf4\u660e","text":"<p>\u8b66\u544a</p> <p>\u6b64 One-KVM \u6574\u5408\u5305\u5df2\u7ecf\u5728\u4e2d\u5174 B863AV3.2M \u548c CM311-1a-CH \u8bbe\u5907\u4e0a\u901a\u8fc7\u4e86\u6d4b\u8bd5\u3002\u5bf9\u4e8e\u5176\u4ed6\u4f7f\u7528 S905L3A CPU \u7684\u76d2\u5b50\uff0c\u53ef\u80fd\u4e0d\u5b8c\u5168\u517c\u5bb9\u3002\u5982\u679c\u9047\u5230\u4e0d\u517c\u5bb9\u7684\u60c5\u51b5\uff0c\u8bf7\u8003\u8651\u4e0b\u9762\u63d0\u4f9b\u7684 Docker \u90e8\u7f72\u65b9\u6cd5\u3002</p> <p>\u5f53\u4f7f\u7528 <code>armbian-install</code> \u5de5\u5177\u5b89\u88c5\u65f6\uff0c\u4ee5\u4e0b\u662f\u652f\u6301\u7684\u8bbe\u5907\u5217\u8868\u53ca\u5176\u5bf9\u5e94\u7684 DTB \u6587\u4ef6\u540d\uff1a</p> <pre><code>--------------------------------------------------------------------------------------\nID    SOC        MODEL                               DTB                                               \n--------------------------------------------------------------------------------------\n301   s905x2     X96-Max-4GB,Tx5-Max                 meson-g12a-x96-max.dtb                            \n302   s905x2     X96-Max-2GB,A95X-F2                 meson-g12a-x96-max-rmii.dtb                       \n303   s905x2     MECOOL-KM3-4G                       meson-g12a-sei510.dtb                             \n304   s905l3a    E900V22C-D,CM311-1a-CH,IP112H       meson-g12a-s905l3a-e900v22c.dtb                   \n305   s905l3a    CM311-1a-YST                        meson-g12a-s905l3a-cm311.dtb                      \n306   s905l3a    M401A,UNT403A,B863AV3.2-M           meson-g12a-s905l3a-m401a.dtb                      \n0     Other      Customize                           Enter-custom-dtb-name                             \n--------------------------------------------------------------------------------------\n</code></pre>"},{"location":"start_install/s905l3a_install/#_2","title":"\u6574\u5408\u5305\u90e8\u7f72","text":"<ol> <li>\u5199\u5165\u6574\u5408\u5305\uff1a\u5c06 One-KVM \u6574\u5408\u5305\u5199\u5165U\u76d8\u6216 TF \u5361\u3002</li> <li>\u8fdb\u5165 Android TV\uff1a\u542f\u52a8\u8bbe\u5907\u5e76\u8fdb\u5165\u9884\u88c5\u7684 Android TV \u7cfb\u7edf\u3002</li> <li>\u5b89\u88c5\u5f15\u5bfc APK\uff1a\u5728 Android TV \u4e2d\u83b7\u53d6 ROOT \u6743\u9650\uff0c\u5e76\u5b89\u88c5\u7528\u4e8e\u5207\u6362\u5230\u5916\u90e8\u4ecb\u8d28\uff08\u5982U\u76d8\u6216 TF \u5361\uff09\u5f15\u5bfc\u7684 APK\u3002</li> <li>\u5237\u5165\u56fa\u4ef6\uff1a\u5728Android TV\u542f\u52a8 APK \u5f15\u5bfcU\u76d8\u6216 TF \u5361\uff0c\u8fdb\u5165 Armbian \u73af\u5883\u4e4b\u540e\u4f7f\u7528 <code>armbian-install</code> \u547d\u4ee4\u9009\u62e9\u4e0e\u8bbe\u5907\u5339\u914d\u7684\u578b\u53f7\u8fdb\u884c\u5b89\u88c5\u3002</li> </ol> <p>\u5b89\u88c5\u793a\u4f8b\uff1a </p>"},{"location":"start_install/s905l3a_install/#docker","title":"Docker \u90e8\u7f72","text":"<p>\u5982\u679c\u4f7f\u7528Docker\u6765\u90e8\u7f72\u670d\u52a1\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u5237\u5165 Android \u7cfb\u7edf\uff1a\u4e3a\u60a8\u7684\u673a\u9876\u76d2\u5237\u5165\u4e00\u4e2a\u53ef ROOT \u7684 Android \u7cfb\u7edf\uff0c\u5e76\u5b89\u88c5\u7528\u4e8e\u5207\u6362\u5230\u5916\u90e8\u4ecb\u8d28\u5f15\u5bfc\u7684 APK\u3002</li> <li>\u5237\u5165 Armbian \u7cfb\u7edf\uff1a\u4e3a\u4f18\u76d8\u5237\u5165\u4e00\u4e2a\u53ef\u542f\u52a8\u7684 Armbian \u7cfb\u7edf\u955c\u50cf\uff0c\u5e76\u5c06\u5176\u63a5\u5165\u673a\u9876\u76d2\uff0c\u5728 Android\u7cfb\u7edf\u4e0b\u5207\u6362\u81f3\u8be5\u5916\u90e8\u4ecb\u8d28\u542f\u52a8\u3002</li> <li>\u5237\u5199 EMMC\uff1a\u4f7f\u7528 <code>armbian-install</code> \u547d\u4ee4\u5c06\u5f53\u524d\u7684 Armbian \u7cfb\u7edf\u5237\u5199\u5165 EMMC\u3002</li> <li>\u914d\u7f6e Docker\uff1a\u62d4\u51fa\u4f18\u76d8\uff0c\u91cd\u542f\u673a\u9876\u76d2\u3002\u66f4\u6362\u8f6f\u4ef6\u6e90\u4e3a\u56fd\u5185\u6e90\uff0c\u7136\u540e\u5b89\u88c5 Docker\u3002</li> <li>\u90e8\u7f72 One-KVM\uff1a\u4f7f\u7528 Docker\u8fd0\u884c One-KVM \u955c\u50cf\uff0c\u786e\u4fdd OTG \u7aef\u53e3\u88ab\u6b63\u786e\u8bbe\u7f6e\u4e3a device \u6a21\u5f0f\uff0c\u5e76\u5c06\u6b64\u547d\u4ee4\u6dfb\u52a0\u5230\u5f00\u673a\u542f\u52a8\u811a\u672c\u4e2d\u3002\u786e\u8ba4\u5bb9\u5668\u6b63\u5e38\u8fd0\u884c\u540e\uff0c\u8bbe\u7f6e Docker \u670d\u52a1\u4ee5\u53ca\u5bb9\u5668\u81ea\u542f\u52a8\u3002</li> </ol> <p>\u90e8\u7f72 One-KVM \u7684\u547d\u4ee4\u5982\u4e0b\uff1a</p> <ul> <li>\u8fd0\u884c kvmd \u5bb9\u5668 <pre><code>sudo docker run --name kvmd -itd --privileged=true\n    -v /lib/modules:/lib/modules:ro -v /dev:/dev\n    -v /sys/kernel/config:/sys/kernel/config -e OTG=1 -e VIDEONUM=1 \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    registry.cn-hangzhou.aliyuncs.com/silentwind/kvmd\n</code></pre></li> <li> <p>\u8bbe\u7f6e OTG \u7aef\u53e3\u4e3a device \u6a21\u5f0f </p><pre><code>#\u4f7f\u80fd OTG device \u6a21\u5f0f\nsudo echo device &gt; /sys/class/usb_role/ffe09000.usb-role-switch/role\n#\u5c06 OTG \u7aef\u53e3\u4f7f\u80fd\u547d\u4ee4\u5199\u5165\u5f00\u673a\u542f\u52a8\u811a\u672c /etc/rc.local\nsudo nano /etc/rc.local\n#\u6dfb\u52a0\u811a\u672c\u6267\u884c\u6743\u9650\nsudo chmod +x /etc/rc.local\n</code></pre> </li> <li> <p>\u8bbe\u7f6e\u5bb9\u5668\u5f00\u673a\u81ea\u542f\u52a8 </p><pre><code>sudo systemctl enable docker\nsudo docker update --restart=always kvmd\n</code></pre> </li> </ul>"},{"location":"start_install/synology_install/","title":"\u7fa4\u6656 NAS","text":""},{"location":"start_install/synology_install/#_1","title":"\u9a71\u52a8\u51c6\u5907","text":"<p>\u5728\u7fa4\u6656\u63a7\u5236\u9762\u677f -- \u7ec8\u7aef\u673a\u548c SNMP -- \u7ec8\u7aef\u673a\u52fe\u9009 \u542f\u52a8 SSH \u529f\u80fd\uff0c\u4f7f\u7528 SSH \u5ba2\u6237\u7aef\u8fde\u63a5\u7fa4\u6656 SSH\u3002</p> <p></p> <p>\u6309\u7167 \u300a\u4e3a\u7fa4\u6656 NAS \u7f16\u8bd1\u989d\u5916\u5185\u6838\u9a71\u52a8\u300b \u6587\u7ae0\u5185\u5bb9\u4e3a\u7fa4\u6656\u8865\u5168\u76f8\u5173\u9a71\u52a8\uff0c\u5982\u679c\u6b64\u6b65\u672a\u5b8c\u6210\u540e\u7eed\u65e0\u6cd5\u90e8\u7f72\u3002</p> <p>\u53ef\u4f7f\u7528 <code>ls /dev | grep -E \"video|ttyUSB\"</code>\uff0c\u5982\u679c\u6709\u8bbe\u5730\u5740\uff0c\u5c31\u8bf4\u660e\u51c6\u5907\u597d\u4e86\uff0c\u5982\u4e0b\u56fe\u3002\u51c6\u5907\u597d\u4e86\u5c31\u7528\u4e0d\u7740 SSH \u4e86\uff0c\u53ef\u4ee5\u5728\u63a7\u5236\u9762\u677f\u540c\u6837\u7684\u5730\u65b9\u5173\u95ed SSH\u3002</p> <p></p>"},{"location":"start_install/synology_install/#docker","title":"Docker \u90e8\u7f72","text":"<p>\u63d0\u9192</p> <p>\u865a\u62df\u5b58\u50a8\u9a71\u52a8\u5668\uff08MSD\uff09\u3001\u865a\u62df USB \u7f51\u5361\u7b49\u865a\u62dfUSB\u8bbe\u5907\u7b49\u529f\u80fd\u4ec5\u4f7f\u7528 OTG \u7aef\u53e3\u6a21\u5f0f\u65f6\u53ef\u7528\uff0c\u8bf7\u6ce8\u610f\u4f7f\u7528 CH9329 HID \u65f6\u4e0d\u652f\u6301\u8fd9\u4e9b\u865a\u62df USB \u8bbe\u5907\u6269\u5c55\u529f\u80fd\u3002</p> <p>\u8fdb\u5165\u7fa4\u6656\u5bb9\u5668\u7ba1\u7406\u754c\u9762\uff0c\u6253\u5f00\u5de6\u8fb9\u4fa7\u680f\u9009\u62e9\u65b0\u5efa\u9879\u76ee\u3002\u8bbe\u7f6e\u597d\u9879\u76ee\u540d\u540d\u79f0\u548c\u8def\u5f84\u540e\u9009\u62e9\u521b\u5efa docker-compose.yml \uff0c\u586b\u5165\u5982\u4e0b\u5185\u5bb9\u7136\u540e\u70b9\u51fb\u4e0b\u4e00\u6b65\uff0c\u7f51\u9875\u95e8\u6237\u8bbe\u7f6e\u53ef\u4ee5\u4e0d\u4fee\u6539\u7ee7\u7eed\u4e0b\u4e00\u6b65\uff0c\u6700\u540e\u70b9\u51fb\u5b8c\u6210\uff0c\u7b49\u5f85\u5bb9\u5668\u521b\u5efa\u542f\u52a8\u3002</p> <p>\u5bb9\u5668\u542f\u52a8\u5b8c\u6210\u5c31\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528\u4e86\uff0c\u8bbf\u95ee https://NASIP:4430 \u5c31\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528\u4e86\uff0c\u9ed8\u8ba4\u8d26\u53f7\u5bc6\u7801  <code>admin</code>/ <code>admin</code>\uff0c\u66f4\u591a Docker \u73af\u5883\u53d8\u91cf\u7684\u8bbe\u7f6e\u53ef\u4ee5\u67e5\u9605 Docker \u90e8\u7f72\u3002</p> <pre><code>version: '3.7'\nservices:\n    kvmd:\n        image: registry.cn-hangzhou.aliyuncs.com/silentwind/kvmd\n        ports:\n        - \"8080:8080\"\n        - \"4430:4430\"\n        - \"5900:5900\"\n        - \"623:623\"\n        devices:\n        - \"/dev/video0:/dev/video0\"\n        - \"/dev/ttyUSB0:/dev/ttyUSB0\"\n</code></pre> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>\u6700\u7ec8\u6548\u679c</p> <p></p>"},{"location":"start_install/synology_ko/","title":"Synology ko","text":""},{"location":"start_install/synology_ko/#_1","title":"\u524d\u8a00","text":"<p>\u7fa4\u6656 NAS \u7cfb\u7edf\u4e5f\u662f\u4f7f\u7528\u7684 Linux \u7cfb\u7edf\uff0c\u4f46\u5bf9 NAS \u7528\u9014\u8fdb\u884c\u4e86\u5b9a\u5236\uff0c\u53ef\u80fd\u7f3a\u5c11\u6298\u817e\u5176\u4ed6\u5e94\u7528\u6240\u9700\u7684\u5185\u6838\u6a21\u5757\u3002\u8fd9\u7bc7\u6587\u7ae0\u6765\u5199\u4e00\u4e0b\u5982\u4f55\u4e3a\u7fa4\u6656\u7f16\u8bd1\u5185\u6838\u6a21\u5757\u3002</p> <p>\u9996\u5148\u9700\u8981\u660e\u786e\u9700\u8981\u7f16\u8bd1\u7684\u6a21\u5757\u3002\u6211\u60f3\u5728 NAS \u4e0a\u4f7f\u7528 Docker \u90e8\u7f72 One-KVM\uff0c\u9700\u8981\u6620\u5c04 USB \u91c7\u96c6\u5361\u548c USB \u4e32\u53e3\u8bbe\u5907\uff0c\u5bf9\u5e94 UVC \u9a71\u52a8\u548c CH340 \u9a71\u52a8\uff0c\u7136\u800c\u7fa4\u6656\u7f3a\u5c11\u5185\u6838\u9a71\u52a8\u65e0\u6cd5\u8bc6\u522b\u8fd9\u4e24\u4e2a USB \u8bbe\u5907\uff0c\u6545\u9700\u8981\u81ea\u5df1\u7f16\u8bd1\u3002\u4e0b\u56fe\u662f\u6700\u7ec8\u6548\u679c\uff0c\u53ef\u4ee5\u770b\u5230\u9a71\u52a8\u67b6\u6784\u52a0\u8f7d\u6210\u529f\uff0c\u8bbe\u5907\u8def\u5f84\u4e5f\u51fa\u6765\u4e86\u3002</p> <p></p>"},{"location":"start_install/synology_ko/#_2","title":"\u8bf4\u660e","text":"<p>\u7fa4\u6656\u5f00\u6e90\u6587\u4ef6\u4e0b\u8f7d\u7ad9\uff1aSynology Archive Download Site - Index of /download</p> <p>\u5728\u8fd9\u91cc\u53ef\u4ee5\u4e0b\u8f7d\u5230\u7fa4\u6656\u7684\u5927\u90e8\u5206\u6e90\u4ee3\u7801\uff08\u4e3a\u7fa4\u6656\u7684\u5f00\u6e90\u70b9\u8d5e\uff09\uff0c\u7f16\u8bd1\u5185\u6838\u53ea\u9700\u8981\u7fa4\u6656\u7684\u6784\u5efa\u5de5\u5177\u94fe\u548c\u5185\u6838\u6e90\u4ee3\u7801\u5c31\u8db3\u591f\u4e86\u3002\u6839\u636e\u81ea\u5df1\u7fa4\u6656\u7684\u578b\u53f7\u548c\u7248\u672c\u4e0b\u8f7d\u5bf9\u5e94\u6587\u4ef6\u3002</p> <p>\u5f00\u542f\u7fa4\u6656 SSH \u5e76\u8fde\u63a5\u6267\u884c <code>uname -a</code> \u53ef\u4ee5\u5f97\u5230\u5185\u6838\u4fe1\u606f\uff1a<code>Linux MofengNAS 4.4.302+ #72803 SMP Mon Aug 19 19:59:09 CST 2024 x86_64 GNU/Linux synology_apollolake_218+</code>\uff0c\u5728\u7fa4\u6656\u63a7\u5236\u9762\u7248 \u4fe1\u606f\u4e2d\u5fc3\u53ef\u4ee5\u770b\u5230\u7fa4\u6656 DSM \u7248\u672c\u4fe1\u606f\uff1a<code>DSM 7.2.2-72803</code>\u3002\u8fd9\u4e2a\u4fe1\u606f\u5f88\u91cd\u8981\uff0c\u540e\u9762\u8981\u7528\u5230\u3002</p> <p></p> <p>\u7136\u540e\u6839\u636e\u7fa4\u6656\u578b\u53f7\u548c DSM \u7248\u672c\u4e0b\u8f7d Linux \u5185\u6838\u6e90\u4ee3\u7801\u548c\u6784\u5efa\u5de5\u5177\uff0c\u5185\u6838\u6e90\u4ee3\u7801\u5728  <code>ToolChain/Synology NAS GPL Source/DSM \u7248\u672c\u53f7</code> \u76ee\u5f55\u4e0b\uff0c\u6784\u5efa\u5de5\u5177\u5728 <code>ToolChain/toolchain/DSM \u7248\u672c\u53f7</code> \u76ee\u5f55\u4e0b\u3002\u4e0b\u56fe\u548c\u547d\u4ee4\u662f\u4f5c\u8005\u7fa4\u6656 NAS \u5bf9\u5e94\u7684\u6587\u4ef6\uff0c\u5927\u5bb6\u9700\u8981\u6839\u636e\u81ea\u5df1\u7684\u60c5\u51b5\u505a\u76f8\u5e94\u4fee\u6539\u3002</p> <p></p> <p></p> <pre><code>#\u4e0b\u8f7d\u6587\u4ef6\nwget https://global.synologydownload.com/download/ToolChain/Synology%20NAS%20GPL%20Source/7.2-64570/apollolake/linux-4.4.x.txz\nwget https://global.synologydownload.com/download/ToolChain/toolchain/7.2-72746/Intel%20x86%20Linux%204.4.180%20%28Apollolake%29/apollolake-gcc1220_glibc236_x86_64-GPL.txz\n\n#\u89e3\u538b\u6587\u4ef6\ntar xJvf apollolake-gcc1220_glibc236_x86_64-GPL.txz\ntar xJvf linux-4.4.x.txz\n</code></pre>"},{"location":"start_install/synology_ko/#_3","title":"\u7f16\u8bd1","text":"<p>\u5f00\u542f\u6a21\u5757\u9009\u9879</p> <p>\u63a8\u8350\u5728 Ubuntu \u7cfb\u7edf\u4e0b\u8fdb\u884c\u5185\u6838\u6a21\u5757\u7684\u7f16\u8bd1\uff0c\u76f4\u63a5\u5728\u7fa4\u6656\u4e0a\u7f16\u8bd1\u5185\u6838\u7531\u4e8e\u4f9d\u8d56\u7684\u539f\u56e0\u975e\u5e38\u9ebb\u70e6\uff0c\u6211\u8fd9\u91cc\u662f\u5728 WSL2 \u5b50\u7cfb\u7edf\u4e0b\u8fdb\u884c\u7684\u7f16\u8bd1\u3002</p> <p>\u8fdb\u5165 Linux \u5185\u6838\u6e90\u7801\u76ee\u5f55 <code>linux-4.4.x</code>\uff0c\u4ece <code>synoconfigs</code>  \u76ee\u5f55\u4e2d\u590d\u5236\u5bf9\u5e94\u578b\u53f7\u7684\u7f16\u8bd1\u914d\u7f6e\u6587\u4ef6\uff08\u8fd9\u6b65\u4e0d\u80fd\u7701\u7565\uff09\uff0c\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u7136\u540e\u5f00\u542f\u7f16\u8bd1\u9009\u9879\uff0c\u5728\u83dc\u5355\u4e2d\u53ef\u4ee5\u6309\u4e0b \"/\" \u53ef\u4ee5\u641c\u7d22\u9009\u9879\u67e5\u770b\u4f9d\u8d56\u5173\u7cfb \u3002</p> <pre><code>cd linux-4.4.x/\nls synoconfigs\ncp synoconfigs/apollolake .config\nmake menuconfig\n</code></pre> <p></p> <p></p> <p></p> <p>\u5c06\u56fe\u4e2d\u6240\u9700\u4f9d\u8d56\u9879\u90fd\u5f00\u542f\uff0c\u7136\u540e\u4fdd\u5b58\u9000\u51fa\u3002</p> <p></p> <p></p> <p></p> <p>\u6b63\u5f0f\u7f16\u8bd1</p> <p>\u6ce8\u610f\uff1a\u4f60\u4ee5\u4e3a\u73b0\u5728\u5c31\u53ef\u4ee5\u5f00\u59cb\u7f16\u8bd1\u6a21\u5757\u4e86\uff0c\u5b9e\u9645\u4e0a\u8fd8\u4e0d\u884c\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u5751\uff0c\u9a71\u52a8\u7684 <code>vermagic</code> \u8981\u4e0e\u5185\u6838\u4e00\u81f4\u624d\u80fd\u6b63\u786e\u52a0\u8f7d\uff0c\u800c\u9ed8\u8ba4\u7f16\u8bd1\u7684\u9a71\u52a8 <code>vermagic</code> \u5c11\u4e86\u4e00\u4e2a \"+\" \u53f7\uff0c\u76f4\u63a5\u52a0\u8f7d\u4f1a\u62a5\u9519\uff0c\u5982\u4e0b\u56fe\u3002\u8fd9\u91cc\u63d0\u4e00\u5634\uff0c\u540e\u9762\u4f60\u7f16\u8bd1\u597d\u4e86\u9a71\u52a8\u53ef\u4ee5\u4f7f\u7528 <code>sudo insmod \u6587\u4ef6\u540d.ko</code> \u548c <code>sudo dmesg</code> \u6765\u9a8c\u8bc1\u662f\u5426\u53ef\u4ee5\u4f7f\u7528\u3002</p> <p></p> <p>\u8fd9\u91cc\u9700\u8981\u4fee\u6539 <code>Makefile</code> \u6587\u4ef6\u6700\u5f00\u59cb\u7684\u5730\u65b9\uff0c\u4fee\u6539\u4e3a\u7fa4\u6656\u5bf9\u5e94\u5185\u6838\u7248\u672c\uff0c\u4f7f\u9a71\u52a8 <code>vermagic</code>  \u6b63\u786e\u3002</p> <p></p> <p>\u73b0\u5728\u53ef\u4ee5\u5f00\u59cb\u7f16\u8bd1\u4e86\uff0c\u8fd9\u91cc\u9700\u8981\u4f7f\u7528\u7fa4\u6656\u7684 <code>gcc</code> \u5de5\u5177\u94fe\uff0c\u4e0d\u80fd\u4f7f\u7528\u7cfb\u7edf\u81ea\u5e26\u7684 <code>gcc</code>\u3002\u5982\u679c\u6709\u7f3a\u5c11\u4ec0\u4e48\u4f9d\u8d56\u7684\u8bdd\u76f4\u63a5\u5b89\u88c5\u5c31\u597d\u4e86\u3002</p> <pre><code>#\u51c6\u5907\u7f16\u8bd1\uff0c\u76f4\u63a5\u7f16\u8bd1\u4f1a\u62a5\u9519\nmake clean\nmake -j4 CROSS_COMPILE=../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu- prepare\nmake -j4 CROSS_COMPILE=../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu- scripts\n\n#\u6b63\u5f0f\u7f16\u8bd1 ko \u6587\u4ef6\nmake -j4 CROSS_COMPILE=../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu- -C . M=drivers/media/v4l2-core modules\nmake -j4 CROSS_COMPILE=../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu- -C . M=drivers/media/usb/uvc modules\nmake -j4 CROSS_COMPILE=../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu- -C . M=drivers/usb/serial modules\n</code></pre> <p>\u7f16\u8bd1\u540e\u53ef\u4ee5\u5728\u5bf9\u5e94\u6e90\u7801\u76ee\u5f55\u5f97\u5230\u4ee5\u4e0b\u6587\u4ef6\u3002\u9a8c\u8bc1\u901a\u8fc7\u540e\u5c06\u8fd9\u4e9b\u6587\u4ef6\u90fd\u653e\u5165\u7fa4\u6656 NAS \u7684 <code>/lib/modules</code> \u76ee\u5f55\u4e0b\uff0c\u6267\u884c <code>sudo depmod -a</code> \u547d\u4ee4\u5237\u65b0\uff0c\u624b\u52a8\u52a0\u8f7d\u5bf9\u5e94\u9a71\u52a8\u6216\u8005\u91cd\u542f\u4e00\u4e0b NAS\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u6548\u679c\uff0c\u8fde\u63a5\u7684 USB \u5916\u8bbe\u90fd\u8bc6\u522b\u4e86\u3002</p> <pre><code>videodev.ko\nvideobuf2-core.ko\nv4l2-common.ko\nvideobuf2-v4l2.ko\nvideobuf2-memops.ko\nvideobuf2-vmalloc.ko\nuvcvideo.ko\nch341.ko\n</code></pre> <p></p>"},{"location":"start_install/synology_ko/#_4","title":"\u53c2\u8003","text":"<p>\u642d\u5efa\u7fa4\u6656 Synology NAS \u5f00\u53d1\u73af\u5883\uff0c\u81ea\u7f16\u8bd1\u7f51\u5361\u7b49\u9a71\u52a8 - VirCloud's Blog - Learning&amp;Sharing</p>"},{"location":"start_install/virtualmachine_install/","title":"\u865a\u62df\u673a\u90e8\u7f72","text":""},{"location":"start_install/virtualmachine_install/#_1","title":"\u5f00\u59cb","text":"<p>\u865a\u62df\u673a One-KVM \u6574\u5408\u5305\u4e3a\u9884\u88c5\u4e86 One-KVM \u7684\u865a\u62df\u673a\u78c1\u76d8\u6587\u4ef6\uff0c\u4f7f\u7528\u865a\u62df\u673a\u78c1\u76d8\u6587\u4ef6\u65b0\u5efa\u865a\u62df\u673a\u540e\u76f4\u901a USB \u8bbe\u5907\u540e\u5373\u53ef\u4f7f\u7528 One-KVM\u3002\u4e0b\u9762\u4ee5 Vmare \u4e3a\u4f8b\u8bf4\u660e One-KVM \u865a\u62df\u673a\u6574\u5408\u5305\u7684\u8be6\u7ec6\u4f7f\u7528\u65b9\u6cd5\uff0cVirtualBox \u7684\u64cd\u4f5c\u65b9\u6cd5\u5927\u540c\u5c0f\u5f02\u3002</p> <p>\u6240\u9700\u8f6f\u4ef6\uff1aVmare \u6216 VirtualBox</p> <p>\u6240\u9700\u5916\u8bbe\uff1aUSB HDMI \u91c7\u96c6\u5361\u3001CH340+CH9329 USB \u4e00\u4f53\u7ebf</p> <p>\u865a\u62df\u673a\u6700\u4f4e\u914d\u7f6e\uff1a1\u6838\u5fc3\u3001512M \u5185\u5b58</p>"},{"location":"start_install/virtualmachine_install/#vmare","title":"Vmare","text":""},{"location":"start_install/virtualmachine_install/#_2","title":"\u65b0\u5efa\u865a\u62df\u673a","text":"<p>\u5148\u89e3\u538b\u597d\u78c1\u76d8\u6587\u4ef6\u5907\u7528\uff0c\u6253\u5f00 VMware Workstation Pro \u8f6f\u4ef6\u4e3b\u754c\u9762\uff0c\u9009\u62e9 \u6587\u4ef6(F) --&gt; \u65b0\u5efa\u865a\u62df\u673a(N)\uff0c\u5728\u5f39\u51fa\u6765\u7684\u65b0\u5efa\u865a\u62df\u673a\u5411\u5bfc\u4e2d\u9009\u62e9 \u81ea\u5b9a\u4e49(\u9ad8\u7ea7)(C) \u5e76\u70b9\u51fb\u4e0b\u4e00\u6b65\u3002\u517c\u5bb9\u6027\u4fdd\u6301\u9ed8\u8ba4\u5c31\u597d\uff0c\u6ca1\u6709\u7279\u6b8a\u9700\u6c42\u65e0\u9700\u8c03\u6574\uff0c\u518d\u6b21\u9009\u62e9\u70b9\u51fb\u4e0b\u4e00\u6b65\u3002</p> <p></p> <p></p> <p>\u9009\u62e9 \u7a0d\u540e\u5b89\u88c5\u7cfb\u7edf\uff0c\u70b9\u51fb\u4e0b\u4e00\u6b65\uff0c\u5ba2\u6237\u673a\u64cd\u4f5c\u7cfb\u7edf\u9009\u62e9 Linux(L)\uff0c\u518d\u6b21\u70b9\u51fb\u4e0b\u4e00\u6b65\uff0c\u586b\u5165\u4e00\u4e2a\u5408\u9002\u7684\u540d\u79f0\u9009\u62e9\u865a\u62df\u673a\u5b58\u6587\u4ef6\u5b58\u653e\u4f4d\u7f6e\uff0c\u518d\u6b21\u70b9\u51fb\u4e0b\u4e00\u6b65\u3002</p> <p></p> <p></p> <p></p> <p>\u5904\u7406\u5668\u914d\u7f6e\u548c\u865a\u62df\u673a\u5185\u5b58\u91cf\u6309\u9700\u9009\u62e9\uff0c\u6700\u4f4e1\u6838\u5fc3\u3001512 M\u5185\u5b58\u3002\u865a\u62df\u673a\u7f51\u7edc\u8fde\u63a5\u540c\u6837\u6309\u9700\u9009\u62e9\uff0c\u63a8\u8350\u6865\u63a5\u6a21\u5f0f\uff08\u4e0e\u5bbf\u4e3b\u673a\u5904\u4e8e\u540c\u4e00\u5c40\u57df\u7f51\uff0c\u51cf\u5c11\u989d\u5916\u7aef\u53e3\u8f6c\u53d1\uff09\u3002I/O \u63a7\u5236\u5668\u548c\u865a\u62df\u78c1\u76d8\u7c7b\u578b\u7c7b\u578b\u4fdd\u6301\u9ed8\u8ba4\u5c31\u597d\u3002</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>\u9009\u62e9\u78c1\u76d8\u65f6\u9009\u62e9 \u4f7f\u7528\u73b0\u6709\u865a\u62df\u78c1\u76d8(E)\uff0c\u5728\u4e0b\u4e00\u6b65\u9009\u4e2d\u89e3\u538b\u597d\u7684\u78c1\u76d8\u6587\u4ef6\uff0c\u78c1\u76d8\u683c\u5f0f\u4fdd\u6301\u73b0\u6709\u683c\u5f0f\u3002\u5728\u4e0b\u4e00\u6b65\u4e2d\u9009\u62e9\u5b8c\u6210\uff08\u8fd9\u65f6\u4e0d\u8981\u7740\u6025\u542f\u52a8\uff0c\u8fd8\u6709\u4fee\u6539\u865a\u62df\u673a\u5176\u5b83\u8bbe\u7f6e\uff09\u3002</p> <p></p> <p></p> <p></p>"},{"location":"start_install/virtualmachine_install/#_3","title":"\u4fee\u6539\u865a\u62df\u673a\u8bbe\u7f6e","text":"<p>\u865a\u62df\u673a\u4e3b\u9875\u9009\u62e9 \u7f16\u8f91\u865a\u62df\u673a\u8bbe\u7f6e\uff0c\u5c06 USB \u63a7\u5236\u5668 \u7684 USB\u517c\u5bb9\u6027(C) \u5c5e\u6027\u503c\u4fee\u6539\u4e3a USB 3.1\u3002\u8fdb\u5165\u5c5e\u6027\u754c\u9762\uff0c\u9009\u62e9\u9ad8\u7ea7\uff0c\u5c06\u56fa\u4ef6\u7c7b\u578b\u4fee\u6539\u4e3a UEFI(E)\uff0c\u6700\u540e\u5355\u51fb\u786e\u5b9a\u3002\u4e3a\u542f\u7528\u4e86  Hyper-V \u7684\u4e3b\u673a\u7981\u7528\u4fa7\u901a\u9053\u7f13\u89e3(S) \u9009\u9879\u6253\u52fe\u53ef\u4ee5\u51cf\u5c11\u865a\u62df\u6027\u80fd\u635f\u5931\uff0c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u6309\u9700\u52fe\u9009\u5373\u53ef \u3002</p> <p></p> <p></p>"},{"location":"start_install/virtualmachine_install/#_4","title":"\u542f\u52a8\u865a\u62df\u673a","text":"<p>\u5b8c\u6210\u4e0a\u8ff0\u8bbe\u7f6e\u5c31\u53ef\u4ee5\u542f\u52a8\u865a\u62df\u673a\u4e86\u3002\u5c06 USB HDMI \u91c7\u96c6\u5361\u3001CH340+CH9329 USB \u4e00\u4f53\u7ebf \u8fde\u63a5\u81f3\u5bbf\u4e3b\u673a\uff0c\u542f\u52a8\u865a\u62df\u673a\u540e\u5c06\u8fd9\u4e24\u4e2a USB \u8bbe\u5907\u76f4\u901a\u7ed9\u865a\u62df\u673a\u5c31\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528 One-KVM \u4e86\u3002</p> <p></p> <p></p>"},{"location":"start_install/virtualmachine_install/#_5","title":"\u4f7f\u7528","text":"<p>\u5728\u6d4f\u89c8\u5668\u8bbf\u95ee\u865a\u62df\u673a IP \u5373\u53ef\u8fdb\u5165 WEB \u754c\u9762\u3002\u9996\u6b21\u8bbf\u95ee\u9700\u8981\u4fe1\u4efb\u81ea\u7b7e\u8bc1\u4e66\uff0c\u70b9\u51fb\u6d4f\u89c8\u5668\u9ad8\u7ea7\u9009\u62e9\u7ee7\u7eed\u8bbf\u95ee\u3002One-KVM WEB \u9ed8\u8ba4\u8d26\u53f7\u5bc6\u7801\u4e3a admin/admin\u3002</p> <p></p> <p></p> <p></p>"},{"location":"start_install/virtualmachine_install/#_6","title":"\u5176\u4ed6","text":"<p>\u5982\u679c Vmare \u865a\u62df\u673a\u7f51\u7edc\u4f7f\u7528\u6865\u63a5\u6a21\u5f0f\u6ca1\u6709 IP \u5206\u914d\uff0c\u53ef\u80fd\u662f\u865a\u62df\u673a\u81ea\u52a8\u6865\u63a5\u7ed1\u5b9a\u4e86\u9519\u8bef\u7684\u7f51\u5361\uff0c\u53ef\u4ee5\u5728\u865a\u62df\u673a\u7f51\u7edc\u7f16\u8f91\u5668\u4fee\u6539\u8981\u6865\u63a5\u7684\u7f51\u5361\u3002</p> <p></p>"},{"location":"en/","title":"Introduction","text":""},{"location":"en/#project-overview","title":"Project Overview","text":"<p>One-KVM is a BIOS-level remote control project built on affordable computer hardware and a secondary development of the PiKVM software. It enables remote management of servers or workstations without installing any software on the target machine, achieving non-intrusive control with a broad range of applicability.</p> <ul> <li> <p> Fast Installation</p> <p>Deploy instantly using Docker or prebuilt integrated images; ready out of the box</p> </li> <li> <p> Non-intrusive Control</p> <p>No software required on the controlled host; truly non-intrusive control</p> </li> <li> <p> Feature-rich</p> <p>KVM remote control, ATX power management, USB virtual peripherals, VNC, H.264/WebRTC, etc.</p> </li> <li> <p> Open Source</p> <p>Based on PiKVM and released on GitHub under GPLv3</p> </li> </ul>"},{"location":"en/#live-demo","title":"Live Demo","text":"<p>Demo site: https://kvmd-demo.mofeng.run</p> <p></p>"},{"location":"en/#support","title":"Support","text":"<p>Bug reports, discussions, and free technical support</p> <ul> <li>GitHub Issues: https://github.com/mofeng-git/One-KVM/issues</li> <li>QQ Group: 569514148</li> </ul> <p>Prebuilt Hardware Kits</p> <p>The author currently does not sell any hardware kits due to limited time. If needed, you can deploy it yourself or purchase ready-made products from other vendors.</p> <p>YuanFang is a long-term sponsor. If you need a prebuilt kit, you can also check out his shop (Xianyu username: \u5c0f\u8fdc\u6280\u672f\u5e97\u94fa).</p>"},{"location":"en/#downloads","title":"Downloads","text":"<p>High-speed download (no login): https://pan.huang1111.cn/s/mxkx3T1 (sponsored by Huang1111 Public Welfare Program)</p> <p>Baidu Netdisk (login required): https://pan.baidu.com/s/166-2Y8PBF4SbHXFkGmFJYg?pwd=o9a</p>"},{"location":"en/#sponsorship","title":"Sponsorship","text":"<p>If One-KVM is helpful to you, consider sponsoring the author to support continuous development and maintenance of this project.</p> <p>Afdian</p>"},{"location":"en/#project-status","title":"Project Status","text":""},{"location":"en/prepare/","title":"Read First","text":""},{"location":"en/prepare/#working-principle","title":"Working Principle","text":""},{"location":"en/prepare/#features","title":"Features","text":"<p>The table compares One-KVM with other projects based on PiKVM. It is for reference only and not intended to mislead. Please contact us to correct any mistakes.</p> Feature One-KVM PiKVM ArmKVM BLIKVM Open-source OS \u221a \u221a \u221a \u221a Simplified Chinese UI \u221a x \u221a \u221a Remote video stream MJPEG/H.264 MJPEG/H.264 MJPEG/H.264 MJPEG/H.264 H.264 encoding CPU GPU Unknown GPU Remote audio \u221a \u221a \u221a \u221a Remote mouse/keyboard OTG/CH9329 OTG/CH9329/Pico/Bluetooth OTG OTG VNC control \u221a \u221a \u221a \u221a ATX power control GPIO/USB relay GPIO GPIO GPIO Virtual storage mounting \u221a \u221a \u221a \u221a CD-ROM images &gt; 2.2G x x \u221a \u221a WOL wake-up \u221a \u221a \u221a \u221a Web clipboard \u221a \u221a \u221a \u221a OCR recognition \u221a \u221a \u221a \u221a Web terminal \u221a \u221a \u221a \u221a Network serial terminal x x \u221a \u221a HDMI switch support \u221a \u221a \u221a \u221a Video recording \u221a x x x Docker deployment \u221a x x x Official hardware kits x \u221a \u221a \u221a Tech support \u221a \u221a \u221a \u221a"},{"location":"en/prepare/#supported-platforms","title":"Supported Platforms","text":"<ul> <li>Architecture: x86_64, ARMv7, ARM64</li> <li>Platform: Docker</li> <li>Hardware: USB UVC capture card, CH9329 + CH340 or OTG port</li> </ul> Integrated image compatibility (Click model name for details) Model Codename Hardware Latest Status OneCloud (\u73a9\u5ba2\u4e91) Onecloud USB capture, OTG 241214 Updating Cumebox 2 (\u79c1\u5bb6\u4e91\u4e8c\u4ee3) Cumebox2 USB capture, OTG 241214 Updating VMware Vmare-uefi USB capture, CH9329 241214 Updating VirtualBox Virtualbox-uefi USB capture, CH9329 241214 Updating s905l3a (General) E900v22c USB capture, OTG 241214 Updating ChainedBox (\u6211\u5bb6\u4e91) Chainedbox USB capture, OTG 241214 Updating Loongson 2K0300 (\u9f99\u82af\u4e45\u4e45\u6d3e) 2k0300 USB capture, CH9329 241025 EOL USB capture card compatibility Model/Chipset USB Linux One-KVM Usage MS2109 USB2.0 \u221a \u221a Recommended MS2130 USB3.0 \u221a \u221a Recommended MS2131 USB3.0 \u221a \u221a Recommended TengFei TFDGK05 USB2.0 \u221a \u00d7 / Maituo Matrix MT-UH02 USB2.0 \u00d7 \u00d7 /"},{"location":"en/prepare/#downloads","title":"Downloads","text":"<p>Huang1111 WebDAV (high-speed, no login): https://webdav.huang1111.cn/s/e0Yfl</p> <p>Baidu Netdisk (login required): https://pan.baidu.com/s/166-2Y8PBF4SbHXFkGmFJYg?pwd=o9a</p>"},{"location":"en/thanks/","title":"Thanks","text":""},{"location":"en/thanks/#sponsorship","title":"Sponsorship","text":"<p>If One-KVM is helpful to you, consider sponsoring the author to support continuous development and maintenance of this project.</p> <p>Afdian</p>"},{"location":"en/thanks/#acknowledgements","title":"Acknowledgements","text":"<ul> <li>\u6d69\u9f99\u7684\u7535\u5b50\u5d4c\u5165\u5f0f\u4e4b\u8def</li> <li>Tsuki</li> <li>\u8dc3/mg\u5b50\uff1a</li> <li>Doo</li> <li>\u5b75\u5316\u718a</li> <li>H_xiaoming</li> <li>0\u84dd\u84dd0</li> <li>fairybl</li> <li>Will</li> <li>\u81ea.\u77e5</li> <li>\u89c2\u68cb\u4e0d\u8bed\u0669 \u0f72\u06f6</li> <li>\u6d69\u9f99\u7684\u7535\u5b50\u5d4c\u5165\u5f0f\u4e4b\u8def</li> <li>\u7231\u53d1\u7535\u7528\u6237_a57a4</li> <li>\u7231\u53d1\u7535\u7528\u6237_2c769</li> <li>\u971c\u5e8f</li> <li>\u8fdc\u65b9 \uff08\u95f2\u9c7c\u7528\u6237\u540d\uff1a\u5c0f\u8fdc\u6280\u672f\u5e97\u94fa\uff09</li> <li>\u7231\u53d1\u7535\u7528\u6237_399fc</li> <li>\u6590\u6590\u306e</li> <li>\u7231\u53d1\u7535\u7528\u6237_09451</li> <li>\u8d85\u9ad8\u6821\u7ea7\u7684\u9306\u9c7c</li> <li>\u7231\u53d1\u7535\u7528\u6237_08cff</li> <li>guoke</li> <li>mgt</li> <li>\u59dc\u6ca2\u63b5</li> <li>ui_beam</li> <li>\u7231\u53d1\u7535\u7528\u6237_c0dd7</li> <li>\u7231\u53d1\u7535\u7528\u6237_dnjK</li> <li>\u5fcd\u8005\u80d6\u732a</li> <li>\u6c38\u9060\u306e\u9858\u3044</li> <li>\u7231\u53d1\u7535\u7528\u6237_GBrF</li> <li>\u7231\u53d1\u7535\u7528\u6237_fd65c</li> <li>\u7231\u53d1\u7535\u7528\u6237_vhNa</li> <li>\u7231\u53d1\u7535\u7528\u6237_Xu6S</li> <li>moss</li> <li>woshididi</li> <li>\u7231\u53d1\u7535\u7528\u6237_a0fd1</li> <li>......</li> </ul>"},{"location":"en/thanks/#open-source-projects-used","title":"Open-source Projects Used","text":"<ol> <li>GitHub - pikvm/pikvm: Open and inexpensive DIY IP-KVM based on Raspberry Pi</li> <li>GitHub - hzyitc/armbian-onecloud: Armbian for onecloud. \u73a9\u5ba2\u4e91\u7528armbian</li> <li>GitHub - jacobbar/fruity-pikvm: Install Pi-KVM on debian SBCs such as Orange Pi, Banana Pi, Mango Pi, debian SBCs such as Orange Pi, Banana Pi, Mango Pi, etc</li> <li>kvmd-armbian/install.sh at master \u00b7 srepac/kvmd-armbian</li> </ol>"},{"location":"en/advanced_using/2fa/","title":"2FA Two-Factor Authentication","text":""},{"location":"en/advanced_using/2fa/#enable-2fa","title":"Enable 2FA","text":"<p>Two-Factor Authentication (2FA) is an extra layer of security for logging into websites or apps. When 2FA is enabled, you must log in with your username and password, and also provide a Time-based One-Time Password (TOTP).</p> <p>First, log into the One-KVM terminal, switch to the root account, and run <code>kvmd-totp init</code> to generate a TOTP secret.</p> <pre><code># View PiKVM 2FA command help\nkvmd-totp -h\n\n# Generate a 2FA secret and enable 2FA\nkvmd-totp init\n\n# Show existing secrets\nkvmd-totp show\n\n# Delete all secrets and disable 2FA\nkvmd-totp del\n</code></pre> <p></p> <p>For Android devices, you can use your preferred 2FA app such as Google Authenticator. As features are quite similar across apps, here we use the Authing Token app as an example. First scan the QR code or manually enter the secret to add it, then when logging into the PiKVM web UI, enter the additional 6-digit one-time password.</p> <p></p>"},{"location":"en/advanced_using/appearances/","title":"Appearance Themes","text":"<p>All static web content resides at <code>/usr/share/kvmd/web/</code> (source path: <code>/web/</code>).</p>"},{"location":"en/advanced_using/appearances/#icons","title":"Icons","text":"<p>To replace the Logo or other icons, replace files under <code>/usr/share/kvmd/web/share/</code> (source path: <code>/web/share/</code>). For example, <code>svg/logo.svg</code> is the application logo.</p>"},{"location":"en/advanced_using/appearances/#color-themes","title":"Color themes","text":"<p>To customize the web UI theme, edit <code>/usr/share/kvmd/web/share/css/user.css</code> and add your CSS color variables to achieve the desired palette.</p> <p>Below are some palette examples that you can adjust as needed.</p> Light <pre><code>:root {\n    /* Page */\n    --cs-page-default-bg: #ffffff;\n    --cs-page-default-fg: #1e293b;\n    --cs-page-obscure-fg: #64748b;\n\n    /* Controls */\n    --cs-control-default-bg: #f1f5f9;\n    --cs-control-default-fg: #0f172a;\n    --cs-control-intensive-fg: #ffffff;\n    --cs-control-hovered-bg: #e2e8f0;\n    --cs-control-hovered-fg: #0f172a;\n    --cs-control-pressed-bg: #cbd5e1;\n    --cs-control-pressed-fg: #0f172a;\n    --cs-control-disabled-fg: #94a3b8;\n    /* Navbar */\n    --cs-navbar-default-bg: #e2e8f0;\n    --cs-navbar-default-fg: #0f172a;\n    --cs-navbar-item-hovered-bg: #cbd5e1;\n    --cs-navbar-item-pressed-bg: #94a3b8;\n\n    /* Windows */\n    --cs-window-default-bg: #f8fafc;\n    --cs-window-default-fg: #0f172a;\n    --cs-window-header-default-fg: #0f172a;\n    --cs-window-header-grabbed-bg: #2563eb;\n    --cs-window-header-grabbed-fg: #ffffff;\n    --cs-window-closer-default-fg: #64748b;\n    /* Code block */\n    --cs-code-default-bg: #f1f5f9;\n    --cs-code-default-fg: #0f172a;\n    --cs-code-comment-fg: #475569;\n\n    /* Scrollbar */\n    --cs-scroll-default-bg: #cbd5e1;\n    --cs-thumb-default-bg: #2563eb;\n    --cs-thumb-disabled-bg: #94a3b8;\n\n    /* Progress */\n    --cs-progress-default-bg: #e2e8f0;\n    --cs-progress-default-fg: #0f172a;\n    --cs-progress-bar-bg: #2563eb;\n\n    /* Keys */\n    --cs-key-default-bg: #f1f5f9;\n    --cs-key-default-fg: #0f172a;\n    --cs-key-hovered-bg: #cbd5e1;\n    --cs-key-hovered-fg: #0f172a;\n    --cs-key-pressed-bg: #94a3b8;\n    --cs-key-pressed-fg: #1e293b;\n    --cs-key-holded-bg: #3b82f6;\n    /* Decorations */\n    --cs-marker-fg: #0f172a;\n    --cs-corner-bg: #2563eb;\n\n    /* Shadows */\n    --shadow-micro: 01px 2px rgba(0, 0, 0, 0.06);\n    --shadow-small: 02px 4px rgba(0, 0, 0, 0.1);\n    --shadow-big: 06px 12px rgba(15, 23, 42, 0.12);\n    --shadow-navbar-item-pressed: 0 2px 0#2563eb inset;\n    --shadow-window-fullscreen-active: 00 0 2px #2563ebinset;\n\n    /* Borders */\n    --border-default-thin: thin solid #cbd5e1;\n    --border-default-2px: 2px solid #cbd5e1;\n    --border-hovered-2px: 2px solid #2563eb;\n    --border-navbar-item-thin: thin solid #94a3b8;\n    --border-control-thin: thinsolid #cbd5e1;\n    --border-key-thin: thin solid #cbd5e1;\n}\n</code></pre> <p></p> <p></p> <p></p> Dark <pre><code>:root {\n    /* Page */\n    --cs-page-default-bg: #1a1b1e;\n    --cs-page-default-fg: #e2e8f0;\n    --cs-page-obscure-fg: #94a3b8;\n\n    /* Controls */\n    --cs-control-default-bg: #2a2b2f;\n    --cs-control-default-fg: #e2e8f0;\n    --cs-control-intensive-fg: #ffffff;\n    --cs-control-hovered-bg: #3a3b3f;\n    --cs-control-hovered-fg: #ffffff;\n    --cs-control-pressed-bg: #454750;\n    --cs-control-pressed-fg: #ffffff;\n    --cs-control-disabled-fg: #64748b;\n    /* Navbar */\n    --cs-navbar-default-bg: #141517;\n    --cs-navbar-default-fg: #e2e8f0;\n    --cs-navbar-item-hovered-bg: #2a2b2f;\n    --cs-navbar-item-pressed-bg: #3a3b3f;\n\n    /* Windows */\n    --cs-window-default-bg: #222326;\n    --cs-window-default-fg: #e2e8f0;\n    --cs-window-header-default-fg: #e2e8f0;\n    --cs-window-header-grabbed-bg: #3b82f6;\n    --cs-window-header-grabbed-fg: #ffffff;\n    --cs-window-closer-default-fg: #94a3b8;\n\n    /* Code block */\n    --cs-code-default-bg: #1a1b1e;\n    --cs-code-default-fg: #e2e8f0;\n    --cs-code-comment-fg: #94a3b8;\n\n    /* Scrollbar */\n    --cs-scroll-default-bg: #2a2b2f;\n    --cs-thumb-default-bg: #3b82f6;\n    --cs-thumb-disabled-bg: #454750;\n\n    /* Progress */\n    --cs-progress-default-bg: #2a2b2f;\n    --cs-progress-default-fg: #e2e8f0;\n    --cs-progress-bar-bg: #3b82f6;\n\n    /* Keys */\n    --cs-key-default-bg: #2a2b2f;\n    --cs-key-default-fg: #e2e8f0;\n    --cs-key-hovered-bg: #3a3b3f;\n    --cs-key-hovered-fg: #ffffff;\n    --cs-key-pressed-bg: #454750;\n    --cs-key-pressed-fg: #94a3b8;\n    --cs-key-holded-bg: #3b82f6;\n    /* Decorations */\n    --cs-marker-fg: #e2e8f0;\n    --cs-corner-bg: #3b82f6;\n\n    /* Shadows */\n    --shadow-micro: 0 1px 2px rgba(0, 0, 0, 0.3);\n    --shadow-small: 02px 4px rgba(0, 0, 0, 0.4);\n    --shadow-big: 08px 16px rgba(0, 0, 0, 0.5);\n    --shadow-navbar-item-pressed: 0 2px 0 #3b82f6 inset;\n    --shadow-window-fullscreen-active: 0 0 0 2px #3b82f6 inset;\n\n    /* Borders */\n    --border-default-thin: thin solid #454750;\n    --border-default-2px: 2pxsolid #454750;\n    --border-hovered-2px: 2px solid #3b82f6;\n    --border-navbar-item-thin: thin solid #2a2b2f;\n    --border-control-thin: thin solid #454750;\n    --border-key-thin: thin solid #454750;\n}\n</code></pre> <p></p> <p></p> <p></p> Default (Dark Gray) <pre><code>:root {\n    --cs-page-default-bg: #36393f;\n    --cs-page-default-fg: #c3c3c3;\n    --cs-page-obscure-fg: #6c7481;\n\n    --cs-control-default-bg: #36393f;\n    --cs-control-default-fg: #c3c3c3;\n    --cs-control-intensive-fg: white;\n    --cs-control-hovered-bg: #2a2d31;\n    --cs-control-hovered-fg: white;\n    --cs-control-pressed-bg: #17191d;\n    --cs-control-pressed-fg: #6c7481;\n    --cs-control-disabled-fg: #6c7481;\n\n    --cs-navbar-default-bg: #202225;\n    --cs-navbar-default-fg: #c3c3c3;\n    --cs-navbar-item-hovered-bg: #1a1c1f;\n    --cs-navbar-item-pressed-bg: #171717;\n\n    --cs-window-default-bg: #484b51;\n    --cs-window-default-fg: #c3c3c3;\n    --cs-window-header-default-fg: #aaaaaa;\n    --cs-window-header-grabbed-bg: #436a8a;\n    --cs-window-header-grabbed-fg: white;\n    --cs-window-closer-default-fg: #6c7481;\n\n    --cs-code-default-bg: #17191d;\n    --cs-code-default-fg: #aaaaaa;\n    --cs-code-comment-fg: #6c7481;\n\n    --cs-scroll-default-bg: #6c7481;\n    --cs-thumb-default-bg: #436a8a;\n    --cs-thumb-disabled-bg: #202225;\n\n    --cs-progress-default-bg: #171717;\n    --cs-progress-default-fg: white;\n    --cs-progress-bar-bg: #436a8a;\n\n    --cs-key-default-bg: #3b3e43;\n    --cs-key-default-fg: #c3c3c3;\n    --cs-key-hovered-bg: #2a2d31;\n    --cs-key-hovered-fg: white;\n    --cs-key-pressed-bg: #17191d;\n    --cs-key-pressed-fg: #6c7481;\n    --cs-key-holded-bg: #436a8a;\n\n    --cs-marker-fg: #5b90bb;\n    --cs-corner-bg: #5b90bb;\n\n    --shadow-micro: 1px 2px 4px 0 rgba(0, 0, 0, 0.4);\n    --shadow-small: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\n    --shadow-big: 0 8px 16px 0 rgba(0, 0, 0, 0.4);\n    --shadow-navbar-item-pressed: 0 5px 0 #5b90bb inset;\n    --shadow-window-fullscreen-active: 0 0 0 2px #5b90bb inset;\n\n    --border-default-thin: thin solid #36393f;\n    --border-default-2px: 2px solid #36393f;\n    --border-hovered-2px: 2px solid #2a2d31;\n    --border-navbar-item-thin: thin solid black;\n    --border-control-thin: thin solid #17191d;\n    --border-key-thin: thin solid #202225;\n    --border-intensive-2px: 2px solid #5b90bb;\n    --border-intensive-thin: thin solid #5b90bb;\n\n    --border-window-default-2px: 2px solid #282a2e;\n    --border-window-active-2px: 2px solid #5b90bb;\n    --border-window-default-thin: thin solid #17191d;\n\n    --border-navbar-menu-default-2px: 2px solid black;\n    --border-navbar-menu-active-2px: 2px solid #5b90bb;\n    --border-menu-item-content-top-thin: thin solid #17191d;\n}\n</code></pre> <p></p> <p></p> <p></p>"},{"location":"en/advanced_using/auth/#authentication","title":"Authentication","text":""},{"location":"en/advanced_using/ipmi/#ipmi-and-redfish-integration","title":"IPMI and Redfish Integration","text":""},{"location":"en/advanced_using/kvm_switch/","title":"KVM Switch","text":"<p>Hotkey Switching</p> <p>Hardware requirements: A KVM switch that supports hotkey control. The example below uses AIMOS AM-KM202.</p> <p></p> <p>Connect the hardware as shown. You can switch the video feed and USB control via hotkeys (virtual keyboard shortcuts) on the web page to achieve one-to-many control.</p> <p></p> <p>Demo video: </p> <p>GPIO Switching</p> <p>Warning</p> <p>Tested only on OneCloud and provided for reference; not guaranteed to work in all cases.</p> <p>Use OneCloud GPIO to control the KVM switch and implement one-to-many control in One-KVM.</p> <p>Hardware requirements: A KVM switch that supports IR/audio jack control. Connect the audio cable.</p> <p>Quick method: Strip the audio cable and measure the corresponding voltage. Connect the line with a high level to OneCloud GPIO-420. Then trigger a level change on GPIO-420 from the ATX Power Management menu on the web UI to control the KVM switch, thereby enabling one-to-many control from the One-KVM web UI.</p> <p></p>"},{"location":"en/advanced_using/loop_out/","title":"HDMI Loop-out","text":""},{"location":"en/advanced_using/loop_out/#hdmi-loop-out","title":"HDMI Loop-out","text":"<p>This feature uses the device's own display interface to output the video captured by the USB capture card.</p>"},{"location":"en/advanced_using/loop_out/#usage","title":"Usage","text":"<p>The latest package One-KVM_Armbian_by-SilentWind_for-Onecloud_24.6.18 has this feature pre-installed. Older versions do not (you can install it manually; see the guide below). The <code>kvmd-display</code> service is disabled by default to avoid impacting other services. If needed, enable it manually:</p> <pre><code># Uncomment the \u201c#forever: true\u201d option and apply\nsudo nano /etc/kvmd/override.yaml\nsudo systemctl restart kvmd\n# Start kvmd-display\nsudo systemctl start display\n# Enable kvmd-display at boot\nsudo systemctl enable kvmd-display\n</code></pre> <p></p> <p></p>"},{"location":"en/advanced_using/loop_out/#installation","title":"Installation","text":"<pre><code># This feature is not installed by default; run kvmd_display_install.sh to enable it\ngit clone --depth=1 https://github.com/mofeng-git/One-KVM.git\ncd One-KVM \nsudo bash kvmd_display_install.sh\n\n# Stop the kvmd-display service\nsudo systemctl stop kvmd-display\nsudo systemctl disable kvmd-display\n</code></pre>"},{"location":"en/advanced_using/on_start_config/#startup-script","title":"Startup Script","text":"<p>This is the OneCloud startup script located at <code>/etc/rc.local</code>.</p> <pre><code>root@onecloud:~# cat /etc/rc.local\n#!/bin/bash\n\n# Set OneCloud front-panel LED to green\necho \"default-on\" &gt;/sys/class/leds/onecloud\\:green\\:alive/trigger\necho \"none\" &gt;/sys/class/leds/onecloud\\:red\\:alive/trigger\necho \"none\" &gt;/sys/class/leds/onecloud\\:blue\\:alive/trigger\n\n# Lock CPU frequency to avoid ustreamer frame disorder causing random black screens\n# You may raise or overclock based on `cpufreq-info` output if needed\ncpufreq-set -d 1200MHz -u 1200MHz\n\n# Start kvmd after locking frequency so all services run at a static CPU frequency\nsystemctl disable kvmd &amp;&amp; systemctl stop kvmd\nsystemctl start kvmd\n\n# Set OTG port to device mode\necho device &gt; /sys/class/usb_role/c9040000.usb-role-switch/role\n\n# Exit script\nexit 0\n</code></pre>"},{"location":"en/advanced_using/vnc/","title":"VNC Connection","text":""},{"location":"en/advanced_using/vnc/#vnc-connection","title":"VNC Connection","text":"<p>In addition to the Web UI, you can access PiKVM using a regular VNC client. Compared to a browser, VNC has the advantage of true full-screen display and can fully intercept all keyboard shortcuts. In some scenarios, VNC may respond faster than a browser, especially on low-performance client machines. Note that VNC performance on PiKVM is not comparable to a typical VNC server or OS-level remote access tools.</p> <p>Warning</p> <p>Do not use VNC without X.509 or TLS encryption on untrusted networks! Otherwise, your password will travel over the network in plain text \u2014 this is an inherent limitation of the VNC protocol\u2019s legacy implementations.</p> <p>Unsupported clients</p> <p>Unsupported clients: RealVNC \u2014 does not support many widely used open VNC protocol extensions; Remmina \u2014 minor algorithm mismatches with the server; being improved; Guacamole \u2014 incorrect vencrypt implementation; no JPEG compression support; Vinagre \u2014 incorrect vencrypt implementation; tends to crash.</p>"},{"location":"en/advanced_using/vnc/#windows","title":"Windows","text":"<p>For Windows, you can use UVNC and TigerVNC (downloadable from the shared drive: /\u73a9\u5ba2\u4e91/PiKVM\u76f8\u5173\u8f6f\u4ef6/). Below is a UVNC example.</p> <p></p>"},{"location":"en/advanced_using/vnc/#android","title":"Android","text":"<p>For Android, the two open-source apps AVNC and bVNC Pro are recommended. Both support touchscreen and touchpad gestures. For AVNC, do not use the default security setting; change the security type to Vncauth to connect to PiKVM VNC correctly.</p> <p></p> <p></p>"},{"location":"en/advanced_using/vnc/#ios","title":"iOS","text":"<p>For Apple iOS, you can use the paid app bVNC.</p>"},{"location":"en/advanced_using/vnc/#vncauth-authentication","title":"VNCAuth Authentication","text":"<p>For VNC clients that use VNCAuth (i.e., password-only without a username), if you change the PiKVM web account password, this auth mapping file will not be updated automatically. You must manually edit <code>/etc/kvmd/vncpasswd</code> to add a mapping. The format is \"Custom VNC Password -&gt; WEB_Account:WEB_Password\". Example:</p> <p></p>"},{"location":"en/advanced_using/webterm/","title":"Webterm Web Terminal","text":""},{"location":"en/advanced_using/webterm/#notes","title":"Notes","text":"<p>The default login account for the web terminal is <code>kvmd-webterm</code>. For security reasons, this user cannot use <code>sudo</code>. If you need to run commands requiring root privileges, run <code>su root</code> to switch to the root account first.</p> <p></p>"},{"location":"en/advanced_using/wol/","title":"Wake-on-LAN (WOL)","text":"<p>WOL (Wake On LAN) enables powering on a machine over the network when supported by the target (some machines may have it disabled by default and require manual enabling). Refer to official guides for more details.</p>"},{"location":"en/advanced_using/wol/#enable-wol","title":"Enable WOL","text":"Docker deployment notes for WOL <p>When deploying with Docker, use <code>--network host</code>; otherwise, WOL may not work. If you are currently using <code>-p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623</code>, replace them with <code>--network host</code>. On multi-NIC devices (e.g., OpenWrt routers) when deploying Docker, specify the broadcast address for the LAN where the target host resides (e.g., 192.168.100.255). Otherwise, WOL packets broadcast to 255.255.255.255 may be routed to the wrong interface due to NIC priority differences.</p> <p>There are two configuration methods; choose one.</p> <p>Get the target MAC address (Linux lowercase format), then edit <code>/etc/kvmd/override.yaml</code> to add the following. After editing, restart services with <code>systemctl restart kvmd</code> (be careful with indentation, otherwise services may fail to start).</p> <p>Built-in WOL configuration</p> <p>If configured here, the WOL action will appear under Tools in the system menu on the web UI.</p> <pre><code>    wol:\n        mac: 54:ab:3a:02:73:4a\n        #ip: 255.255.255.255\n        #port: 9\n</code></pre> <p>Custom GPIO driver method</p> <p>If configured here, the WOL action will appear under the custom menu.</p> <pre><code>    gpio:\n        drivers:\n            wol_server1:\n                type: wol\n                mac: 2c:56:dc:db:7c:1e\n        scheme:\n            wol_server1:\n                driver: wol_server1\n                pin: 0\n                mode: output\n                switch: false\n        view:\n            table:\n                - [\"#Device Name\", \"wol_server1|Wake-on-LAN\"]\n</code></pre> <p></p>"},{"location":"en/attached_device/bluetooth_hid/#bluetooth-hid","title":"Bluetooth HID","text":""},{"location":"en/attached_device/ch9329_hid/#hardware-overview","title":"Hardware Overview","text":"<p>CH9329 is a UART-to-USB HID controller that can emulate a standard keyboard, mouse, or custom HID device. Depending on its configured mode, it is recognized by a computer as the corresponding standard USB device.</p> <p></p> <p>Usage notes</p> <p>Based on user feedback, device disconnections may occur in practice. This has been largely mitigated by the change submitted by snltty: Fix CH9329 requiring replug after reboot.</p> <p>To reduce mouse/keyboard latency, you can:</p> <ul> <li>Increase the UART baud rate to 115200</li> </ul>"},{"location":"en/attached_device/ch9329_hid/#configuration","title":"Configuration","text":"<p>Two ways to configure CH9329 parameters:</p> <ol> <li>Set via environment variables when deploying with Docker</li> <li>Edit <code>/etc/kvmd/override.yaml</code> directly</li> </ol> <p>Example: </p><pre><code>kvmd:\n    hid:\n        type: ch9329\n        device: /dev/ttyUSB0\n        speed: 9600        # UART speed\n        read_timeout: 0.3\n</code></pre>"},{"location":"en/attached_device/ch9329_hid/#performance-tuning","title":"Performance Tuning","text":"<p>Use the CH9329 Config &amp; Test Tool for the following improvements:</p> <ol> <li> <p>Faster response</p> <ul> <li>Raise the baud from 9600 to 115200</li> <li>Update the <code>speed</code> parameter in the One-KVM config accordingly</li> </ul> <p>This improves remote control responsiveness.</p> </li> <li> <p>Custom device identifiers</p> <ul> <li>Customize USB VID/PID</li> <li>Configure USB string descriptors</li> </ul> </li> </ol> <p></p>"},{"location":"en/attached_device/mouse/","title":"Mouse Modes","text":""},{"location":"en/attached_device/mouse/#mouse-modes","title":"Mouse Modes","text":"<p>One-KVM supports two mouse modes: absolute and relative.</p>"},{"location":"en/attached_device/mouse/#absolute-mode","title":"Absolute mode","text":"<p>Default</p> <p>Absolute mode is the default. It:</p> <ul> <li>Sends exact cursor coordinates (X,Y)</li> <li>Works like a touchscreen or drawing tablet</li> <li>Is the most convenient for users and software</li> <li>May be unsupported by some BIOS/UEFI</li> </ul>"},{"location":"en/attached_device/mouse/#relative-mode","title":"Relative mode","text":"<p>Relative</p> <p>Relative mode:</p> <ul> <li>Sends only movement deltas (dX, dY)</li> <li>Works like a regular mouse</li> <li>When you click the video window, the browser captures the pointer</li> <li>Press ESC to release pointer capture</li> </ul>"},{"location":"en/attached_device/mouse/#configuration","title":"Configuration","text":"<p>Dual-mode support (recommended)</p> <p>Add to <code>/etc/kvmd/override.yaml</code>: </p><pre><code>kvmd:\n    hid:\n        mouse_alt:\n            device: /dev/kvmd-hid-mouse-alt\n</code></pre> <p>After this, you can switch mouse modes from the system menu.</p> <p>Relative only</p> <p>Add to <code>/etc/kvmd/override.yaml</code>: </p><pre><code>kvmd:\n    hid:\n        mouse:\n            absolute: false\n</code></pre> <p>If BIOS/UEFI still fails to recognize the mouse, disable horizontal scrolling to improve compatibility: </p><pre><code>kvmd:\n    hid:\n        mouse:\n            absolute: false\n            horizontal_wheel: false\n</code></pre> <p>Notes</p> <ul> <li>Relative mode generates many events, which may affect network throughput</li> <li>Enable System -&gt; Squash mouse moves to optimize</li> <li>Relative mode is not supported by VNC or mobile browsers at the moment</li> <li>Restart kvmd after changes: <code>systemctl restart kvmd</code></li> </ul> <p>When using relative mode, many mouse events may be generated. Their transfer speed over the network may be slow, or BIOS/UEFI drivers may handle them slowly. To mitigate this, vectorization and event squashing are applied. Enable this via System -&gt; Squash mouse moves. If you encounter mouse acceleration issues, try disabling it. This is a practical compromise.</p> <p></p>"},{"location":"en/attached_device/mouse/#windows-98-compatibility","title":"Windows 98 Compatibility","text":"<p>Windows 98 fix</p> <p>Due to legacy drivers, absolute mode on Windows 98 may only work in the top-left quarter of the screen.</p> <p>Solution: </p><pre><code>kvmd:\n    hid:\n        mouse:\n            absolute_win98_fix: true\n        mouse_alt:\n            device: /dev/kvmd-hid-mouse-alt\n</code></pre> After configuration, an Abs-Win98 option appears in the system menu.  <p>Additionally, VNC service currently does not support relative mode for the virtual mouse because recommended clients do not support the QEMU pointer motion change extension, and mobile browsers also do not support it.</p>"},{"location":"en/attached_device/mouse_jiggler/","title":"Mouse Jiggler","text":""},{"location":"en/attached_device/mouse_jiggler/#mouse-jiggler","title":"Mouse Jiggler","text":"<p>Overview</p> <p>The Mouse Jiggler simulates small mouse movements to:</p> <ul> <li>Prevent the system from entering sleep/standby</li> <li>Prevent the screensaver from activating</li> <li>Run in the background without manual intervention</li> <li>Avoid interfering with normal operations</li> </ul>"},{"location":"en/attached_device/mouse_jiggler/#enable","title":"Enable","text":"<ol> <li> <p>Edit <code>/etc/kvmd/override.yaml</code>: </p><pre><code>kvmd:\n    hid:\n        jiggler:\n            enabled: true    # Show this feature in the menu\n            active: true     # Start automatically on boot (optional)\n</code></pre> </li> <li> <p>Restart kvmd: </p><pre><code>sudo systemctl restart kvmd\n</code></pre> </li> <li> <p>Toggle it from the System menu (top-right) on the web UI:</p> </li> </ol> <p></p>"},{"location":"en/attached_device/mouse_jiggler/#how-it-works","title":"How it works","text":"<p>Mechanism</p> <ol> <li>Monitors user input (keyboard and mouse)</li> <li>After 60 seconds of inactivity:</li> <li>Absolute mode: move to <code>(-100, -100)</code> \u2192 wait \u2192 <code>(100, 100)</code> \u2192 wait</li> <li>Relative mode: move <code>(-10, -10)</code> \u2192 wait \u2192 <code>(10, 10)</code> \u2192 wait</li> <li>Repeat until user activity is detected</li> </ol> <p>Notes</p> <ul> <li>Supports both absolute and relative mouse modes</li> <li>Coordinates auto-adjust to screen resolution</li> <li>Continues running in the background even if the web UI is closed</li> <li>Pauses automatically on user activity</li> <li>Starts only after 60 seconds of inactivity</li> </ul>"},{"location":"en/attached_device/mouse_jiggler/#use-cases","title":"Use cases","text":"<ul> <li>Monitor unattended software installations</li> <li>Prevent automatic lock/sleep</li> <li>Keep the system active</li> <li>Long unattended operations</li> </ul>"},{"location":"en/attached_device/msd/","title":"Mass Storage Device","text":"<p>MSD (Mass Storage Drive) is a powerful feature that allows One-KVM to emulate a virtual CD/DVD or flash drive. This enables using live media in BIOS/UEFI to recover or reinstall operating systems.</p> <p>MSD notes</p> <ul> <li>CD-ROM images are limited to 2.2 GB by the Linux kernel. Specially adapted Linux builds (currently OneCloud and Cumebox 2) do not have this limit</li> <li>Flash images have no size limit</li> </ul> <p>Caution</p> <p>On OneCloud, do not disconnect the USB dual-headed (OTG) cable from the host or power off the host when using the unmount (disconnect) function. Otherwise, the kernel will continuously log errors due to the OTG port being unavailable. This causes the logging service to consume 100% CPU and the system to become unstable. MSD will remain unavailable until the USB OTG connection returns to normal.</p>"},{"location":"en/attached_device/msd/#using-msd","title":"Using MSD","text":""},{"location":"en/attached_device/msd/#basic-configuration","title":"Basic configuration","text":"<p>Since version 20241004, MSD is enabled by default and uses the <code>/var/lib/kvmd/msd</code> directory (no longer a mounted partition).</p>"},{"location":"en/attached_device/msd/#upload-images-manually","title":"Upload images manually","text":"<p>One-KVM stores images in <code>/var/lib/kvmd/msd</code>. Upload your image file to this directory.</p>"},{"location":"en/attached_device/msd/#change-msd-path","title":"Change MSD path","text":"<p>Since integrated image 201204, MSD can use any directory specified in <code>/etc/kvmd/override.yaml</code>. If permission is denied, run <code>chown kvmd -R /var/lib/kvmd/msd/</code> to make it writable.</p> <pre><code>kvmd:\n    msd:\n        msd_path: /var/lib/kvmd/msd\n</code></pre>"},{"location":"en/attached_device/msd/#writable-flash-drive","title":"Writable flash drive","text":"<p>When emulating a flash drive on One-KVM, you can allow the target machine to write files to the image. After stopping the drive, download and open the image locally. This is useful for retrieving files from the target.</p>"},{"location":"en/attached_device/msd/#create-a-ventoy-bootable-image","title":"Create a ventoy bootable image","text":"<p>For versions earlier than 20241004, run <code>kvmd-helper-otgmsd-remount rw</code> first to remount internal storage as read-write before manipulating files.</p> <ol> <li> <p>Create an empty image file in <code>/var/lib/kvmd/msd</code> with the required size. In this example, file is <code>flash.img</code> with 4096MB.</p> <pre><code>dd if=/dev/zero of=/var/lib/kvmd/msd/flash.img bs=1M count=4096 status=progress\n</code></pre> </li> <li> <p>In the web UI, choose Drive -&gt; Image -&gt; flash.img, switch the drive mode from cd-rom to flash, then connect MSD to the host.</p> </li> <li> <p>On the target, open ventoy and select the virtual disk to install.     </p> </li> <li> <p>Put ISO images into the ventoy partition folder.     </p> </li> </ol> <p>After completion, the flash image is ready for boot whenever needed.</p> <p> </p> <p></p>"},{"location":"en/attached_device/msd/#file-exchange","title":"File exchange","text":"<p>Demo video recorded by a community member:</p> <p></p> <p>Related options: </p><pre><code># Folder under the MSD directory\nnormalfiles_path: NormalFiles\n# Generated image size in MB\nnormalfiles_size: 256\n</code></pre>"},{"location":"en/attached_device/msd/#appendix-msd-partition-mount-legacy","title":"Appendix: MSD partition mount (legacy)","text":"<p>MSD partition mount (before 20241004)</p> <p>If you still need to use a mounted partition, in <code>/etc/kvmd/override.yaml</code> comment out the msd sub-option <code>remount_cmd: /bin/true</code> to <code>#remount_cmd: /bin/true</code> so the MSD partition gets correct permissions.</p> <p>Choose any one of the following three methods. For beginners, the third method (virtual disk image) is recommended. It requires no physical partitioning and is safer and simpler.</p> Use OneCloud eMMC space <p>A prepared Armbian with tools is provided in the cloud drive (path: /One-KVM \u76f8\u5173/gparted_on_armbain_usbdisk.zip). Flash it to a USB drive, plug it into the USB port next to OneCloud\u2019s Ethernet port, power on, connect via SSH (root/1234), and run <code>gparted</code>.</p> <p>If the GParted UI does not appear, check whether your SSH terminal supports X11 forwarding.</p> <p>In GParted, right-click /dev/mmcblp1p2 -&gt; Resize/Move, set Free space following (e.g., 4096), format the new space as ext4, and click the check mark to apply.</p> <p></p> <p></p> Use an SD card <p>Avoid no-name cards (many appear fine in Windows, recognizable in Linux but not readable/writable).</p> <pre><code># Locate TF card\nfdisk -l\n# Format as ext4 (replace sdx with your device)\nmkfs.ext4 /dev/sdx\n</code></pre> Use a virtual disk file <p>Create a new img file as the MSD filesystem; this method has been tested.</p> <pre><code># Example; the 512 count is in MiB; adjust as needed\ndd if=/dev/zero of=/root/diska.img bs=1M count=512\nmkfs.ext4 /root/diska.img\n</code></pre> <p>Mount the partition</p> <p>Confirm the correct path to mount (e.g., /dev/mmcblk1, /dev/mmcblk0p3, /root/diska.img). The following uses /dev/mmcblk0 as an example.</p> <pre><code># List all partitions\ndf -h\n\n# Append the following entry in /etc/fstab (replace /dev/mmcblk0 accordingly)\nnano /etc/fstab\n\n/dev/mmcblk0p3 /var/lib/kvmd/msd  ext4  nofail,nodev,nosuid,noexec,rw,errors=remount-ro,data=journal,X-kvmd.otgmsd-root=/var/lib/kvmd/msd,X-kvmd.otgmsd-user=kvmd  0 0\n\n# If mounting fails, check and fix errors\nmount /dev/mmcblk0p3\n\n# Enable MSD and set msd mode to otg in /etc/kvmd/override.yaml\nnano /etc/kvmd/override.yaml\nsystemctl restart kvmd-otg kvmd\n</code></pre> <p>Upload images manually</p> <p>One-KVM stores images in a special partition mounted at <code>/var/lib/kvmd/msd</code>. If it is read-only, run:</p> <pre><code># Remount MSD partition as read-write\nsudo kvmd-helper-otgmsd-remount rw\n\n# Upload image files to /var/lib/kvmd/msd\n\n# Remount as read-only\nsudo kvmd-helper-otgmsd-remount ro\n</code></pre>"},{"location":"en/attached_device/onecloud_atx/","title":"OneCloud GPIO","text":""},{"location":"en/attached_device/onecloud_atx/#onecloud-gpio-pinout","title":"OneCloud GPIO Pinout","text":"<p>The OneCloud board exposes multiple GPIO headers for functions such as power control. The numbering for the Wi-Fi pad starts at the bottom-left corner and increases counterclockwise.</p> <p></p>"},{"location":"en/attached_device/onecloud_atx/#gpio-mapping","title":"GPIO mapping","text":"<p>Below is the mapping between available GPIOs and pads:</p> <pre><code>GPIO-430  Pad 19  default: input\nGPIO-431  Pad 14  default: input\nGPIO-432  Pad 15  default: input\nGPIO-433  Pad 27  default: input\nGPIO-434  Pad 25  default: input\nGPIO-435  Pad 28  default: input\nGPIO-436  Pad 26  default: input\nGPIO-437  Pad 17  default: input\nGPIO-438  Pad 16  default: input\nGPIO-440  Pad 12  default: input\nGPIO-441  Pad 43  default: input\nGPIO-442  Pad 42  default: input\nGPIO-444  Pad 44  default: input\nGPIO-445  Pad 34  default: input\nGPIO-446  Pad 13  default: input\n</code></pre>"},{"location":"en/attached_device/onecloud_atx/#example","title":"Example","text":"<p>Using pad 26 as an example to determine the corresponding GPIO configuration:</p> <ol> <li> <p>From the physical position, pad 26 corresponds to sysfs gpio-436</p> <ul> <li>Note: on Linux kernel &gt;= 6.x, add an offset of 91, so it becomes gpio-527</li> </ul> </li> <li> <p>The software label \"J2 Header Pin 16\" maps to gpiochip0 line 7 in gpioinfo</p> </li> <li> <p>Control this GPIO in <code>/etc/kvmd/custom_atx/gpio.sh</code> with:</p> </li> </ol> <pre><code>gpioset -m time -s 1 gpiochip0 7=0\ngpioset gpiochip0 7=1\n</code></pre>"},{"location":"en/attached_device/onecloud_atx/#direct-gpio-wiring","title":"Direct GPIO wiring","text":"<p>Notes</p> <ul> <li>May not be suitable for non-standard ATX power devices</li> <li>For Huanan X99-F8 and K9-ETH boards:<ul> <li>Connect GPIO to power-on jumper pin 7, and GND to pin 9 (not the usual 5/7). Incorrect wiring may prevent the board from powering on or break the RST button</li> </ul> </li> </ul> <p>This solution applies to both old and new OneCloud boards, using the GPIO reserved for the IR interface to physically control power on/off:</p> <ol> <li>Requires only one GPIO group (3.3V level)</li> <li> <p>Solder two wires to the IR module reserved interface:</p> <ul> <li>GPIO-420 \u2192 power-on jumper positive</li> <li>GND \u2192 power-on jumper negative</li> </ul> </li> </ol> <p> </p>"},{"location":"en/attached_device/onecloud_atx/#optocoupler-isolation","title":"Optocoupler isolation","text":"<p>For improved safety, you can use an optocoupler isolation board:</p> <p> </p>"},{"location":"en/attached_device/usb2gpio/#usb-to-gpio","title":"USB to GPIO","text":""},{"location":"en/attached_device/usb_dynamic/","title":"Dynamic USB Configuration","text":""},{"location":"en/attached_device/usb_dynamic/#dynamic-usb-configuration","title":"Dynamic USB Configuration","text":"<p>One-KVM emulates multiple USB devices to provide core features:</p> <ul> <li>Keyboard</li> <li>Mouse (absolute)</li> <li>Mouse (relative)</li> <li>Mass storage</li> <li>Ethernet/Serial (optional)</li> </ul> <p>In some cases, the target's BIOS/UEFI may fail to recognize all emulated functions on a single USB port simultaneously. Use the <code>kvmd-otgconf</code> command (root required) to manage functions dynamically:</p> <pre><code># Show current config\nroot@onecloud:~# kvmd-otgconf\n+ ecm.usb0  # Ethernet\n+ hid.usb0  # Keyboard\n+ hid.usb1  # Absolute mouse\n+ hid.usb2  # Relative mouse\n\n# Disable/enable functions\nroot@onecloud:~# kvmd-otgconf --disable-function ecm.usb0  # Disable Ethernet\nroot@onecloud:~# kvmd-otgconf --enable-function ecm.usb0   # Enable Ethernet\n</code></pre>"},{"location":"en/attached_device/usb_dynamic/#web-control","title":"Web control","text":"<p>You can integrate USB function toggles into the web UI by generating a template with:</p> <pre><code>root@onecloud:~# kvmd-otgconf --make-gpio-config\nkvmd:\n    gpio:\n        drivers:\n            otgconf:\n                type: otgconf\n        scheme:\n            ecm.usb0:\n                driver: otgconf\n                mode: output\n                pin: ecm.usb0\n                pulse: false\n            # ... other functions ...\n        view:\n            table:\n                - ['#Ethernet', '#ecm.usb0', ecm.usb0]\n                - ['#Keyboard', '#hid.usb0', hid.usb0]\n                - ['#Absolute mouse', '#hid.usb1', hid.usb1]\n                - ['#Relative mouse', '#hid.usb2', hid.usb2]\n</code></pre> <p>Add the generated config to <code>/etc/kvmd/override.yaml</code> to control each USB function from the web UI.</p> <p></p>"},{"location":"en/attached_device/usb_ethernet/","title":"USB Ethernet","text":""},{"location":"en/attached_device/usb_ethernet/#basic-configuration","title":"Basic configuration","text":"<ol> <li> <p>Edit <code>/etc/kvmd/override.yaml</code>:     </p><pre><code>otg:\n    devices:\n        ethernet:\n            enabled: true\n            driver: ecm\n            host_mac: 48:6f:73:74:50:43  # Target host NIC MAC\n            kvm_mac: 42:61:64:55:53:42   # PiKVM usb0 MAC\n</code></pre> <p>Driver compatibility:</p> Driver OS ecm Linux, macOS eem Linux rndis5 Windows XP\u20137, Linux &gt; 2.6.13 rndis Windows 7+, Linux &gt; 2.6.13 ncm Windows 10+, Linux &gt; 2.6.37, macOS <p></p> </li> <li> <p>Enable the <code>kvmd-otgnet</code> service for auto-configuration:     </p><pre><code>sudo systemctl start kvmd-otgnet\nsudo systemctl enable kvmd-otgnet\n</code></pre> <p>Note: after the service starts, the target may need to request an IP manually: </p><pre><code># Tested on Ubuntu 22.04\nifconfig -a                # Find interface name\nsudo apt install udhcpc   # Install DHCP client\nudhcpc -i &lt;iface&gt;         # Obtain an IP address\n</code></pre> <p> To allow the target host to access the One-KVM UI, whitelist ports 80 and 443 in <code>/etc/kvmd/override.yaml</code>: </p><pre><code>otgnet:\n    firewall:\n        allow_tcp: [80, 443]\n</code></pre> </li> </ol>"},{"location":"en/attached_device/usb_ethernet/#routing-forwarding","title":"Routing &amp; forwarding","text":"<p>To enable the target to access the external network:</p> <ol> <li> <p>Enable IPv4 forwarding:     </p><pre><code>echo \"net.ipv4.ip_forward = 1\" &gt; /etc/sysctl.d/99-kvmd-extra.conf\n</code></pre> </li> <li> <p>Configure network parameters in <code>/etc/kvmd/override.yaml</code>:     </p><pre><code>otgnet:\n    firewall:\n        forward_iface: eth0    # Upstream interface\n    commands:\n        post_start_cmd_append:\n        - \"--dhcp-option=6,8.8.8.8\"    # DNS\n    iface:\n        net: 10.65.0.0/28    # Address range different from the main LAN\n</code></pre> </li> <li> <p>Reboot One-KVM: <code>reboot</code> </p> </li> </ol>"},{"location":"en/attached_device/usb_ethernet/#windows-setup","title":"Windows setup","text":"<p>For Windows:</p> <ol> <li>Use the <code>rndis</code> driver</li> <li>Windows 7+ installs the driver automatically</li> <li>Windows XP\u20137 requires manual installation of the RNDIS 5 driver</li> </ol> <p>After configuration, test connectivity using ping.</p>"},{"location":"en/attached_device/usb_relay/","title":"USB Relay","text":""},{"location":"en/attached_device/usb_relay/#usb-relay-for-atx-power-management","title":"USB Relay for ATX Power Management","text":""},{"location":"en/attached_device/usb_relay/#requirements","title":"Requirements","text":"<ul> <li>Device: LCUS_HID USB Relay</li> <li>Device path: <code>/dev/hidraw0</code></li> </ul>"},{"location":"en/attached_device/usb_relay/#configuration","title":"Configuration","text":"<p>When starting the Docker container, you need to:</p> <ol> <li>Map the relay device</li> <li>Set the environment variable <code>ATX=USBRELAY_HID</code></li> </ol>"},{"location":"en/attached_device/usb_relay/#example","title":"Example","text":"<p>Below is a sample deployment for Cumebox 2:</p> <pre><code>docker run --name kvmd -itd --privileged=true \\\n    -v /dev:/dev -v /sys/kernel/config:/sys/kernel/config \\\n    -v /lib/modules:/lib/modules:ro -e OTG=1 -e VIDEONUM=1 -e ATX=USBRELAY_HID \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    silentwind0/kvmd\n</code></pre>"},{"location":"en/attached_device/usb_relay/#demo-video","title":"Demo Video","text":""},{"location":"en/attached_device/usb_serial/","title":"USB Serial","text":""},{"location":"en/attached_device/usb_serial/#usb-serial","title":"USB Serial","text":"<p>The USB serial feature allows the target host to access One-KVM via a virtual serial port, or to be used in other serial-communication scenarios.</p> <p>USB endpoint limits</p> <p>Each emulated USB function consumes limited hardware resources (endpoints).</p>"},{"location":"en/attached_device/usb_serial/#configuration","title":"Configuration","text":"<ol> <li> <p>Edit <code>/etc/kvmd/override.yaml</code> to enable the serial function:     </p><pre><code>otg:\n    devices:\n        serial:\n            enabled: true\n</code></pre> </li> <li> <p>Add the serial TTY to securetty:     </p><pre><code>sudo echo ttyGS0 &gt;&gt; /etc/securetty\n</code></pre> </li> <li> <p>Configure the serial getty service:     </p><pre><code># Create the override directory\nsudo mkdir -p /etc/systemd/system/getty@ttyGS0.service.d\n\n# Edit the override file\nsudo nano /etc/systemd/system/getty@ttyGS0.service.d/override.conf\n</code></pre> <p>Add: </p><pre><code>[Service]\nTTYReset=no\nTTYVHangup=no\nTTYVTDisallocate=no\n</code></pre> </li> <li> <p>Enable the service and reboot:     </p><pre><code>sudo systemctl enable getty@ttyGS0.service\nsudo reboot\n</code></pre> </li> </ol>"},{"location":"en/attached_device/usb_serial/#usage","title":"Usage","text":"<p>After reboot, the target host can access One-KVM via the virtual serial port. Possible device names include:</p> <ul> <li><code>/dev/ttyAMA0</code></li> <li><code>/dev/ttyACM0</code></li> </ul> <p>Example: </p><pre><code>sudo screen /dev/ttyACM0 115200\n</code></pre> <p></p>"},{"location":"en/audio_and_video/audio/","title":"H.264 Audio","text":""},{"location":"en/audio_and_video/audio/#hdmi-audio-support","title":"HDMI Audio Support","text":"<p>Audio feature overview</p> <p>The latest One-KVM supports real-time HDMI audio transmission via H.264/WebRTC, with audio quality sufficient for smooth music playback. The system uses the Linux ALSA sound driver, while ustreamer and janus capture HDMI audio and transcode it to Opus.</p>"},{"location":"en/audio_and_video/audio/#configuration","title":"Configuration","text":"<p>Docker users</p> <p>Use the environment variable <code>-e AUDIONUM=0</code> to specify the audio device. See the Docker environment variables.</p> <p>Integrated image users</p> <p>Edit the audio configuration file <code>/etc/kvmd/janus/janus.plugin.ustreamer.jcfg</code>:</p> <pre><code>video: {\n    sink = \"kvmd::ustreamer::h264\"\n}\naudio: {\n     device = \"hw:0\"\n     tc358743 = \"/dev/video0\"\n}\n</code></pre> <p>Configuration notes:</p> <ul> <li><code>device</code>: audio device address</li> <li><code>tc358743</code>: capture card video device path</li> </ul>"},{"location":"en/audio_and_video/audio/#find-audio-devices","title":"Find audio devices","text":"<p>On Linux, use the following commands to list available audio devices: </p><pre><code>arecord -L   # Detailed device list\narecord -l   # Brief device list\n</code></pre> <p>The following three methods are supported to specify the audio device:</p> <ol> <li>By card index: <code>hw:0</code></li> <li>By card name: <code>hw:CARD=MS2109</code></li> <li>By device file: <code>hw:/dev/snd/controlC0</code></li> </ol> <p>Choose one method to enable HDMI audio.</p>"},{"location":"en/audio_and_video/audio/#demonstration","title":"Demonstration","text":""},{"location":"en/audio_and_video/h264/#h264-video","title":"H.264 Video","text":"<p>About H.264</p> <p>H.264 (also known as MPEG-4 AVC) is a highly efficient video compression standard widely used for streaming. Compared with MJPEG, H.264 offers:</p> <ul> <li>Lower bandwidth usage</li> <li>Better compression efficiency</li> <li>Audio transmission support</li> <li>Lower network latency</li> </ul>"},{"location":"en/audio_and_video/h264/#implementation-options","title":"Implementation Options","text":"<p>One-KVM provides two H.264 encoding options:</p> Libx264 (Recommended) <p>Libx264 is a high-performance H.264 encoding library developed by VideoLAN. This option:</p> <ul> <li>Is integrated into the latest version and enabled by default</li> <li>Delivers excellent performance and ease of use</li> <li>Supports WebRTC real-time streaming</li> <li>Source code is available in the ustreamer branch</li> </ul> FFmpeg (Deprecated) <p>This option uses FFmpeg software encoding and has been deprecated due to performance concerns:</p> <ul> <li>High CPU usage</li> <li>Poor experience on low-performance devices</li> <li>Kept only for historical reference</li> </ul>"},{"location":"en/audio_and_video/h264/#webrtc-configuration","title":"WebRTC Configuration","text":"<p>About WebRTC</p> <p>WebRTC uses P2P connections and UDP transport to:</p> <ul> <li>Reduce network latency</li> <li>Lower server load</li> <li>Provide better real-time performance</li> </ul> <p>Default configuration</p> <p>WebRTC uses Google STUN servers by default. The configuration is located at <code>/etc/kvmd/override.yaml</code>: </p><pre><code>janus:\n    stun:\n        host: stun.l.google.com\n        port: 19302\n        retries: 5\n        retries_delay: 5.0\n        timeout: 5.0\n</code></pre> <p>Remote access configuration</p> <p>Two remote access methods are supported:</p> <ol> <li> <p>Port forwarding (not recommended)</p> <ul> <li>Requires mapping UDP ports 20000-40000</li> <li>Complex configuration with lower security</li> </ul> <p></p> </li> <li> <p>Mesh networking (recommended)</p> <ul> <li>Use tools like Tailscale to establish a secure tunnel</li> <li>Simple configuration with higher security</li> <li>No need to map a large range of ports</li> </ul> <p></p> </li> </ol>"},{"location":"en/audio_and_video/h264/#video-quality-tuning","title":"Video Quality Tuning","text":"<p>Image quality optimization</p> <p>If the video quality is not ideal, you can:</p> <ol> <li>Adjust the H.264 bitrate in the system menu at the top right of the page</li> <li>Adjust the resolution according to network conditions</li> <li>Choose an appropriate quality preset</li> </ol>"},{"location":"en/audio_and_video/h264/#demo-video","title":"Demo Video","text":""},{"location":"en/audio_and_video/video_record/","title":"Video Recording","text":""},{"location":"en/audio_and_video/video_record/#video-recording","title":"Video Recording","text":"<p>One-KVM supports two recording methods: frontend and backend. Choose the one that fits your needs.</p>"},{"location":"en/audio_and_video/video_record/#frontend-recording","title":"Frontend Recording","text":"<p>Browser recording</p> <p>Frontend recording uses the browser's MediaStream Recording API and supports:</p> <ul> <li>MJPEG video (no audio)</li> <li>H.264/WebRTC video (can include audio)</li> <li>Automatic download of the recorded file (WebM format)</li> </ul> <p>How to use</p> <ol> <li>Click the top-right menu on the web page --&gt; System --&gt; Start Recording</li> <li>The system starts recording the current video</li> <li>After stopping the recording, the browser automatically downloads the file</li> </ol> <p></p>"},{"location":"en/audio_and_video/video_record/#backend-recording","title":"Backend Recording","text":"<p>Command-line recording</p> <p>Backend recording uses the <code>ustreamer-dump</code> tool and supports:</p> <ul> <li>Multiple encoding formats</li> <li>Real-time transcoding</li> <li>Flexible command-line options</li> </ul> <p>Record raw bitstream</p> <pre><code># Record H.264 stream (H.264 must be enabled)\nustreamer-dump -s kvmd::ustreamer::h264 -o video-record.h264\n\n# Record MJPEG stream (MJPEG must be enabled)\nustreamer-dump -s kvmd::ustreamer::jpeg -o video-record.mjpeg\n\n# Record YUYV stream (YUYV must be enabled)\nustreamer-dump -s kvmd::ustreamer::yuyv -o video-record.yuyv\n</code></pre> <p>Transcode to MP4 in real time</p> <pre><code># MJPEG to MP4\nustreamer-dump -s kvmd::ustreamer::jpeg -o - | \\\n    ffmpeg -use_wallclock_as_timestamps 1 -i pipe: -c:v libx264 video-record.mp4\n\n# H.264 to MP4\nustreamer-dump -s kvmd::ustreamer::h264 -o - | \\\n    ffmpeg -use_wallclock_as_timestamps 1 -i pipe: -c:v libx264 video-record.mp4\n</code></pre> <p>Help</p> <p>Use <code>ustreamer-dump --help</code> to view more options and usage details.</p>"},{"location":"en/development/api/","title":"HTTP API","text":"<p>This is a brief introduction to the PiKVM API. Since the software consists of multiple microservices, Nginx provides a unified API entry point at <code>/api/</code>.</p>"},{"location":"en/development/api/#authentication","title":"Authentication","text":"<p>All API endpoints require authentication. Each request must be authenticated individually, or you can obtain a token and pass it as a cookie with every request. When 2FA is enabled, you must append the one-time code to the password without spaces. You can use any TOTP library (for example, Python) to generate the code:</p> <pre><code>import requests\nimport pyotp\n\nuser = \"admin\"\npasswd = \"admin\"\nsecret = \"3OBBOGSJRYRBZH35PGXURM4CMWTH3WSU\"  # Can be found in /etc/kvmd/totp.secret\n\nprint(requests.get(\n    url=\"https://pikvm/api/info\",\n    verify=False,  # For self-signed SSL certificate\n    headers={\n        \"X-KVMD-User\": user,\n        \"X-KVMD-Passwd\": passwd + pyotp.TOTP(secret).now(),\n    },\n).text)\n</code></pre> <p>When the 2FA code is close to expiring, due to request latency the code may become invalid. A simple workaround for resulting 403 errors is to retry the request in seconds. A better approach is to combine this with checking the remaining validity; if about one second remains, delay the request. With this method, you can determine the remaining validity time:</p> <pre><code>totp = pyotp.TOTP(secret)\nnow = int(time.time())\nremaining = now - (now % totp.interval)\n</code></pre>"},{"location":"en/development/api/#single-request-authorization","title":"Single-request authorization","text":"<ul> <li>Using X-headers, send: <code>X-KVMD-User</code> and <code>X-KVMD-Passwd</code></li> </ul> <pre><code>curl -k -H X-KVMD-User:admin -H X-KVMD-Passwd:admin https://&lt;pikvm-ip&gt;/api/auth/check\n</code></pre> <ul> <li>Using HTTP Basic Auth. Contrary to the standard, this implementation does not use headers. HTTP Basic Auth here is only for compatibility with other systems.</li> </ul> <pre><code>curl -k -u admin:admin https://&lt;pikvm-ip&gt;/api/auth/check\n</code></pre>"},{"location":"en/development/api/#session-cookie-authentication","title":"Session cookie authentication","text":"<ol> <li>Obtain a cookie: <code>POST /api/auth/login</code></li> </ol> <pre><code>$ curl -k -v -X POST --data user=admin --data passwd=admin https://pikvm/api/auth/login\n...\n&lt; Set-Cookie: auth_token=796cb83b11de4fcb749bc1bad14a91fb06dede84672b2f847fef1e988e6900de; Path=/\n...\n</code></pre> <p>Success returns HTTP 200; failure returns HTTP 403.</p> <ol> <li> <p><code>GET /api/auth/check</code> verifies the cookie status. Likewise, success returns 200 and failure 403.</p> </li> <li> <p><code>POST /api/auth/logout</code> destroys the cookie.</p> </li> </ol>"},{"location":"en/development/api/#system","title":"System","text":"<p>Get software information <code>GET /api/info</code> returns all information about the PiKVM device.</p> <p>Parameters: <code>fields=...</code> (optional) \u2014 return only specified categories, for example <code>fields=system,hw</code>. By default, all categories are shown.</p> <pre><code>curl -k -u admin:admin https://&lt;pikvm-ip&gt;/api/info\n</code></pre> Click to expand <pre><code>{\n    \"ok\": true,\n    \"result\": {\n        \"auth\": {\n            \"enabled\": true\n        },\n        \"extras\": {\n            \"ipmi\": {\n                \"daemon\": \"kvmd-ipmi\",\n                \"description\": \"Show IPMI information\",\n                \"enabled\": true,\n                \"icon\": \"share/svg/ipmi.svg\",\n                \"name\": \"IPMI\",\n                \"path\": \"ipmi\",\n                \"place\": 21,\n                \"port\": 623,\n                \"started\": true\n            },\n            \"janus\": {\n                \"daemon\": \"kvmd-janus\",\n                \"description\": \"Janus WebRTC Gateway\",\n                \"enabled\": false,\n                \"name\": \"Janus\",\n                \"path\": \"janus\",\n                \"place\": -1,\n                \"started\": false\n            },\n            \"janus_static\": {\n                \"daemon\": \"kvmd-janus-static\",\n                \"description\": \"Janus WebRTC Gateway (Static Config)\",\n                \"enabled\": true,\n                \"name\": \"Janus Static\",\n                \"path\": \"janus\",\n                \"place\": -1,\n                \"started\": true\n            },\n            \"vnc\": {\n                \"daemon\": \"kvmd-vnc\",\n                \"description\": \"Show VNC information\",\n                \"enabled\": true,\n                \"icon\": \"share/svg/vnc.svg\",\n                \"name\": \"VNC\",\n                \"path\": \"vnc\",\n                \"place\": 20,\n                \"port\": 5900,\n                \"started\": true\n            },\n            \"webterm\": {\n                \"daemon\": \"kvmd-webterm\",\n                \"description\": \"Open terminal in a web browser\",\n                \"enabled\": true,\n                \"icon\": \"extras/webterm/terminal.svg\",\n                \"name\": \"Terminal\",\n                \"path\": \"extras/webterm/ttyd\",\n                \"place\": 10,\n                \"started\": true\n            }\n        },\n        \"fan\": {\n            \"monitored\": false,\n            \"state\": null\n        },\n        \"hw\": {\n            \"health\": {\n                \"temp\": {\n                    \"cpu\": 57.187\n                },\n                \"throttling\": {\n                    \"ignore_past\": false,\n                    \"parsed_flags\": {\n                        \"freq_capped\": {\n                            \"now\": false,\n                            \"past\": false\n                        },\n                        \"throttled\": {\n                            \"now\": false,\n                            \"past\": false\n                        },\n                        \"undervoltage\": {\n                            \"now\": false,\n                            \"past\": false\n                        }\n                    },\n                    \"raw_flags\": 0\n                }\n            },\n            \"platform\": {\n                \"base\": \"Xunlei OneCloud\",\n                \"serial\": null,\n                \"type\": \"rpi\"\n            }\n        },\n        \"meta\": {\n            \"kvm\": {},\n            \"server\": {\n                \"host\": \"onecloud\"\n            }\n        },\n        \"system\": {\n            \"kernel\": {\n                \"machine\": \"armv7l\",\n                \"release\": \"6.6.34-current-meson\",\n                \"system\": \"Linux\",\n                \"version\": \"#10 SMP Sun Jun 16 19:47:49 CST 2024\"\n            },\n            \"kvmd\": {\n                \"version\": \"3.291\"\n            },\n            \"streamer\": {\n                \"app\": \"ustreamer\",\n                \"features\": {\n                    \"HAS_PDEATHSIG\": true,\n                    \"WITH_GPIO\": true,\n                    \"WITH_PTHREAD_NP\": true,\n                    \"WITH_SETPROCTITLE\": true,\n                    \"WITH_SYSTEMD\": true\n                },\n                \"version\": \"6.12\"\n            }\n        }\n    }\n}\n</code></pre> <p>Get software logs <code>GET /api/log</code> returns logs for all KVMD services in plain text.</p> <p>Parameters: <code>follow=1</code> (optional) \u2014 long polling mode to tail logs in real time; <code>seek=N</code> (optional) \u2014 show logs for the last N seconds (for example, the last hour).</p> <pre><code>curl -k -u admin:admin https://&lt;pikvm-ip&gt;/api/log?seek=3600\n</code></pre> Click to expand <pre><code>[2024-07-01 04:48:37 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / 192.168.31.242] 'GET /log?seek=120 HTTP/1.0' =&gt; 200; size=751 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:48:46 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / 192.168.31.242] 'GET /log?seek=1800 HTTP/1.0' =&gt; 200; size=2668 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:48:56 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / 192.168.31.242] 'GET /log?seek=3600 HTTP/1.0' =&gt; 200; size=2988 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:09 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / 192.168.31.242] 'GET /log?seek=7200 HTTP/1.0' =&gt; 200; size=3308 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:17 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / -] 'GET /auth/check HTTP/1.0' =&gt; 200; size=194 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:30 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / -] 'GET /auth/check HTTP/1.0' =&gt; 200; size=194 --- referer='-'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:31 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / 192.168.31.242] 'GET /info?fields=auth,meta,extras HTTP/1.0' =&gt; 200; size=2141 --- referer='https://192.168.31.182/'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:32 kvmd.service] --- aiohttp.access                    INFO --- [admin (token) / -] 'GET /auth/check HTTP/1.0' =&gt; 200; size=194 --- referer='https://192.168.31.182/'; user_agent='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0'\n[2024-07-01 04:49:33 kvmd-webterm.service] --- [2024/07/01 04:49:33:0792] N: WS   /ws - , clients: 1\n</code></pre>"},{"location":"en/development/building_os/","title":"Build One-KVM OS","text":"<p>You can build integrated images and Docker images using the scripts provided by this project.</p>"},{"location":"en/development/building_os/#build-integrated-images","title":"Build integrated images","text":"<p>To simplify the build process and improve efficiency, this project uses a base system image plus chroot installation scripts to build images.</p> <p>After cloning the project, prepare the resource directory tree (below), then modify variables <code>SRCPATH</code> (resource folder) and <code>OUTPUTDIR</code> (image output folder) in <code>build/build_img.sh</code> according to your storage layout.</p> <p>The current script supports building integrated images for chainedbox, cumebox2, onecloud, and vm. Example:</p> <pre><code># Build the One-KVM integrated image for OneCloud\nsudo bash build/build_img.sh onecloud\n</code></pre> <p>Resource directory tree: </p><pre><code>mofeng@ubuntu:~/One-KVM$ tree /mnt/sda1/src\n/mnt/sda1/src\n|-- image\n|   |-- chainedbox\n|   |   |-- Armbian_24.11.0_rockchip_chainedbox_bookworm_6.1.112_server_2024.10.02.img\n|   |   |-- Armbian_24.11.0_rockchip_chainedbox_bookworm_6.1.112_server_2024.10.02_add800m.img\n|   |   `-- rk3328-l1pro-1296mhz-fix.dtb\n|   |-- cumebox2\n|   |   |-- Armbian_24.8.1_Khadas-vim1_bookworm_current_6.6.47_minimal.img\n|   |   |-- config.json\n|   |   |-- rc.local\n|   |   |-- ssd\n|   |   `-- v-fix.dtb\n|   |-- onecloud\n|   |   |-- AmlImg_v0.3.1_linux_amd64\n|   |   |-- Armbian_by-SilentWind_24.5.0-trunk_Onecloud_bookworm_legacy_5.9.0-rc7_minimal.burn.img\n|   |   `-- rc.local\n|   `-- vm\n|       `-- Armbian_24.8.1_Uefi-x86_bookworm_current_6.6.47_minimal_add1g.img\n`-- tmp\n\n7 directories, 12 files\n</code></pre>"},{"location":"en/development/building_os/#build-docker-image","title":"Build Docker image","text":"<p>Modify the <code>run-build-release</code> section in the Makefile to set the Docker image output location as needed.</p> <p>One-KVM Docker image build example:</p> <pre><code># Build image\nsudo make run-build-release\n</code></pre>"},{"location":"en/development/develop/","title":"Knowledge Base","text":""},{"location":"en/development/develop/#onecloud-u-boot-backup","title":"OneCloud U-Boot Backup","text":"<pre><code># Skip the MBR partition table, back up the OneCloud U-Boot contents and compress\ngzip -dc Boot_SkipUSBBurning.gz | dd of=/dev/mmcblk1 bs=512 seek=1 count=32767\n# Restore the backed-up U-Boot contents\ndd if=/dev/mmcblk1 bs=512 skip=1 count=32767  | gzip &gt; Boot_SkipUSBBurning.gz\n</code></pre>"},{"location":"en/development/develop/#onecloud-gpio-driver","title":"OneCloud GPIO Driver","text":"<p>Starting from Linux 4.8, using the sysfs interface (/sys/class/gpio) to operate GPIO is no longer recommended. Instead, use character devices from user space. The libgpiod library provides an API for GPIO character devices as well as a set of handy tools for debugging. libgpiod includes commands such as gpioget, gpioset, gpiodetect, gpioinfo, gpiofind, and gpiomon.</p> <p>Below are examples of controlling OneCloud GPIO using both the sysfs interface and libgpiod commands.</p> sysfslibgpiod <pre><code>#!/bin/bash\necho 420 &gt; /sys/class/gpio/export\necho out &gt; /sys/class/gpio/gpio420/direction\necho 0 &gt; /sys/class/gpio/gpio420/value\ncase $1 in\n    short)\n    sleep 1\n    ;;\n    long)\n    sleep 5\n    ;;\n    *)\n    echo \"No thing.\"\nesac\necho 1 &gt; /sys/class/gpio/gpio420/value\necho 420 &gt; /sys/class/gpio/unexport\n</code></pre> <pre><code>#!/bin/bash\ncase $1 in\n    short)\n    gpioset -m time -s 1 gpiochip1 7=0\n    gpioset gpiochip1 7=1\n    ;;\n    long)\n    gpioset -m time -s 5 gpiochip1 7=0\n    gpioset gpiochip1 7=1\n    ;;\n    *)\n    echo \"No thing.\"\nesac\n</code></pre> <p>References: gpioset command | getiot.tech</p> All GPIO pins on OneCloud (Linux 5.x kernels) gpioinfosysfs <pre><code>gpiochip0 - 83 lines:\n    line   0: \"J2 Header Pin 35\" unused input active-high \n    line   1: \"J2 Header Pin 36\" unused input active-high \n    line   2: \"J2 Header Pin 32\" unused input active-high \n    line   3: \"J2 Header Pin 31\" unused input active-high \n    line   4: \"J2 Header Pin 29\" unused input active-high \n    line   5: \"J2 Header Pin 18\" unused input active-high \n    line   6: \"J2 Header Pin 22\" unused input active-high \n    line   7: \"J2 Header Pin 16\" unused input active-high \n    line   8: \"J2 Header Pin 23\" unused input active-high \n    line   9: \"J2 Header Pin 21\" unused input active-high \n    line  10: \"J2 Header Pin 19\" unused input active-high \n    line  11: \"J2 Header Pin 33\" unused input active-high \n    line  12: \"J2 Header Pin 8\" unused input active-high \n    line  13: \"J2 Header Pin 10\" unused input active-high \n    line  14: \"J2 Header Pin 15\" unused input active-high \n    line  15: \"J2 Header Pin 13\" unused input active-high \n    line  16: \"J2 Header Pin 24\" unused input active-high \n    line  17: \"J2 Header Pin 26\" unused input active-high \n    line  18: \"Revision (upper)\" unused input active-high \n    line  19: \"Revision (lower)\" unused input active-high \n    line  20: \"J2 Header Pin 7\" unused input active-high \n    line  21:      unnamed       unused   input  active-high \n    line  22: \"J2 Header Pin 12\" unused input active-high \n    line  23: \"J2 Header Pin 11\" unused input active-high \n    line  24:      unnamed       unused   input  active-high \n    line  25:      unnamed       unused   input  active-high \n    line  26:      unnamed       unused   input  active-high \n    line  27: \"TFLASH_VDD_EN\" \"regulator-tflash_vdd\" output active-high [used]\n    line  28:      unnamed       unused   input  active-high \n    line  29:      unnamed       unused   input  active-high \n    line  30: \"VCCK_PWM (PWM_C)\" unused input active-high \n    line  31:   \"I2CA_SDA\"       unused   input  active-high \n    line  32:   \"I2CA_SCL\"       unused   input  active-high \n    line  33:   \"I2CB_SDA\"       unused   input  active-high \n    line  34:   \"I2CB_SCL\"       unused   input  active-high \n    line  35: \"VDDEE_PWM (PWM_D)\" unused input active-high \n    line  36:      unnamed       unused   input  active-high \n    line  37:   \"HDMI_HPD\"       unused   input  active-high \n    line  38: \"HDMI_I2C_SDA\" unused input active-high \n    line  39: \"HDMI_I2C_SCL\" unused input active-high \n    line  40: \"ETH_PHY_INTR\" unused input active-high \n    line  41: \"ETH_PHY_NRST\" \"PHY reset\" output active-low [used]\n    line  42:   \"ETH_TXD1\"       unused   input  active-high \n    line  43:   \"ETH_TXD0\"       unused   input  active-high \n    line  44:   \"ETH_TXD3\"       unused   input  active-high \n    line  45:   \"ETH_TXD2\"       unused   input  active-high \n    line  46: \"ETH_RGMII_TX_CLK\" unused input active-high \n    line  47: \"SD_DATA1 (SDB_D1)\" unused input active-high \n    line  48: \"SD_DATA0 (SDB_D0)\" unused input active-high \n    line  49:     \"SD_CLK\"       unused   input  active-high \n    line  50:     \"SD_CMD\"       unused   input  active-high \n    line  51: \"SD_DATA3 (SDB_D3)\" unused input active-high \n    line  52: \"SD_DATA2 (SDB_D2)\" unused input active-high \n    line  53: \"SD_CDN (SD_DET_N)\" \"cd\" input active-low [used]\n    line  54: \"SDC_D0 (EMMC)\" unused output active-high \n    line  55: \"SDC_D1 (EMMC)\" unused output active-high \n    line  56: \"SDC_D2 (EMMC)\" unused output active-high \n    line  57: \"SDC_D3 (EMMC)\" unused output active-high \n    line  58: \"SDC_D4 (EMMC)\" unused output active-high \n    line  59: \"SDC_D5 (EMMC)\" unused output active-high \n    line  60: \"SDC_D6 (EMMC)\" unused output active-high \n    line  61: \"SDC_D7 (EMMC)\" unused output active-high \n    line  62: \"SDC_CLK (EMMC)\" unused output active-high \n    line  63: \"SDC_RSTn (EMMC)\" \"reset\" output active-low [used]\n    line  64: \"SDC_CMD (EMMC)\" unused output active-high \n    line  65:   \"BOOT_SEL\"       unused   input  active-high \n    line  66:      unnamed       unused   input  active-high \n    line  67:      unnamed       unused   input  active-high \n    line  68:      unnamed       unused   input  active-high \n    line  69:      unnamed       unused   input  active-high \n    line  70:      unnamed       unused  output  active-high \n    line  71:      unnamed       unused  output  active-high \n    line  72:      unnamed       unused   input  active-high \n    line  73:   \"ETH_RXD1\"       unused   input  active-high \n    line  74:   \"ETH_RXD0\"       unused   input  active-high \n    line  75:  \"ETH_RX_DV\"       unused   input  active-high \n    line  76: \"RGMII_RX_CLK\" unused input active-high \n    line  77:   \"ETH_RXD3\"       unused   input  active-high \n    line  78:   \"ETH_RXD2\"       unused   input  active-high \n    line  79:   \"ETH_TXEN\"       unused   input  active-high \n    line  80: \"ETH_PHY_REF_CLK_25MOUT\" unused input active-high \n    line  81:    \"ETH_MDC\"       unused   input  active-high \n    line  82:   \"ETH_MDIO\"       unused   input  active-high \ngpiochip1 - 16 lines:\n    line   0:    \"UART TX\"       unused   input  active-high \n    line   1:    \"UART RX\"       unused   input  active-high \n    line   2:      unnamed       unused  output  active-high \n    line   3: \"TF_3V3N_1V8_EN\" \"TF_IO\" output active-high [used]\n    line   4: \"USB_HUB_RST_N\" \"usb-hub-reset\" output active-high [used]\n    line   5: \"USB_OTG_PWREN\" unused input active-high \n    line   6: \"J7 Header Pin 2\" unused input active-high \n    line   7:      \"IR_IN\"       unused   input  active-high \n    line   8: \"J7 Header Pin 4\" unused input active-high \n    line   9: \"J7 Header Pin 6\" unused input active-high \n    line  10: \"J7 Header Pin 5\" unused input active-high \n    line  11: \"J7 Header Pin 7\" unused input active-high \n    line  12:   \"HDMI_CEC\"       unused   input  active-high \n    line  13:    \"SYS_LED\" \"BugScaner:blue:alive\" output active-low [used]\n    line  14:      unnamed       unused  output  active-high \n    line  15:      unnamed       unused  output  active-high\n</code></pre> <pre><code>gpiochip1: GPIOs 413-428, parent: platform/c8100084.pinctrl, aobus-banks:\ngpio-413 (UART TX             )\ngpio-414 (UART RX             )\ngpio-415 (                    )\ngpio-416 (TF_3V3N_1V8_EN      |TF_IO               ) out hi \ngpio-417 (USB_HUB_RST_N       |usb-hub-reset       ) out lo \ngpio-418 (USB_OTG_PWREN       )\ngpio-419 (J7 Header Pin 2     )\ngpio-420 (IR_IN               )\ngpio-421 (J7 Header Pin 4     )\ngpio-422 (J7 Header Pin 6     )\ngpio-423 (J7 Header Pin 5     )\ngpio-424 (J7 Header Pin 7     )\ngpio-425 (HDMI_CEC            )\ngpio-426 (SYS_LED             |BugScaner:blue:alive) out hi ACTIVE LOW\ngpio-427 (                    )\ngpio-428 (                    )\n\ngpiochip0: GPIOs 429-511, parent: platform/c1109880.pinctrl, cbus-banks:\ngpio-429 (J2 Header Pin 35    )\ngpio-430 (J2 Header Pin 36    )\ngpio-431 (J2 Header Pin 32    )\ngpio-432 (J2 Header Pin 31    )\ngpio-433 (J2 Header Pin 29    )\ngpio-434 (J2 Header Pin 18    )\ngpio-435 (J2 Header Pin 22    )\ngpio-436 (J2 Header Pin 16    )\ngpio-437 (J2 Header Pin 23    )\ngpio-438 (J2 Header Pin 21    )\ngpio-439 (J2 Header Pin 19    )\ngpio-440 (J2 Header Pin 33    )\ngpio-441 (J2 Header Pin 8     )\ngpio-442 (J2 Header Pin 10    )\ngpio-443 (J2 Header Pin 15    )\ngpio-444 (J2 Header Pin 13    )\ngpio-445 (J2 Header Pin 24    )\ngpio-446 (J2 Header Pin 26    )\ngpio-447 (Revision (upper)    )\ngpio-448 (Revision (lower)    )\ngpio-449 (J2 Header Pin 7     )\ngpio-450 (                    )\ngpio-451 (J2 Header Pin 12    )\ngpio-452 (J2 Header Pin 11    )\ngpio-453 (                    )\ngpio-454 (                    )\ngpio-455 (                    )\ngpio-456 (TFLASH_VDD_EN       |regulator-tflash_vdd) out lo \ngpio-457 (                    )\ngpio-458 (                    )\ngpio-459 (VCCK_PWM (PWM_C)    )\ngpio-460 (I2CA_SDA            )\ngpio-461 (I2CA_SCL            )\ngpio-462 (I2CB_SDA            )\ngpio-463 (I2CB_SCL            )\ngpio-464 (VDDEE_PWM (PWM_D)   )\ngpio-465 (                    )\ngpio-466 (HDMI_HPD            )\ngpio-467 (HDMI_I2C_SDA        )\ngpio-468 (HDMI_I2C_SCL        )\ngpio-469 (ETH_PHY_INTR        )\ngpio-470 (ETH_PHY_NRST        |PHY reset           ) out hi ACTIVE LOW\ngpio-471 (ETH_TXD1            )\ngpio-472 (ETH_TXD0            )\ngpio-473 (ETH_TXD3            )\ngpio-474 (ETH_TXD2            )\ngpio-475 (ETH_RGMII_TX_CLK    )\ngpio-476 (SD_DATA1 (SDB_D1)   )\ngpio-477 (SD_DATA0 (SDB_D0)   )\ngpio-478 (SD_CLK              )\ngpio-479 (SD_CMD              )\ngpio-480 (SD_DATA3 (SDB_D3)   )\ngpio-481 (SD_DATA2 (SDB_D2)   )\ngpio-482 (SD_CDN (SD_DET_N)   |cd                  ) in  hi ACTIVE LOW\ngpio-483 (SDC_D0 (EMMC)       )\ngpio-484 (SDC_D1 (EMMC)       )\ngpio-485 (SDC_D2 (EMMC)       )\ngpio-486 (SDC_D3 (EMMC)       )\ngpio-487 (SDC_D4 (EMMC)       )\ngpio-488 (SDC_D5 (EMMC)       )\ngpio-489 (SDC_D6 (EMMC)       )\ngpio-490 (SDC_D7 (EMMC)       )\ngpio-491 (SDC_CLK (EMMC)      )\ngpio-492 (SDC_RSTn (EMMC)     |reset               ) out hi ACTIVE LOW\ngpio-493 (SDC_CMD (EMMC)      )\ngpio-494 (BOOT_SEL            )\ngpio-495 (                    )\ngpio-496 (                    )\ngpio-497 (                    )\ngpio-498 (                    )\ngpio-499 (                    )\ngpio-500 (                    )\ngpio-501 (                    )\ngpio-502 (ETH_RXD1            )\ngpio-503 (ETH_RXD0            )\ngpio-504 (ETH_RX_DV           )\ngpio-505 (RGMII_RX_CLK        )\ngpio-506 (ETH_RXD3            )\ngpio-507 (ETH_RXD2            )\ngpio-508 (ETH_TXEN            )\ngpio-509 (ETH_PHY_REF_CLK_25MO)\ngpio-510 (ETH_MDC             )\ngpio-511 (ETH_MDIO            )\n</code></pre>"},{"location":"en/development/develop/#hdmi-loop-out","title":"HDMI Loop-out","text":"<pre><code># Set a background image\nfbi text.png -T 1 -d /dev/fb0\n\n# Clear tty\necho -e \"\\033c\" &gt; /dev/tty1\n\n# Hide cursor\necho -e \"\\033[?25l\" &gt; /dev/tty1\n\n# Output capture to the HDMI display\nustreamer-dump  --sink=kvmd::ustreamer::jpeg  --output - | ffmpeg  -use_wallclock_as_timestamps 1 -i pipe:c:v -an -pix_fmt bgr24 -f fbdev /dev/fb0\n</code></pre>"},{"location":"en/development/develop/#usb-hid-relay","title":"USB HID Relay","text":"<p>CUS_HID USB relay control code.</p> Code CPython3 <pre><code>#include &lt;linux/types.h&gt;\n#include &lt;linux/input.h&gt;\n#include &lt;linux/hidraw.h&gt;\n\n#include &lt;sys/types.h&gt;\n#include &lt;sys/ioctl.h&gt;\n#include &lt;sys/stat.h&gt;\n\n#include &lt;unistd.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdint.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;errno.h&gt;\n\nint find_usbrelay()\n{\n    int found = 0;\n    int fd = -1;\n    int result;\n    int id;\n\n    char path[32];\n\n    const struct hidraw_devinfo usb_relay_info = \n    {\n        .bustype = BUS_USB,\n        .vendor = 0x5131,\n        .product = 0x2007\n    };\n\n    struct hidraw_devinfo t_info;\n\n    for(id = 0; !found; id++) \n    {\n        sprintf(path, \"/dev/hidraw%d\", id);\n\n        fd = open(path, O_RDWR | O_NONBLOCK);\n        if (fd &lt; 0)\n            break;\n\n        result = ioctl(fd, HIDIOCGRAWINFO, &amp;t_info);\n        if (result &lt; 0)\n            break;\n\n        if ((t_info.bustype == usb_relay_info.bustype)\n        &amp;&amp; (t_info.vendor == usb_relay_info.vendor)\n        &amp;&amp; (t_info.product = usb_relay_info.product))\n        {\n            found = 1;\n            break;\n        }\n\n        close(fd);\n        fd = -1;\n    }\n\n    if (fd &gt;= 0)\n        close(fd);\n\n    return found ? id : -1;\n}\n\nint set_usbrelay_onoff(int id, int ch, int onoff)\n{\n    int fd = -1;\n    uint8_t cmd[8];\n\n    char path[32];\n\n    do\n    {\n        sprintf(path, \"/dev/hidraw%d\", id);\n\n        fd = open(path, O_RDWR | O_NONBLOCK);\n        if (fd &lt; 0)\n            break;\n\n        cmd[0] = 0xA0;\n        cmd[1] = ch;    // 1, 2\n        cmd[2] = onoff; // 0, 1\n        cmd[3] = cmd[0] + cmd[1] + cmd[2];\n\n        write(fd, cmd, 4);\n\n    } while(0);\n\n    if (fd &gt;= 0)\n        close(fd);\n\n    return 0;\n}\n\nint main(int argc, char *argv[])\n{\n    int result;\n    int id;\n    int ch;\n    int onoff;\n    char path[32];\n\n    do\n    {\n        if (argc != 3)\n        {\n            printf(\"Usage:\\n\"\n            \"\\tusbrelay ch on|off\\n\");\n            break;\n        }\n\n        ch = atoi(argv[1]);\n        if (strcmp(argv[2], \"on\") == 0)\n            onoff = 1;\n        else if (strcmp(argv[2], \"off\") == 0)\n            onoff = 0;\n        else\n            break;\n\n        id = find_usbrelay();\n        if (id &lt; 0)\n        {\n            printf(\"usbrelay not found\\n\");\n            break;\n        }\n\n        set_usbrelay_onoff(id, ch, onoff);\n\n    } while(0);\n\n    return 0;\n}\n</code></pre> <pre><code>import sys\nimport hid\n\nVENDOR_ID = 0x5131\nPRODUCT_ID = 0x2007\n\ndef find_usbrelay():\n    for device in hid.enumerate():\n        if device.get(\"vendor_id\") == VENDOR_ID and device.get(\"product_id\") == PRODUCT_ID:\n            return device\n    return None\n\ndef send_command(device_info, channel, onoff):\n    device = hid.device()\n    device.open(device_info['vendor_id'], device_info['product_id'])\n    if device is None:\n        print(\"Failed to open device.\")\n        return\n\n    try:\n        cmd = [0xA0, channel, onoff, 0xA0 + channel + onoff]\n        device.write(bytearray(cmd))\n    finally:\n        device.close()\n\ndef main():\n    if len(sys.argv) != 3:\n        print(\"Usage:\\n\"\n            \"\\tpython script.py id on|off\")\n        return\n\n    try:\n        id = int(sys.argv[1])\n        if sys.argv[2].lower() == 'on':\n            onoff = 1\n        elif sys.argv[2].lower() == 'off':\n            onoff = 0\n        else:\n            raise ValueError\n    except ValueError:\n        print(\"Invalid command, use 'on' or 'off'\")\n        return\n\n    device_info = find_usbrelay()\n    if device_info is None:\n        print(\"USB relay not found\")\n    else:\n        send_command(device_info, id, onoff)\n        print(f\"Sent command to channel {id}: {'ON' if onoff else 'OFF'}\")\n\nif __name__ == \"__main__\":\n    main()\n</code></pre> <p>References:</p> <ul> <li>Examples \u2014 HIDAPI documentation (trezor.github.io)</li> <li>Ubuntu 20.04 Drive LCUS_HID USB relay (CSDN)</li> </ul>"},{"location":"en/development/develop/#reset-usb-devices-in-linux","title":"Reset USB devices in Linux","text":"<p>If a USB device is in an abnormal state, you can reset it with the <code>usbreset</code> utility. Install it using the command appropriate for your distribution:</p> <pre><code>sudo apt install usbutils         [On Debian, Ubuntu and Mint]\nsudo yum install usbutils         [On RHEL/CentOS/Fedora and Rocky/AlmaLinux]\nsudo emerge -a sys-apps/usbutils  [On Gentoo Linux]\nsudo apk add usbutils             [On Alpine Linux]\nsudo pacman -S usbutils           [On Arch Linux]\nsudo zypper install usbutils      [On OpenSUSE]    \nsudo pkg install usbutils         [On FreeBSD]\n</code></pre> <p>After installation, reset a USB device by replacing Bus 001 Device 004 with the bus and device numbers of your USB device:</p> <p></p><pre><code>sudo usbreset /dev/bus/usb/001/004\n</code></pre> Alternatively, use the USB device ID (from lsusb output): <pre><code>sudo usbreset 090c:1000\nsudo usbreset 001:005\n</code></pre> <p>References:</p> <ul> <li>How to reset a USB device from the Linux terminal</li> </ul>"},{"location":"en/development/parts_library/","title":"Accessories","text":""},{"location":"en/development/parts_library/#onecloud-printable-case-with-built-in-hdmi-capture-kvm-capable","title":"OneCloud Printable Case with Built-in HDMI Capture (KVM-capable)","text":"<ul> <li>Author: Tubashu</li> <li>Link: https://makerworld.com.cn/zh/models/605235</li> </ul>"},{"location":"en/development/parts_library/#onecloud-case-3d-model","title":"OneCloud Case 3D Model","text":"<ul> <li>Author: \u559d\u897f\u5317\u98ce\u7684\u5a03</li> <li>Video: https://www.bilibili.com/video/BV1Wy4y1c71j</li> <li>Files: https://pan.baidu.com/s/1_jrmiiDIFf0XvhGNpeluXA?pwd=6666</li> </ul>"},{"location":"en/development/parts_library/#optocoupler-isolation-board","title":"Optocoupler Isolation Board","text":"<ul> <li>Author: \u6d69\u9f99\u7684\u7535\u5b50\u5d4c\u5165\u5f0f\u4e4b\u8def</li> </ul>"},{"location":"en/network/cloudflared/","title":"Cloudflared Tunnel","text":""},{"location":"en/network/cloudflared/#cloudflared-tunnel","title":"Cloudflared Tunnel","text":"<p>Prerequisites</p> <p>Using Cloudflare Tunnel requires that you have already added a domain in Cloudflare. For more details, see the Cloudflare Tunnel Chinese docs.</p>"},{"location":"en/network/cloudflared/#configuration-steps","title":"Configuration Steps","text":"<ol> <li> <p>Go to Cloudflare Zero Trust, click Network in the sidebar, expand and click Tunnels. In \u201cSelect connector to private resources\u201d, choose Add a tunnel, then click Next.</p> <p></p> <p></p> </li> <li> <p>Choose Add a Tunnel, click Next, enter a tunnel name, then click Save Tunnel.</p> <p></p> </li> <li> <p>Copy the installation command (select the appropriate OS and architecture)</p> <p>Notes for ARM devices</p> <p>If you are using an armhf device (e.g., OneCloud), run this first: </p><pre><code>sudo dpkg --add-architecture arm\n</code></pre> <p></p> <p></p> </li> <li> <p>Configure a public hostname</p> <ul> <li>Switch to the Public Hostnames tab</li> <li>Click Add a public hostname</li> <li>Select TCP protocol</li> <li>Enter the internal IP and port of One-KVM</li> <li>Click Save tunnel</li> </ul> </li> </ol> <p></p> <p>After configuration, you should see the running Cloudflare Tunnel:</p> <p></p> <p>Access via HTTPS</p> <p>When accessing the One-KVM web UI, you must use the <code>https://</code> scheme, for example: </p><pre><code>https://your-domain:port\n</code></pre> Using <code>http://</code> will result in a \"400 Bad Request\" error. <p></p>"},{"location":"en/network/frp/","title":"FRP Port Mapping","text":""},{"location":"en/network/frp/#frp-nat-traversal","title":"Frp NAT Traversal","text":"<p>What is Frp?</p> <p>Frp is a high-performance reverse proxy application focused on NAT traversal. It supports:</p> <ul> <li>Multiple protocols: TCP, UDP, HTTP, HTTPS, etc.</li> <li>Secure exposure of intranet services</li> <li>Either self-hosted servers or third-party providers</li> </ul>"},{"location":"en/network/frp/#installation-and-configuration","title":"Installation and Configuration","text":"<ol> <li> <p>Install the Frpc client on One-KVM: </p><pre><code>wget https://raw.githubusercontent.com/stilleshan/frpc/master/frpc_linux_install.sh &amp;&amp; chmod +x frpc_linux_install.sh &amp;&amp; ./frpc_linux_install.sh\n</code></pre> </li> <li> <p>Obtain Frp configuration</p> <ul> <li>If using a third-party provider (e.g., OpenFrp), create a tunnel and obtain the configuration</li> <li>If self-hosting, deploy the Frps server first and prepare the configuration</li> </ul> <p>Example of creating a TCP tunnel in OpenFrp: </p> <p></p> </li> <li> <p>Modify the Frpc configuration file: </p><pre><code># Edit config\nnano /usr/local/frp/frpc.toml\n\n# Restart service to apply changes\nsudo systemctl restart frpc\n\n# Check service status\nsudo systemctl status frpc\n</code></pre> </li> </ol> <p></p>"},{"location":"en/network/frp/#remote-access","title":"Remote Access","text":"<p>Access via HTTPS</p> <p>When accessing the One-KVM web UI, you must use the <code>https://</code> scheme, for example: </p><pre><code>https://your-domain:port\n</code></pre> Using <code>http://</code> will result in a \"400 Bad Request\" error. <p></p> <p>Security recommendations</p> <ul> <li>Use strong passwords for your Frp services</li> <li>Enable One-KVM Two-Factor Authentication</li> <li>Review and update Frp configuration regularly</li> </ul>"},{"location":"en/network/port_forwarding/","title":"Port Forwarding","text":"<p>If you need to access One-KVM from the Internet, the simplest way is to set up port forwarding on your router. In this case, your ISP must assign your router a public IPv4 or public IPv6 address.</p>"},{"location":"en/network/port_forwarding/#port-forwarding-configuration","title":"Port forwarding configuration","text":"<p>Security recommendations</p> <p>When exposing One-KVM services to the public Internet via port forwarding, it is strongly recommended to set a strong password and enable Two-Factor Authentication to prevent unauthorized access. If you don't have a public IP, consider tools like Frp or Tailscale for port mapping or virtual networking.</p> <p>The default web UI ports for the One-KVM integrated image are:</p> <ul> <li>HTTP: port 80 (automatically redirects to HTTPS)</li> <li>HTTPS: port 443</li> </ul> <p>The default web UI ports for the One-KVM Docker image are:</p> <ul> <li>HTTP: port 8080 (automatically redirects to HTTPS)</li> <li>HTTPS: port 4430</li> </ul> <p>In most cases, you only need to forward port 443 or 4430 to access the web management interface.</p> <p>Below is an example of configuring port forwarding in the Xiaomi router admin console.</p> <p></p> <p>Access via HTTPS</p> <p>When accessing the One-KVM web UI, you must use the <code>https://</code> scheme, for example: </p><pre><code>https://your-domain:port\n</code></pre> Using <code>http://</code> will result in a \"400 Bad Request\" error. <p></p>"},{"location":"en/network/ssl/","title":"SSL Encrypted Connection","text":""},{"location":"en/network/ssl/#replace-ssl-certificate","title":"Replace SSL Certificate","text":"<p>Self-signed by default</p> <p>One-KVM uses a self-signed certificate by default, located at <code>/etc/kvmd/nginx/ssl/</code>. Because it is self-signed, browsers will flag it as insecure. You can replace it with a trusted SSL certificate to resolve this.</p> <p>Below is an example using a free ZeroSSL certificate:</p> <ol> <li>Add your domain or IP in the ZeroSSL console and complete validation</li> <li>Download the certificate package in NGINX format</li> </ol> <p></p> <ol> <li> <p>Rename and upload the downloaded files:</p> <ul> <li>Rename the certificate file to <code>server.crt</code></li> <li>Rename the private key file to <code>server.key</code></li> <li>Upload them to One-KVM at <code>/etc/kvmd/nginx/ssl/</code></li> </ul> </li> <li> <p>Restart kvmd-nginx to apply the new certificate: </p><pre><code>sudo systemctl restart kvmd-nginx\n</code></pre> </li> </ol> <p></p> <p>Other CAs</p> <p>If you use another CA, the steps are similar. Ensure the certificate and private key file names are correct and placed in the proper directory.</p>"},{"location":"en/network/tailscale/","title":"Tailscale Mesh","text":""},{"location":"en/network/tailscale/#tailscale-mesh-networking","title":"Tailscale Mesh Networking","text":"<p>What is Tailscale?</p> <p>Tailscale is a zero-config VPN built on the WireGuard\u00ae protocol. It helps you:</p> <ul> <li>Securely access your devices from anywhere</li> <li>Avoid complex network configuration</li> <li>Protect data with end-to-end encryption</li> <li>Use across multiple platforms (Windows, macOS, Linux, iOS, Android)</li> </ul>"},{"location":"en/network/tailscale/#installation-setup","title":"Installation &amp; Setup","text":"<ol> <li> <p>Install the Tailscale client on One-KVM: </p><pre><code># Download and run the installer\ncurl -fsSL https://tailscale.com/install.sh | sh\n\n# Start Tailscale and sign in\ntailscale up\n</code></pre> </li> <li> <p>Follow the link shown in the terminal to complete sign-in authorization:</p> </li> </ol> <p></p> <ol> <li>After login, you will see the newly added device in the Tailscale admin console:</li> </ol> <p></p> <p>Tailscale device IP</p> <ul> <li>Tailscale typically assigns an IP like <code>100.x.y.z</code></li> <li>Use this IP to access your One-KVM from anywhere</li> <li>For advanced features (ACLs, subnet routing, etc.), see the official Tailscale docs</li> </ul>"},{"location":"en/start_install/2k0300_install/","title":"Loongson 2K0300","text":""},{"location":"en/start_install/2k0300_install/#hardware","title":"Hardware","text":"<p>The Loongson 2K0300-based board (JiujiuPai) uses the LoongArch architecture, 1GHz clock, supports low power, touch input, DDR4, provides Gigabit Ethernet and multiple interfaces, and is powered via USB Type-C.</p> <p>Hardware: JiujiuPai, USB HDMI capture card, CH9329+CH340 combo cable</p>"},{"location":"en/start_install/2k0300_install/#integrated-image","title":"Integrated Image","text":"<p>The One-KVM integrated image for JiujiuPai is built on Loongnix (legacy world).</p> <p>Notes</p> <p>Reminder</p> <p>Virtual USB devices such as MSD and virtual USB Ethernet are only available when using the OTG device mode. These features are NOT supported when using CH9329 HID.</p> <ul> <li>The system is Loongnix-based with One-KVM preinstalled; just access https://IP:443 after boot.</li> <li>Due to memory limits, a 1G swap is included at <code>/swap.img</code>. The root filesystem archive is ~4.8G. For TF versions, use an 8G+ high-speed card.</li> <li>OTG requires a hardware mod as per the official doc, so CH9329+CH340 is used here. The kernel includes OTG modules and gadgets; advanced users may experiment with OTG if desired.</li> <li>For TF vs Wi-Fi variants, <code>/boot/</code> contains <code>vmlinuz-tf</code> and <code>vmlinuz-wifi</code>. Rename as needed to <code>vmlinuz</code> and edit <code>boot.cfg</code> accordingly.</li> </ul> <p>Commands:</p> <pre><code>sudo fdisk -l\n# Assume TF card is /dev/sdc1\nsudo mkfs.ext4 /dev/sdc1\nmkdir /mnt/sdc1\nsudo mount /dev/sdc1 /mnt/sdc1\n# Note --strip-components=2 removes the top-level directories\nsudo tar -zvxf One-KVM_by-SilentWind_2k0300_241025.tar.gz --strip-components=2 -C /mnt/sdc1 &amp;&amp; sync\nsudo nano boot.cfg\nsudo cd /mnt/sdc1/boot\n# Rename to vmlinuz as needed, edit boot.cfg\ncp vmlinuz-tf vmlinuz\nsudo nano boot.cfg\nsudo umount /dev/sdc1\n</code></pre>"},{"location":"en/start_install/2k0300_install/#usage","title":"Usage","text":""},{"location":"en/start_install/chainedbox_install/","title":"ChainedBox","text":""},{"location":"en/start_install/chainedbox_install/#hardware","title":"Hardware","text":"<p>ChainedBox uses an RK3328 CPU with 1GB RAM and 8GB internal storage. It has a 3.5\" SATA bay, a Gigabit Ethernet port, one USB 3.0 and one USB 2.0 port (the latter can serve as OTG).</p>"},{"location":"en/start_install/chainedbox_install/#integrated-image-deployment","title":"Integrated Image Deployment","text":"<ol> <li>Prepare the One-KVM integrated image and install Rockchip Dev Tool on your PC</li> <li>Short the MASKROM pads on the board while connecting the USB dual-headed cable to the USB 2.0 port; power on to enter MASKROM mode. The tool should detect the device</li> <li>Flash the One-KVM image using the Rockchip tool. After flashing, power on and it will boot into One-KVM</li> </ol>"},{"location":"en/start_install/chainedbox_install/#usage","title":"Usage","text":"<p>Reminder</p> <p>Some low-power targets may draw power from the OTG port and enter a bad state before external power is applied. If so, cut the red 5V wire inside the USB cable.</p> <p>SSH</p> <p>Armbian enables SSH by default. Initial credentials: root/1234.</p> <p>Warning</p> <p>Do not run <code>apt upgrade</code> to upgrade the kernel/DTB. It may break OTG.</p> <p>Connections</p> <p>USB 2.0 is the OTG port for the dual-headed USB cable; USB 3.0 is for the USB HDMI capture card.</p> <p></p>"},{"location":"en/start_install/cumebox2_install/","title":"CumeBox 2","text":""},{"location":"en/start_install/cumebox2_install/#hardware","title":"Hardware","text":"<p>Cumebox 2 (aka Bitmi Box, CumeBox2 \u2014 same hardware) features an Amlogic S905X, 1GB RAM, 8GB internal storage, one 100M Ethernet port, two USB 2.0 ports, one OTG 2.0 port, two SATA 3.0 ports, dual-band Wi-Fi and Bluetooth, with TF slot and HDMI output.</p>"},{"location":"en/start_install/cumebox2_install/#integrated-image-deployment","title":"Integrated Image Deployment","text":"<p>The base image is adapted from Armbian Khadas-vim1 with DTB changes; Ethernet, OLED, Wi-Fi, and OTG all work.</p> <p>Flashing steps</p> <ol> <li>Download Android TV 6.0 firmware (as an intermediate system)</li> <li>Short specific pads on the board as shown to enter flashing mode</li> <li>Use Amlogic USB Burning Tool to flash the Android TV firmware</li> <li>Install a specific APK in Android TV so the device can boot Armbian from a USB drive or TF card</li> <li>Reboot into Armbian prepared on external media</li> <li>Finally, write the integrated image to eMMC via dd</li> </ol> <p></p> <p>Detailed guide: CumeBox2 Armbian install (ruohai.wang)</p> <p>Upgrade</p> <p>Write the latest dd image to a USB drive, plug it in, and boot to the USB system. To flash to eMMC, use dd to write the image to eMMC.</p>"},{"location":"en/start_install/cumebox2_install/#docker-deployment","title":"Docker Deployment","text":"<p>Install Docker</p> <ul> <li>Using distro packages: <pre><code>apt install apparmor-utils docker.io -y\n</code></pre></li> <li>Or the latest: <pre><code>curl -fsSL https://get.docker.com | bash\n</code></pre></li> </ul> <p>Run One-KVM in Docker </p><pre><code># Use OTG HID\n# /dev/video0 exists in the system; new USB capture cards start from /dev/video1\ndocker run --name kvmd -itd --privileged=true \\\n    -v /dev:/dev -v /sys/kernel/config:/sys/kernel/config \\\n    -v /lib/modules:/lib/modules:ro \\\n    -e OTG=1 -e VIDEONUM=1 \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    silentwind0/kvmd\n\n# After confirming it runs, enable auto-restart\ndocker logs kvmd\ndocker update --restart=always kvmd\n</code></pre> <p></p>"},{"location":"en/start_install/cumebox2_install/#usage","title":"Usage","text":"<p>Reminder</p> <p>Some low-power targets may draw power via the OTG port and enter a bad state before external power is applied. If so, cut the red 5V wire inside the USB cable.</p> <p>SSH</p> <p>Armbian enables SSH by default. Initial credentials: root/1234.</p> <p>Warning</p> <p>Do not run <code>apt upgrade</code> to upgrade the kernel/DTB. It may break OTG.</p> <p>Connections</p> <p></p> <p>OLED</p> <p>The front-panel OLED cycles through a welcome message, temperature, and IP address.</p> <p></p> <p>Wi-Fi</p> <ul> <li> <p>Install packages </p><pre><code>apt install network-manager -y\n</code></pre> </li> <li> <p>Connect to Wi-Fi </p><pre><code># Use the TUI to connect (dual-band supported)\n# After first-time setup, the box will auto-connect on reboot\nnmtui\n</code></pre> </li> </ul> <p></p> <p>ATX power control</p> <p>Cumebox 2 can use a USB HID relay for physical power control.</p> <p></p>"},{"location":"en/start_install/docker_install/","title":"Docker Deployment","text":""},{"location":"en/start_install/docker_install/#hardware-and-software-prerequisites","title":"Hardware and Software Prerequisites","text":""},{"location":"en/start_install/docker_install/#hardware-requirements","title":"Hardware Requirements","text":"Component Requirement Description Host Linux host (or VM) Docker-compatible environment Capture Card USB capture card For video signal capture Control Device USB CH340+CH9329 Only when host OTG is unavailable"},{"location":"en/start_install/docker_install/#system-compatibility","title":"System Compatibility","text":"Supported Distributions Unsupported Distributions Ubuntu/Debian CentOS Armbian Arch Linux"},{"location":"en/start_install/docker_install/#docker-installation","title":"Docker Installation","text":"<p>Choose one of the following installation methods:</p> Package ManagerOfficial Script <pre><code>apt install docker.io -y\n</code></pre> <pre><code>curl -fsSL https://get.docker.com | bash\n</code></pre>"},{"location":"en/start_install/docker_install/#hid-control-comparison","title":"HID Control Comparison","text":"Feature OTG HID CH9329 HID Architecture ARM CPU x86 Architecture Interface USB OTG port UART-to-USB HID chip Mode USB Host/Device configurable Standard USB input device Features Virtual HID, MSD, USB Ethernet Keyboard, mouse input Use Case ARM devices (e.g., Raspberry Pi) x86 devices (e.g., PC)"},{"location":"en/start_install/docker_install/#docker-deployment","title":"Docker Deployment","text":"<p>One-KVM supports using either OTG or CH9329 as virtual HID, compatible with amd64/arm64/armv7 Linux systems.</p>"},{"location":"en/start_install/docker_install/#quick-deployment","title":"Quick Deployment","text":"<p>One-KVM provides an installation wizard script that automatically checks the environment and completes deployment:</p> <pre><code>curl -sSL https://one-kvm.mofeng.run/quick_start.sh -o quick_start.sh &amp;&amp; bash quick_start.sh\n</code></pre> <p></p>"},{"location":"en/start_install/docker_install/#manual-deployment","title":"Manual Deployment","text":"<p>For custom configuration, refer to the device mapping and environment variables sections below.</p>"},{"location":"en/start_install/docker_install/#network-mode-selection","title":"Network Mode Selection","text":"<p><code>--net=host</code> mode is recommended for better WoL functionality and WebRTC communication support.</p> Network Mode Advantages Use Case Host Mode Better performance, supports WoL and WebRTC Recommended Bridge Mode Port isolation, more secure When port isolation is needed"},{"location":"en/start_install/docker_install/#host-network-mode-port-description","title":"Host Network Mode Port Description","text":"Port Protocol Service Description 8080 HTTP Web Service HTTP access port 4430 HTTPS Web Service HTTPS access port (recommended) 5900 TCP VNC Service VNC remote desktop 623 TCP IPMI Service IPMI management interface 20000-40000 TCP/UDP WebRTC Low-latency video transmission 9 UDP Wake-on-LAN Network wake functionality"},{"location":"en/start_install/docker_install/#deployment-commands","title":"Deployment Commands","text":"Host Network ModeBridge Network Mode <p>OTG HID Mode </p><pre><code>sudo docker run --name kvmd -itd --privileged=true \\\n    -v /lib/modules:/lib/modules:ro -v /dev:/dev \\\n    -v /sys/kernel/config:/sys/kernel/config -e OTG=1 \\\n    --net=host \\\n    silentwind0/kvmd\n</code></pre> <p>CH9329 HID Mode </p><pre><code>sudo docker run --name kvmd -itd \\\n    --device /dev/video0:/dev/video0 \\\n    --device /dev/ttyUSB0:/dev/ttyUSB0 \\\n    --net=host \\\n    silentwind0/kvmd\n</code></pre> <p>OTG HID Mode </p><pre><code>sudo docker run --name kvmd -itd --privileged=true \\\n    -v /lib/modules:/lib/modules:ro -v /dev:/dev \\\n    -v /sys/kernel/config:/sys/kernel/config -e OTG=1 \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    silentwind0/kvmd\n</code></pre> <p>CH9329 HID Mode </p><pre><code>sudo docker run --name kvmd -itd \\\n    --device /dev/video0:/dev/video0 \\\n    --device /dev/ttyUSB0:/dev/ttyUSB0 \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    silentwind0/kvmd\n</code></pre>"},{"location":"en/start_install/docker_install/#registry-acceleration","title":"Registry Acceleration","text":"<p>If network conditions are poor, use Aliyun registry acceleration:</p> <p>Replace <code>silentwind0/kvmd</code> with <code>registry.cn-hangzhou.aliyuncs.com/silentwind/kvmd</code></p>"},{"location":"en/start_install/docker_install/#access-and-configuration","title":"Access and Configuration","text":"<p>After deployment, access <code>https://IP:4430</code>. First visit may encounter SSL certificate security warning, click \"Advanced\" and \"Continue\" to proceed.</p> Item Value Description Default Username admin Universal account for Web/VNC/IPMI Default Password admin Universal password for Web/VNC/IPMI Troubleshooting <code>sudo docker logs kvmd</code> View container runtime logs"},{"location":"en/start_install/docker_install/#auto-start-configuration","title":"Auto-start Configuration","text":"<pre><code># Enable Docker service on boot\nsystemctl enable docker\n\n# Set One-KVM container to auto-restart\ndocker update --restart=always kvmd\n</code></pre>"},{"location":"en/start_install/docker_install/#container-updates","title":"Container Updates","text":"<pre><code># Stop and remove old container\ndocker stop kvmd\ndocker rm kvmd\n\n# Update image\ndocker pull silentwind0/kvmd\n\n# Redeploy (use previous deployment command)\n</code></pre>"},{"location":"en/start_install/docker_install/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"en/start_install/docker_install/#device-mapping","title":"Device Mapping","text":"Device Type Docker Parameter Environment Variable Description Capture Card <code>--device /dev/video0:/dev/video0</code> <code>-e VIDEONUM=0</code> Map video capture device Audio Input <code>--device /dev/snd:/dev/snd</code> <code>-e AUDIONUM=0</code> Map sound card device Graphics Card <code>--device /dev/dri:/dev/dri</code> <code>-e HWENCODER=vaapi</code> Enable hardware encoding"},{"location":"en/start_install/docker_install/#volume-mapping","title":"Volume Mapping","text":"Purpose Docker Parameter Description Configuration Persistence <code>-v ./kvmd_config:/etc/kvmd</code> Mount configuration directory Image Files <code>-v ./msd:/var/lib/kvmd/msd</code> Store system image files"},{"location":"en/start_install/docker_install/#environment-variables-configuration","title":"Environment Variables Configuration","text":""},{"location":"en/start_install/docker_install/#basic-configuration","title":"Basic Configuration","text":"Environment Variable Default Description <code>USERNAME</code> admin Set user account (Web/VNC/IPMI) <code>PASSWORD</code> admin Set user password (Web/VNC/IPMI) <code>VIDEONUM</code> 0 Capture card device number (/dev/video[N]) <code>AUDIONUM</code> 0 Audio device number (hw:[N]) <p>Password Configuration Methods</p> <p>Two configuration options:</p> <ul> <li> <p>USERNAME + PASSWORD: Create custom user and remove default admin user   </p><pre><code>-e USERNAME=myuser -e PASSWORD=mypassword\n</code></pre> </li> <li> <p>PASSWORD only: Keep admin username, only update password   </p><pre><code>-e PASSWORD=newpassword\n</code></pre> </li> </ul>"},{"location":"en/start_install/docker_install/#port-configuration","title":"Port Configuration","text":"Environment Variable Default Description <code>HTTPPORT</code> 8080 HTTP service port <code>HTTPSPORT</code> 4430 HTTPS service port"},{"location":"en/start_install/docker_install/#video-format-configuration","title":"Video Format Configuration","text":"Environment Variable Default Options Description <code>VIDEOFORMAT</code> mjpeg yuyv, nv12, nv16, nv24 Video capture format"},{"location":"en/start_install/docker_install/#audio-device-configuration","title":"Audio Device Configuration","text":"<p>View available audio devices: <code>arecord -L</code> or <code>arecord -l</code></p> Configuration Method Example Environment Variable Card Index hw:0 <code>AUDIONUM=0</code> Card Name hw:CARD=MS2109 <code>AUDIONUM=CARD=MS2109</code> Device File hw:/dev/snd/controlC0 <code>AUDIONUM=/dev/snd/controlC0</code>"},{"location":"en/start_install/docker_install/#hid-control-configuration","title":"HID Control Configuration","text":"Environment Variable Option Description <code>ATX</code> <code>USBRELAY_HID</code> Use USB HID relay for power control <code>OTG</code> <code>1</code> Enable OTG mode (disabled by default) <code>NOMSD</code> <code>1</code> Disable MSD function (enabled by default on ARM)"},{"location":"en/start_install/docker_install/#ch9329-serial-configuration","title":"CH9329 Serial Configuration","text":"Environment Variable Default Options <code>CH9329SPEED</code> 9600 1200, 2400, 4800, 9600, 14400, 19200, 38400, 57600, 115200 <code>CH9329TIMEOUT</code> 0.3 HID response timeout (seconds)"},{"location":"en/start_install/docker_install/#hardware-encoding-configuration","title":"Hardware Encoding Configuration","text":"<p>Experimental support for hardware-accelerated H.264 encoding for improved performance and lower CPU usage.</p> Hardware Type Environment Variable Device Mapping Tested Platform AMD VAAPI <code>HWENCODER=vaapi</code> <code>--device /dev/dri:/dev/dri</code> AMD Graphics RK MPP <code>HWENCODER=rkmpp</code> <code>-v /dev/:/dev/</code> RK3588S"},{"location":"en/start_install/docker_install/#feature-toggles","title":"Feature Toggles","text":"Environment Variable Function Default State <code>NOSSL=1</code> Disable HTTPS, use HTTP (port 8080) HTTPS enabled <code>NOAUTH=1</code> Disable authentication Authentication enabled <code>NOWEBTERMWRITE=1</code> Web terminal read-only mode Read-write enabled <code>NOWEBTERM=1</code> Disable web terminal Terminal enabled <code>NOVNC=1</code> Disable VNC service VNC enabled <code>NOIPMI=1</code> Disable IPMI service IPMI enabled"},{"location":"en/start_install/docker_performance/","title":"Docker performance","text":""},{"location":"en/start_install/docker_performance/#test-method","title":"Test method","text":"<pre><code># Target plays a 1080p video in a loop\n# Collect CPU utilization and generate charts\napt-get install sysstat\nsar -u 1 60 -o tmp1\nsadf -T  -g ./tmp1  --  &gt; test1.svg\n</code></pre>"},{"location":"en/start_install/docker_performance/#results","title":"Results","text":"<p>1080p30fps mjpeg/http </p> <p>Bare metal (saturated)</p> <p></p> <p>Docker (saturated)</p> <p></p> <p>720p60fps mjpeg/http</p> <p>Bare metal (stable at 48fps)</p> <p></p> <p>Docker (stable at 48fps)</p> <p></p> <p>720p30fps h.264/webrtc</p> <p>Bare metal (saturated with minor fluctuations)</p> <p></p> <p>Docker (saturated with minor fluctuations)</p> <p></p>"},{"location":"en/start_install/faq/","title":"FAQ","text":"<ol> <li> What's the difference between One-KVM and PiKVM? <p>One-KVM is developed based on PiKVM with localization and many extensions, supporting more hardware and platforms.</p> <p>See the Features section for a detailed comparison.</p> <p>For advanced configuration, refer to the PiKVM documentation, which covers advanced features in depth.</p> </li> </ol>"},{"location":"en/start_install/faq/#software","title":"Software","text":"<ol> <li> What ports does One-KVM use? <p>The integrated image listens on port 443 by default; visiting 80 will redirect to 443. The Docker version listens on port 4430 by default; visiting 8080 redirects to 4430.</p> <p>Since the SSL certificate is self-signed, browsers will mark it untrusted. You may ignore the warning or replace the NGINX SSL certificate.</p> <p>Tip</p> <p>Initial WEB and VNC credentials are admin/admin. The root password is usually set by users; if not set, try 1234.ssh default port: 22vnc default port: 5900janus ws ports: 20000-40000</p> <p>Tip</p> <p>Troubleshooting:No Signal on the web page \u2014 check hardware connections;Black screen or colored bars \u2014 verify HDMI input from the target machine;&lt;br+            BIOS screen abnormal \u2014 try enabling CSM in BIOS;Virtual mouse offset/range issues \u2014 switch to relative mouse mode from the top-right menu;Intermittent black screens after refresh \u2014 try Firefox;If none of the above helps, reboot the system; if the issue persists, open a GitHub issue or join the One-KVM group.</p> </li> <li> How to access One-KVM from the Internet? <p>If your router has a public IP, map and forward port 443 (integrated image) or 4430 (Docker). Otherwise, use NAT traversal or mesh networking services like Tailscale or FRP.</p> </li> <li> How to change the WEB login username/password? <p>Note: For integrated images, you can log in as root via HDMI or SSH. The web terminal (kvmd-webterm) is a low-privilege account without a password; it has no root privileges and cannot use <code>sudo</code>. To run privileged commands, run <code>su root</code> and enter the password.</p> <p>Example: change credentials </p><pre><code># Switch to root\nsu root\n# Add a user (replace `silentwind` with your username)\nkvmd-htpasswd set silentwind\n# Enter password when prompted\n# Delete a user\nkvmd-htpasswd del admin\n# List all users\nkvmd-htpasswd list\n# Restart services to apply changes\nsystemctl restart kvmd kvmd-nginx\n</code></pre> </li> <li> How to change the WEB service ports? <p>Edit <code>/etc/kvmd/override.yaml</code> to change HTTP/HTTPS ports (443 is the default for the web UI).  After editing, run <code>systemctl restart kvmd-nginx</code> to apply.     </p> </li> </ol>"},{"location":"en/start_install/faq/#video","title":"Video","text":"<ol> <li> Why are there unavoidable black bars around the video? <p>Check your target system settings. Adjusting the target's resolution to match the web UI may help. </p> </li> <li> BIOS/UEFI display issues or wrong resolution? <p>Some motherboards display BIOS at a low resolution or with rendering issues. This can often be resolved by enabling Compatibility Support Module (CSM) in BIOS. See the video tutorial below (excerpt from Bilibili: \u55b5\u55b5\u6298-\u75db\u5931\u7f51\u540d\u7248):</p> <p></p> <p>If you cannot or do not want to enable CSM, try connecting a DisplayPort (DP) monitor or dummy plug. If that still doesn't work, try: connect DP cable, boot to BIOS, disable CSM and shut down (do not reboot). Then boot to BIOS again, enable CSM, shut down, connect HDMI, and power on again.</p> </li> </ol>"},{"location":"en/start_install/faq/#system","title":"System","text":"<ol> <li> How to set a static IP? <p>Use the TUI tools <code>nmtui</code> or <code>armbian-config</code>.</p> </li> <li> How to change the MAC address? <p>Non-OneCloud devices: use <code>nmtui</code>.</p> <p>OneCloud has special constraints and cannot use <code>nmtui</code> directly (doing so may prevent DHCP). Methods differ by version:</p> Version 240118 and later <p>Edit <code>/etc/systemd/network/99-eth0.network</code> to set the MAC.</p> Version 240138 to 240104 <p></p><pre><code># Replace NetworkManager with systemd-networkd\necho -e '[Match]\\nName=eth0\\n\\n[Network]\\nDHCP=yes\\n\\n[Link]\\nMACAddress=2a:01:3d:ef:b8:e1' &gt; /etc/systemd/network/99-eth0.network\nsystemctl mask NetworkManager\nsystemctl unmask systemd-networkd\nsystemctl enable systemd-networkd systemd-resolved\n</code></pre> Then edit <code>/etc/systemd/network/99-eth0.network</code> to adjust the MAC if needed.  Earlier to 240121 <pre><code># Quick commands\nMAC=\"$(echo 2a:01:`openssl rand -hex 4 | sed 's/\\(..\\)/\\1:/g; s/.$//'`)\"\necho $MAC\n# The following replacement only works once; edit manually thereafter\nsed -ie \"s/#hwaddress ether/hwaddress ether $MAC/g\" /etc/network/interfaces\nreboot\n</code></pre> </li> <li> How to connect a USB Wi-Fi dongle? <p>For OneCloud, images by the author and hzytic already include common drivers, so typical USB Wi-Fi dongles are plug-and-play. For other hardware, verify driver support yourself. </p><pre><code>nmtui\n</code></pre> </li> <li> How to change the OneCloud front-panel LED color? <p>On kernel 5.9 systems, the commands <code>green_on</code>, <code>red_on</code>, <code>bule_on</code>, <code>green_off</code>, <code>red_off</code>, <code>bule_off</code> are available.</p> <p>On kernel 6.x systems, control LEDs with 0/1 (off/on): </p><pre><code>echo 0 &gt; /sys/class/leds/onecloud:red:alive/brightness\necho 0 &gt; /sys/class/leds/onecloud:blue:alive/brightness\necho 0 &gt; /sys/class/leds/onecloud:green:alive/brightness\n</code></pre> </li> <li> How to change the Cumebox 2 front-panel LED color? <p>Control LEDs with 0/1 (off/on):</p> <pre><code>echo 0 &gt; /sys/class/leds/red/brightness\necho 0 &gt; /sys/class/leds/blue/brightness\necho 1 &gt; /sys/class/leds/green/brightness\n</code></pre> </li> <li> After flashing the integrated image to OneCloud, LAN access is extremely slow (second-level latency). How to fix? <p>This rare compatibility issue (about 2%) can be fixed by changing the DTB NIC mode from \"rgmii-id\" to \"rgmii-rxid\". Reboot after changes. </p><pre><code>dtc -I dtb -O dts /boot/dtb/meson8b-onecloud.dtb -o meson8b-onecloud.dts\nnano meson8b-onecloud.dts\ndtc -I dts -O dtb meson8b-onecloud.dts -o /boot/dtb/meson8b-onecloud.dtb\nreboot\n</code></pre> <pre><code>    pinctrl-names = \"default\";\n\n    phy-handle = &lt;&amp;eth_phy&gt;;\n-   phy-mode = \"rgmii-id\";\n+   phy-mode = \"rgmii-rxid\";\n\n    mdio {\n        compatible = \"snps,dwmac-mdio\";\n</code></pre> </li> <li> apt update fails with time-related errors? <p>Check connectivity and sources first; then try changing mirrors.</p> <p>If you see <code>E: Release file for xxx is not valid yet (invalid for another 4d 3h 56min 24s). Updates for this repository will not be applied.</code>, run: </p><pre><code>sudo apt install ntp \nsudo service ntp restart \n</code></pre> </li> </ol>"},{"location":"en/start_install/octopus-flanet_andriod_install/","title":"Octopus Planet (Android - HW Encode)","text":""},{"location":"en/start_install/octopus-flanet_andriod_install/#highlights","title":"Highlights","text":"<ol> <li>Android-based (Khadas vim2 Android 9) with hardware encoding support</li> <li>Customized kernel, removes the 2.2G ISO size limit</li> <li>KVM software runs in a chroot container; most Debian packages work; Docker is not supported</li> </ol>"},{"location":"en/start_install/octopus-flanet_andriod_install/#installation","title":"Installation","text":"<p>Short pads</p> <p>Short pads for the silver Octopus Flanet version:</p> <p></p> <p>Short pads for the black Octopus Flanet version (discovered by the author):</p> <p></p> <p>Flashing</p> <p>Insert the dual-headed USB cable into the USB port closer to HDMI. Open USB_Burning_Tool and load <code>One-KVM_by-SilentWind_Octopus-Flanet_250315.burn.img</code>, then short the flashing pads to start.</p> <p></p>"},{"location":"en/start_install/octopus-flanet_andriod_install/#usage","title":"Usage","text":"<p>KVM Remote Control</p> <p>The USB port near HDMI supports OTG. Connect it to the target host. Connect the other USB port to the USB capture card.</p> <p>The web UI listens on 4430, H.264 hardware encoding is supported.</p> <p></p> <p>The web terminal is supported. After installing htop in the terminal, you can see that H.264 uses Android MediaCodec via the FFmpeg API instead of CPU encoding.</p> <p></p> <p>Remote debugging</p> <p>SSH is not installed; SSH connections are not supported.</p> <p>Control the chroot system via the web terminal. Android supports ADB over network, for example:</p> <pre><code># Connect ADB (example IP 192.168.10.104)\n./adb.exe connect 192.168.10.104\n# Android shell; \"su\" is available\n./adb.exe shell\n# Android screen casting\n./scrcpy.exe\n</code></pre> <p></p>"},{"location":"en/start_install/octopus-flanet_andriod_install/#notes","title":"Notes","text":"<p>As a technical validation, this image demonstrates a practical approach: for platforms lacking Linux hardware video encoding, you can switch to Android to gain hardware encoding and use it in production.</p> <p>This image was last built on 2025-03-15. Due to low interest, planned SSH and Docker support were dropped; they are unsupported by default and likely won't be added later.</p>"},{"location":"en/start_install/octopus-flanet_install/","title":"Octopus Planet","text":""},{"location":"en/start_install/octopus-flanet_install/#hardware","title":"Hardware","text":"<p>The Octopus Flanet box features an S912 octa-core CPU, 2GB RAM, and 8GB internal storage. It has a Gigabit Ethernet port, two USB 2.0 ports, a TF slot, and HDMI output.</p>"},{"location":"en/start_install/octopus-flanet_install/#integrated-image-deployment","title":"Integrated Image Deployment","text":"<ol> <li>Flash a minimal Android TV firmware using USB_Burning_Tool</li> <li>Write the One-KVM integrated image to a USB drive and plug it into the USB 2.0 port near the QR code</li> <li>After Android boots, connect via <code>adb connect &lt;ip&gt;</code> and run <code>adb reboot update</code> to boot from the USB drive (first time only)</li> <li>Once booted from USB, SSH in and run <code>armbian-install</code> (choose the correct model, e.g., 202/1-partition) to install to EMMC</li> </ol> Boot from USB1 port <p>If the device fails to boot from USB2, you can boot from USB1:</p> <p>After writing the image to the USB drive, edit <code>uEnv.txt</code> in the BOOT partition root, replace <code>FDT=/dtb/amlogic/meson-gxm-khadas-vim2.dtb</code> with <code>FDT=/dtb/amlogic/meson-gxm-q200.dtb</code>. Then edit <code>etc/rc.local</code> in the ROOTFS partition and comment out the second line by prefixing <code>#</code>.</p> <p>After successfully booting from USB1 and logging in, edit <code>/etc/rc.local</code> again to remove the <code>#</code> from the second line, save, and then run <code>armbian-install</code> to write to EMMC.</p> <p>Install example: </p>"},{"location":"en/start_install/octopus-flanet_install/#usage","title":"Usage","text":"<p>Reminder</p> <p>Some low-power targets may draw power via OTG before external power is applied and enter a bad state. Cut the red 5V wire inside the USB cable to avoid this.</p> <p>SSH</p> <p>Armbian enables SSH by default. Initial credentials: root/1234.</p> <p>Warning</p> <p>Do not run <code>apt upgrade</code> to upgrade the kernel/DTB. It may break OTG.</p> <p>Connections</p> <p>The USB port near the Ethernet jack is OTG for the dual-headed cable; the port near the QR code is for the USB HDMI capture card.</p> <p></p> <p>Screenshots</p> <p></p>"},{"location":"en/start_install/onecloud_guide/","title":"OneCloud Kit Guide","text":""},{"location":"en/start_install/onecloud_guide/#onecloud-kit-guide","title":"OneCloud Kit Guide","text":"<p>Note</p> <p>This page documents an early One-KVM kit sold by the author and is archived. Content is no longer updated.</p>"},{"location":"en/start_install/onecloud_guide/#hardware","title":"Hardware","text":""},{"location":"en/start_install/onecloud_guide/#connections","title":"Connections","text":"<p>Insert the USB HDMI capture card into the USB port near the Ethernet jack. Connect HDMI to the capture card, and the dual-headed USB cable to the USB port next to HDMI. Plug in Ethernet and power.</p> <p>On the target machine, connect HDMI and the dual-headed USB cable to the corresponding ports.</p> <p>Reminder</p> <p>Reversing USB connections will break PiKVM remote control features.</p> <p>Tip</p> <p>Some low-power targets may draw power via the dual-headed USB cable and enter a bad state before external power is applied. If so, cut the red 5V wire inside the dual-headed USB cable.</p> <p>Tip</p> <p>Initial WEB/VNC: admin/admin. root is set by users; if unset, try 1234.ssh: 22web: 80, 443vnc: 5900janus ws (default off): 5009</p> <p>Tip</p> <p>Troubleshooting:No Signal \u2014 check cabling;Black screen or color bars \u2014 verify HDMI input;&lt;br+    BIOS abnormal \u2014 enable CSM in BIOS;Mouse offset/range \u2014 switch to relative mode in the top-right menu;Intermittent black screen after refresh \u2014 try Firefox;If unresolved, reboot OneCloud; if still broken, open an issue or ask in the group.</p>"},{"location":"en/start_install/onecloud_guide/#msd","title":"MSD","text":"<p>Mass Storage Drive allows remote uploads and image mounting. CD-ROM images are limited to 2.2G by Linux; FLASH has no limit.</p> <p>Warning</p> <p>Do not use Disconnect when the dual-headed USB cable is unplugged from the target or the target is powered off, or the kernel will continually log errors and MSD will remain unavailable until OTG recovers.</p>"},{"location":"en/start_install/onecloud_guide/#atx-power","title":"ATX Power","text":"<p>To use ATX power control, connect the power switch cable (dark wire to pin 9 GND, light wire to power pin; color pairs like black/white, brown/red, orange/yellow represent negative/positive). Extension cables are not color-coded.</p> <p></p> <p></p>"},{"location":"en/start_install/onecloud_install/","title":"OneCloud","text":""},{"location":"en/start_install/onecloud_install/#hardware","title":"Hardware","text":"<p>Required: OneCloud device, USB HDMI capture card, USB dual-headed cable</p> <p>Optional: TF card (storage expansion), TTL-to-USB adapter (debugging)</p>"},{"location":"en/start_install/onecloud_install/#integrated-image-deployment","title":"Integrated Image Deployment","text":"<p>Image types</p> <ul> <li>USB Burning (suffix <code>burn</code>): for Amlogic USB Burning Tool. Use v2.1.3 or earlier</li> <li>USB drive/SD card boot image: write directly to a USB drive or SD card</li> </ul> <p>Video tutorial</p> <p>See Bilibili: \u590f\u79cbBH6RRB.</p> <p>Notes</p> <p>During shorting for flashing, you can release after the tool recognizes the device (around 1%). Images below courtesy of \u84dd\u84dd from the OneCloud community.</p> <p></p> <p>After flashing the direct-write image, networking defaults to DHCP with hostname <code>onecloud</code>. The front-panel LED turns from red to green during boot. Access the device in your browser via its IP.</p> <p></p> <p>For subsequent flashing, hold the reset button while powering on to enter flash mode (no need to short again).</p>"},{"location":"en/start_install/onecloud_install/#usage","title":"Usage","text":"<p>Connections</p> <ol> <li>Plug the USB HDMI capture card into the USB port near the Ethernet jack; connect HDMI from target to capture card</li> <li>Plug the dual-headed USB cable into the USB port next to the HDMI port; connect the other end to the target</li> <li>Ensure cables are secure; connect power and network</li> </ol> <p>Reminder</p> <p>Some low-power targets may draw power via the dual-headed USB cable and enter a bad state before external power is applied. If so, cut the red 5V wire inside the dual-headed USB cable.</p> <p></p> <p>SSH</p> <p>Armbian enables SSH by default. Initial credentials: root/1234. Change the default password immediately.</p> <p>Warning</p> <p>Do not run <code>apt upgrade</code> to upgrade the kernel/DTB. It may break OTG.</p> <p>ATX Power</p> <p>To use ATX power control, connect the power switch cable.</p> <p></p>"},{"location":"en/start_install/orangepizero_install/","title":"Orange Pi Zero","text":""},{"location":"en/start_install/orangepizero_install/#hardware","title":"Hardware","text":"<p>Orange Pi Zero uses the Allwinner H2/H3+ (quad-core A7). It integrates a 100M Ethernet port, onboard Wi-Fi, onboard storage, USB OTG power, and a USB 2.0 port.</p> <p>Note: Power and OTG data share the same Micro-USB port. A power/data splitter cable is recommended.</p>"},{"location":"en/start_install/orangepizero_install/#docker-deployment","title":"Docker Deployment","text":"<p>First, write Armbian to an SD card. This guide uses <code>Armbian_23.02.0-trunk_Orangepizero_jammy_current_5.15.85_msd-patched.img</code> and deploys One-KVM via Docker.</p> <p>Armbian image: <code>Armbian_23.02.0-trunk_Orangepizero_jammy_current_5.15.85_msd-patched.zip</code></p> <p></p> <p>After booting, run:</p> <pre><code># Prevent auto-loading g_serial\necho \"\" &gt; /etc/modules-load.d/modules.conf\nreboot\n\n# Install One-KVM with Docker\napt update\napt install docker.io\ndocker run --name kvmd -itd --privileged=true \\\n    -v /dev:/dev -v /sys/kernel/config:/sys/kernel/config \\\n    -v /lib/modules:/lib/modules:ro -e OTG=1 \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    silentwind0/kvmd\n# Enable auto-restart\ndocker update --restart=always kvmd\n</code></pre> <p>Result:</p> <p></p>"},{"location":"en/start_install/orangepizero_install/#others","title":"Others","text":"<p>Reminder</p> <p>With a power/data splitter cable, some low-power targets may draw power and enter a bad state before external power is applied. Cut the red 5V wire in the USB data cable to avoid this.</p> <p>SSH</p> <p>Armbian enables SSH by default. Initial credentials: root/1234. For Orange Pi official images, default is root/orangepi.</p> <p>Warning</p> <p>Do not run <code>apt upgrade</code> to upgrade the kernel/DTB. It may break OTG.</p> <p>Wi-Fi</p> <p>To connect 2.4G Wi-Fi, run:</p> <pre><code>nmtui\n</code></pre>"},{"location":"en/start_install/s905l3a_install/","title":"S905l3a Box","text":""},{"location":"en/start_install/s905l3a_install/#hardware-notes","title":"Hardware Notes","text":"<p>Warning</p> <p>This One-KVM image has been tested on ZTE B863AV3.2M and CM311-1a-CH. Other S905L3A boxes may not be fully compatible. If incompatible, consider the Docker-based deployment below.</p> <p>When using <code>armbian-install</code>, the following devices/DTBs are supported:</p> <pre><code>--------------------------------------------------------------------------------------\nID    SOC        MODEL                               DTB                                               \n--------------------------------------------------------------------------------------\n301   s905x2     X96-Max-4GB,Tx5-Max                 meson-g12a-x96-max.dtb                            \n302   s905x2     X96-Max-2GB,A95X-F2                 meson-g12a-x96-max-rmii.dtb                       \n303   s905x2     MECOOL-KM3-4G                       meson-g12a-sei510.dtb                             \n304   s905l3a    E900V22C-D,CM311-1a-CH,IP112H       meson-g12a-s905l3a-e900v22c.dtb                   \n305   s905l3a    CM311-1a-YST                        meson-g12a-s905l3a-cm311.dtb                      \n306   s905l3a    M401A,UNT403A,B863AV3.2-M           meson-g12a-s905l3a-m401a.dtb                      \n0     Other      Customize                           Enter-custom-dtb-name                              \n--------------------------------------------------------------------------------------\n</code></pre>"},{"location":"en/start_install/s905l3a_install/#integrated-image-deployment","title":"Integrated Image Deployment","text":"<ol> <li>Write the integrated image to a USB drive or TF card</li> <li>Boot into Android TV</li> <li>In Android TV, obtain ROOT and install an APK to switch boot to external media (USB/TF)</li> <li>Use the APK to boot into Armbian from external media, then run <code>armbian-install</code> to install to eMMC using the correct model</li> </ol> <p>Install example: </p>"},{"location":"en/start_install/s905l3a_install/#docker-deployment","title":"Docker Deployment","text":"<ol> <li>Flash a ROOT-capable Android and install the APK to switch external boot</li> <li>Prepare a bootable Armbian on a USB drive; boot it using Android</li> <li>Use <code>armbian-install</code> to write Armbian to eMMC</li> <li>Replace package mirrors; install Docker</li> <li>Run One-KVM in Docker, ensure the OTG port is set to device mode, and make it start at boot. After confirming the container is healthy, enable Docker and container autorun</li> </ol> <p>Commands:</p> <ul> <li>Run the kvmd container <pre><code>sudo docker run --name kvmd -itd --privileged=true \\\n    -v /lib/modules:/lib/modules:ro -v /dev:/dev \\\n    -v /sys/kernel/config:/sys/kernel/config -e OTG=1 -e VIDEONUM=1 \\\n    -p 8080:8080 -p 4430:4430 -p 5900:5900 -p 623:623 \\\n    registry.cn-hangzhou.aliyuncs.com/silentwind/kvmd\n</code></pre></li> <li> <p>Set OTG to device mode </p><pre><code># Enable OTG device mode\nsudo echo device &gt; /sys/class/usb_role/ffe09000.usb-role-switch/role\n# Add the above to /etc/rc.local\nsudo nano /etc/rc.local\n# Make executable\nsudo chmod +x /etc/rc.local\n</code></pre> </li> <li> <p>Enable autorun </p><pre><code>sudo systemctl enable docker\nsudo docker update --restart=always kvmd\n</code></pre> </li> </ul>"},{"location":"en/start_install/synology_install/","title":"Synology NAS","text":""},{"location":"en/start_install/synology_install/#driver-preparation","title":"Driver Preparation","text":"<p>In Synology DSM: Control Panel -&gt; Terminal &amp; SNMP -&gt; Terminal, enable SSH and connect via SSH.</p> <p></p> <p>Follow the guide Compile extra kernel drivers for Synology NAS to add required drivers. If you skip this step, you cannot proceed.</p> <p>Use <code>ls /dev | grep -E \"video|ttyUSB\"</code>. If entries are present, you are ready. You can then disable SSH in the same Control Panel page.</p> <p></p>"},{"location":"en/start_install/synology_install/#docker-deployment","title":"Docker Deployment","text":"<p>Note</p> <p>Virtual USB devices such as MSD and USB Ethernet are only available in OTG device mode. These features are NOT supported with CH9329 HID.</p> <p>Open Container Manager, create a new project. After setting the name and path, create a docker-compose.yml and paste the following, then Next. You can skip changing Web Portal settings. Finish and wait for the container to start.</p> <p>After the container starts, visit https://NASIP:4430. Default credentials are <code>admin/admin</code>. For more environment variables, see Docker deployment.</p> <pre><code>version: '3.7'\nservices:\n    kvmd:\n        image: registry.cn-hangzhou.aliyuncs.com/silentwind/kvmd\n        ports:\n        - \"8080:8080\"\n        - \"4430:4430\"\n        - \"5900:5900\"\n        - \"623:623\"\n        devices:\n        - \"/dev/video0:/dev/video0\"\n        - \"/dev/ttyUSB0:/dev/ttyUSB0\"\n</code></pre> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>Result</p> <p></p>"},{"location":"en/start_install/synology_ko/#preface","title":"Preface","text":"<p>Synology DSM is Linux-based but customized for NAS usage and may lack certain kernel modules needed for other applications. This article explains how to compile kernel modules for Synology.</p> <p>First, identify which modules you need. To deploy One-KVM in Docker on NAS, we need UVC (USB video) and CH340 (USB serial) drivers so DSM can recognize the USB capture card and USB serial adapter. The image below shows the final result: the driver stack loads and device nodes appear.</p> <p></p>"},{"location":"en/start_install/synology_ko/#info","title":"Info","text":"<p>Synology open-source archive: Synology Archive Download Site - Index of /download</p> <p>You can download most sources here (kudos to Synology). To compile modules, you only need the toolchain and kernel source. Download the versions matching your model and DSM version.</p> <p>Enable SSH and run <code>uname -a</code> to get kernel info: <code>Linux MofengNAS 4.4.302+ #72803 SMP Mon Aug 19 19:59:09 CST 2024 x86_64 GNU/Linux synology_apollolake_218+</code>. In DSM Control Panel -&gt; Info Center, note the DSM version, e.g., <code>DSM 7.2.2-72803</code>. This is important.</p> <p></p> <p>Then download the matching Linux kernel source and toolchain. Kernel sources are under <code>ToolChain/Synology NAS GPL Source/&lt;DSM version&gt;</code>, toolchains under <code>ToolChain/toolchain/&lt;DSM version&gt;</code>. The following screenshots and commands are for the author's NAS; adjust for your system.</p> <p></p> <p></p> <pre><code># Download\nwget https://global.synologydownload.com/download/ToolChain/Synology%20NAS%20GPL%20Source/7.2-64570/apollolake/linux-4.4.x.txz\nwget https://global.synologydownload.com/download/ToolChain/toolchain/7.2-72746/Intel%20x86%20Linux%204.4.180%20%28Apollolake%29/apollolake-gcc1220_glibc236_x86_64-GPL.txz\n\n# Extract\ntar xJvf apollolake-gcc1220_glibc236_x86_64-GPL.txz\ntar xJvf linux-4.4.x.txz\n</code></pre>"},{"location":"en/start_install/synology_ko/#build","title":"Build","text":"<p>Enable module options</p> <p>Use Ubuntu to build modules; compiling directly on DSM is cumbersome due to dependencies. Here we use WSL2.</p> <p>In <code>linux-4.4.x</code>, copy the config for your model from <code>synoconfigs</code> (do not skip), then enable options in menuconfig. Use <code>/</code> to search dependencies.</p> <pre><code>cd linux-4.4.x/\nls synoconfigs\ncp synoconfigs/apollolake .config\nmake menuconfig\n</code></pre> <p></p> <p></p> <p></p> <p>Enable the required options, save and exit.</p> <p></p> <p></p> <p></p> <p>Compile</p> <p>Important: the module <code>vermagic</code> must match the kernel. By default, the compiled module misses a trailing <code>+</code>, causing insmod to fail, as shown below. Later, verify modules with <code>sudo insmod &lt;file&gt;.ko</code> and <code>sudo dmesg</code>.</p> <p></p> <p>Edit the top of the kernel <code>Makefile</code> to match the Synology kernel version so that <code>vermagic</code> matches.</p> <p></p> <p>Now build using Synology's gcc toolchain (not the system gcc). Install missing deps as needed.</p> <pre><code># Prep; building directly will fail\nmake clean\nmake -j4 CROSS_COMPILE=../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu- prepare\nmake -j4 CROSS_COMPILE=../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu- scripts\n\n# Build ko modules\nmake -j4 CROSS_COMPILE=../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu- -C . M=drivers/media/v4l2-core modules\nmake -j4 CROSS_COMPILE=../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu- -C . M=drivers/media/usb/uvc modules\nmake -j4 CROSS_COMPILE=../x86_64-pc-linux-gnu/bin/x86_64-pc-linux-gnu- -C . M=drivers/usb/serial modules\n</code></pre> <p>You will get the following files. Copy them to <code>/lib/modules</code> on the NAS, run <code>sudo depmod -a</code>, and load drivers or reboot. The USB devices should be recognized.</p> <pre><code>videodev.ko\nvideobuf2-core.ko\nv4l2-common.ko\nvideobuf2-v4l2.ko\nvideobuf2-memops.ko\nvideobuf2-vmalloc.ko\nuvcvideo.ko\nch341.ko\n</code></pre> <p></p>"},{"location":"en/start_install/synology_ko/#references","title":"References","text":"<p>Set up a Synology DSM dev environment and compile drivers</p>"},{"location":"en/start_install/virtualmachine_install/","title":"Virtual Machine Deployment","text":""},{"location":"en/start_install/virtualmachine_install/#getting-started","title":"Getting Started","text":"<p>The One-KVM VM bundle is a preinstalled virtual disk with One-KVM. Create a VM from this disk and pass through the USB devices to use One-KVM. This guide demonstrates VMware; VirtualBox is similar.</p> <p>Required software: VMware or VirtualBox</p> <p>Required peripherals: USB HDMI capture card, CH340+CH9329 USB combo cable</p> <p>Minimum VM: 1 vCPU, 512 MB RAM</p>"},{"location":"en/start_install/virtualmachine_install/#vmware","title":"VMware","text":""},{"location":"en/start_install/virtualmachine_install/#create-a-vm","title":"Create a VM","text":"<p>Extract the disk first. In VMware Workstation Pro, File -&gt; New Virtual Machine, choose Custom (Advanced), Next. Keep default compatibility, Next.</p> <p></p> <p></p> <p>Choose \"I will install the operating system later\". Guest OS: Linux. Next. Name the VM and choose a location. Next.</p> <p></p> <p></p> <p></p> <p>Choose CPU and memory as needed (min 1/512 MB). Network: choose as needed; Bridged is recommended. Keep default I/O controller and virtual disk type.</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>Select \"Use an existing virtual disk\". Choose the extracted disk. Keep the disk format. Finish (do not start yet).</p> <p></p> <p></p> <p></p>"},{"location":"en/start_install/virtualmachine_install/#edit-settings","title":"Edit settings","text":"<p>In the VM home, Edit virtual machine settings. Set USB Controller -&gt; USB compatibility to USB 3.1. In Options -&gt; Advanced, set Firmware type to UEFI. Optionally enable \"Disable side-channel mitigations for Hyper-V hosts\" to reduce overhead.</p> <p></p> <p></p>"},{"location":"en/start_install/virtualmachine_install/#start-the-vm","title":"Start the VM","text":"<p>Plug the USB HDMI capture card and CH340+CH9329 combo cable into the host. Start the VM and pass these two USB devices through to the VM.</p> <p></p> <p></p>"},{"location":"en/start_install/virtualmachine_install/#usage","title":"Usage","text":"<p>Visit the VM IP in a browser. On first visit, trust the self-signed certificate. Default credentials: admin/admin.</p> <p></p> <p></p> <p></p>"},{"location":"en/start_install/virtualmachine_install/#others","title":"Others","text":"<p>If the VM in bridged mode gets no IP, the auto-bridging may have chosen the wrong NIC. Fix it in the Virtual Network Editor.</p> <p></p>"}]}